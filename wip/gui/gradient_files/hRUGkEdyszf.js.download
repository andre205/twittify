if (self.CavalryLogger) { CavalryLogger.start_js(["pNue+"]); }

__d("SimpleNUXMessageTypes",[],(function a(b,c,d,e,f,g){f.exports={AD_CANVAS_EDITOR_SWIPE_TO_OPEN:"1088399387945919",AD_CANVAS_EDITOR_TOOLBAR_NUX:"1733450480268575",AD_STUDY_POWER_CALCULATOR_V2_NUX:"902884353135091",ADHAWK_NEW_USER_GUIDE:"172316909925943",ADLITMUS_CONTEXTUAL_FILTER:"1241923179228807",ADLITMUS_CONTEXTUAL_FILTER_2:"960324240770046",ADLITMUS_DISAPPROVAL_CHART:"669286016585000",ADLITMUS_METRIC_SELECTOR:"995282707283022",ADLITMUS_OVERVIEW_BUTTONS:"1470674259618716",ADLITMUS_OVERVIEW_COLUMN_BUTTON:"978496702250952",ADLITMUS_OVERVIEW_COLUMN_BUTTON_2:"1170176333079647",ADLITMUS_POCILY_DOCUMENT:"1869055203378228",ADS_AUDIENCE_SHARING_NUX:"1789086031311051",ADS_BUSINESS_ACTIVITY_FEED_NUX:"849351935208523",ADS_CF_LOCAL_TARGETING_NUX:"798810653560813",ADS_CF_MOBILE_APP_INSTALLS_CATALOG_NUX:"728822493950056",ADS_CONVERSION_WINDOW_DROPDOWN_NUX:"1817623761817619",ADS_DATE_COMPARISON_DATE_PICKER_NUX:"685948288232047",ADS_DAY_PARTING_TIMEZONE_NUX:"247476535702294",ADS_DELIVERY_DASH_ENTRY_POINT_NUX:"1824865001088063",ADS_DPA_OFFSITE_CONVERSION_DEFAULT:"1058542194184213",ADS_DYNAMIC_LOCAL_AWARENESS_UPSELL:"180996948924978",ADS_DYNAMIC_LOCAL_AWARENESS_USE_TOKENS:"1535166470146858",ADS_INSIGHTS_DMA_BREAKDOWN_NUX:"1598599046824747",ADS_INSIGHTS_LINK_CLICK_DESTINATION_BREAKDOWN_NUX:"479078355817017",ADS_OFFER_SWITCH_BLUE_TIP:"666470406879195",ADS_PE_SIDEPANE_UPDATES_NUX:"259358534521664",ADS_PROBABILISTIC_PACER_NUX:"590450231150410",ADS_REPORTING_ACCOUNT_OVERVIEW_NUX:"1814175038845604",ADS_REPORTING_COLUMN_SUGGESTIONS_NUX:"1099582153501373",ADS_REPORTING_DATE_COMPARISON_EXPORT_NUX:"301296300267531",ADS_REPORTING_DATE_COMPARISON_TABLE_NUX:"940995439364307",ADS_STORE_VISIT_INSIGHTS_METRIC_CHANGE_2017_03_30:"417471498622749",ADS_STORE_VISIT_INSIGHTS_METRIC_CHANGE_2017_04_16:"1823674441288928",ADS_STORE_VISITS_OBJECTIVE_UPSELL:"299755653712594",ADS_TARGETING_BEST_PERFORMING_DESCRIPTOR:"627419454089322",ADS_TARGETING_CUSTOM_AUDIENCE_CREATION_MENU:"951445441641663",ADS_TARGETING_CUSTOM_AUDIENCE_NUX:"476707339197159",ADS_TARGETING_PAGE_LAL_NUX:"1103767696336249",ADS_TARGETING_SUGGESTION_NUX:"1719099461698096",ADS_WCA_ADVANCED_NUX:"499230403617848",ANALYTICS_CUSTOM_DASHBOARDS_PIN_NUX:"1867718276817428",ANALYTICS_NEW_EVENT_SOURCE_GROUP_BUTTON:"121331125079600",APP_REVIEW_COMMENTS_NUX:"1632649840328509",ARCADE_RHC_DOWNLOAD_UNIT_NUX:"1734071506875325",AUDIENCE_INLINE_SAVE_NUX:"387683724758581",AVERAGE_PRICE_PACING_NUX:"256331691368624",BOOST_POST_DELIVERY_TYPE_NUX:"1123576301036863",BOOSTED_COMPONENT_CTA_SELECTOR_NUX:"149361148834083",BOOSTED_COMPONENT_INSTAGRAM_LIBRARY:"1109521299111498",BOOSTED_LOCAL_AWARENESS_SAVE_CTA_NUX:"176805122743554",BULK_EDITING_PREVIEW:"1719220711641440",CANVAS_DRAGGABLE_COMPONENTS:"788423921300532",CF_BRAND_STUDY_NUX:"130406080680692",CF_DEFAULT_MPA_NUX:"1630553150535001",CF_SLIDESHOW_OBJECTIVE_NUX:"707154356087550",CIC_CAROUSEL_CARD:"762809470522872",CIVIC_ENGAGEMENT_ISSUE_TAGGER:"1881957508758286",CMS_EDITOR_AUTOSAVE_INTRO:"1333265340036015",CMS_EDITOR_DUPLICATE_BUTTON:"1816847535213663",CMS_EDITOR_ERROR_MESSAGE_RED_DOT:"543132379216561",CMS_EDITOR_KEYBOARD_SHORTCUTS_BUTTON:"1315068478533683",CMS_EDITOR_LOCALE_SWITCHER_NUX:"392206391156099",CMS_EDITOR_MEDIA_GROUP_MANAGER_BUTTON:"1204201476282432",CMS_HISTORY_REVERT_LINK_NUX:"651145288381986",CMS_SEARCH_AND_REPLACE_IGNORE_CASE_CHECKBOX:"407488016284957",CMS_SEARCH_COMPONENT_NUX:"1765875226969195",CMS_SEARCH_NUX_TOUR:"587356531436785",CMS_SNIPPETS_BUTTON_NUX:"314858175560645",CMS_TAG_EXPLORER_NUX_TOUR:"1064871376962611",COMMERCE_MN_BOT_NUX:"313627252311314",CONNECTIONS_SECTION:"434002046758336",CONNECTIONS_SECTION_WITHOUT_VIDEO:"1540728442877433",CREATE_NEW_ENGAGEMENT_AUDIENCE_NUX:"558011581034402",CREATE_SLIDESHOW_ADS_NUX:"886513371441875",CREATIVE_CANVAS_TEMPLATE_NUX:"564937670372078",CRISIS_MARK_OTHER_SAFE:"202253916649690",CRISIS_MARK_SELF_SAFE:"653763228018496",CRM_APP_NUX:"160369447652922",CRM_BOB2_VIDEO_NUX:"758053681035569",CRM_FEED_AD_DISAPPROVAL:"1635332980099458",CRM_FEED_AD_DISAPPROVAL_TOUR:"1372832786061145",CRM_FEED_FILTER_COLLAPSE:"1267729259935542",CRM_FEED_NAV_NUX:"1119009298165882",CRM_FEED_ORG_PAGE:"1790788867842141",CRM_FEED_PLAN_PAGE:"138431499974519",CRM_FEED_RECS:"1770321323216424",CRM_OPTIMAL_SOLUTIONS_INTERNAL_NAV_NUX:"832480206919077",CRM_OPTIMAL_SOLUTIONS_NAV_NUX:"420293331663412",CRM_OPTIMAL_SOLUTIONS_TABLE_NUX:"788724514612835",CRM_OPTIMAL_SOLUTIONS_TREEMAP_NUX:"1673613846274820",CRM_ORG_FINANCIALS:"279531125724087",CRM_WEBAPP_BUNNY:"506183136220196",CRST_MOBILE_PREVIEW:"1747146378889382",CRST_MOBILE_PREVIEW_INTRO:"904117749711668",CRST_MOBILE_PREVIEW_SHARED:"502885896576282",CRST_SHARE_CREATIVE:"213694639031398",CRST_WELCOME_HERO:"1802127330074556",CTSCAN_SCANLAB_DIAGNOSTIC_LINK_NUX:"1018516858267721",CTSCAN_SCANLAB_EXP_LINK_NUX:"1687632451557881",CTSCAN_SCANLAB_TEST_LINK_NUX:"1413329522299861",CTSCAN_SCANLAB_TEST_STATUS_NUX:"1682721005388364",DAILY_SHOW_NUX_TOUR:"128345940926172",DEVICE_LOGIN_CLOSE_BUTTON_NUX:"772951722838986",DEVSITE_ADNW_BUNDLE:"646184548874131",DEVSITE_ADNW_MEDIATION:"1373933542651411",DEVSITE_ADNW_MEDIATION_LEGAL:"1159456270801554",DEVSITE_APP_DASHBOARD_ADD_PRODUCT_NUX:"490448847821290",DEVSITE_APP_DASHBOARD_FB_ANALYTICS_NUX:"545627442289387",DEVSITE_BUGS_DETAILS_SUBSCRIBE_BUTTON:"1103088809711938",DEVSITE_BUGS_HOME_CREATE_LOCALIZED:"190127184825967",DEVSITE_BUGS_HOME_SEARCH_APPS:"810965742370194",DEVSITE_BUGS_HOME_SEARCH_PRESELECT_APP:"254472424907417",DEVSITE_BUGS_HOME_SEARCH_TAGS:"988491391232062",DEVSITE_BUGS_HOME_SELECT_TAGS:"1174329739252695",DEVSITE_BUGS_INPAGE_SUBMIT_SHORTCUT_NUX:"1814715518773401",DEVSITE_BUGS_SUBSCRIBE_MESSENGER:"289329894751031",DIA_PLUGIN_INTRODUCTION:"274822676191082",DIFFS_UNREAD_NUX:"278192215961935",DIRECT_SUPPORT_SUBSCRIBE_MESSENGER:"301320016925123",DR_RUNBOOK_NUX:"386619794795638",ENGAGEMENT_AUDIENCE_NUX:"1559597167698757",EVENTS_COHOST_NUX:"437219733299406",FBLEARNER_CLONE_HISTORY:"874591682650805",FBLEARNER_DAG:"1555701701416433",FBLEARNER_OP_OUTPUTS:"1724118081167329",FBLEARNER_OPT_OUT_SURVEY:"495303504008626",FBLEARNER_RECURRING_HISTORY:"1184494798247928",FBLEARNER_RECURRING_JOB_EDITOR:"1031446560269781",FBLEARNER_START_RECURRING:"330315104023633",FBLN_BATCH:"1190201994365649",FBLN_CARD:"1771536866409625",FBLN_CARD_HOME:"1037460092995696",FBLN_CHILDREN_SEARCH:"247925048905303",FBLN_COMPOSITION:"1535579660071386",FBLN_CUSTOM_FIELDS:"1729257784010524",FBLN_MODEL_TYPE:"1036165669806999",FBLN_MY_DAY:"1883488105200146",FBLN_PROGRESS:"1711182809156646",FBLN_RECURRING:"1554116508221625",FBLN_RECURRING_DURATION:"253510125104293",FBLN_RECURRING_DURATION_TYPE:"1275284069191480",FBLN_RECURRING_HEALTH:"369557563426687",FBLN_RECURRING_HOME:"378188762567288",FBLN_RECURRING_JOB_DETAILS:"271011959998196",FBLN_RECURRING_JOB_LINK:"1638041579545299",FBLN_RECURRING_LOAD_MORE:"186324198522086",FBLN_RESUME_BUTTON:"211921519225088",FBLN_RESUME_CHECK:"1696859960638051",FBLN_SEARCH:"1720975784858689",FBLN_SIDEBAR:"1530641490579146",FBLN_UNSEEN:"474252306099876",FBR_FULLSCREEN_NUX:"1344564208895744",FEED_ONLY_BOOKMARK_NUX:"991989547582216",FEED_ONLY_POST_NUX:"979392875501998",FLEXIBLE_TARGETING_PRESENTER_TIP:"833032883476599",FUNDRAISER_UPSELL:"967459770042560",GAMES_CREATE_SHORTCUT:"190501704786642",GEO_TARGETING_BULK_INPUT:"523608931147539",GEO_TARGETING_V2:"771095616319245",GMS_HUB_PERMALINKS:"373890962970878",GROUPS_GAMES_NUX:"595721780628097",GROUPS_RHC_LEADERBOARD_NUX:"1154491687933286",HAS_MIGRATED_SAVED_AUDIENCE_NUX:"1522284001343972",HASHTAG_SUBSCRIPTION_FOR_PAGES_NUX:"1536899146616610",HELP_CENTER_SEARCH_LANGUAGE_DIALOG:"431186250559929",HIRING_MY_CANDIDATES_V2_ALPHA_NUX:"110230416185489",HIT_HIERARCHY:"104061010140073",IG_AUDIENCE_INSIGHTS_ACCOUNT_WHITELIST:"654665854681285",IG_AUDIENCE_INSIGHTS_CITIES_TOGGLE:"675352559307348",IG_AUDIENCE_INSIGHTS_CUSTOM_SEGMENT:"892488757550990",IG_AUDIENCE_INSIGHTS_EXCLUDE_POST:"1739956989579937",IG_AUDIENCE_INSIGHTS_GENERIC_PDF:"1065168483565624",IG_AUDIENCE_INSIGHTS_INTEREST_FILTER:"1558071707831814",IG_AUDIENCE_INSIGHTS_POST:"272479649752150",IG_AUDIENCE_INSIGHTS_TIME_ONLINE:"187516358318534",IG_AUDIENCE_INSIGHTS_TIME_SPENT:"1288695684498584",INSTANT_GAMES_WWW_ENTRY_NUX:"388393761540878",INTERNAL_FEEDBACK_SURVEY:"1368283853185346",INTERNAL_NOTIFICATIONS_DESKTOP:"816296281804339",INTERNAL_NOTIFICATIONS_DESKTOP_PROMPT:"1715114275421616",INTERNAL_NOTIFICATIONS_JEWEL:"255236364848435",INTERVIEW_FEEDBACK_NO_BUTTON:"1781774222098902",INTERVIEW_FEEDBACK_REDESIGN:"1768833223401913",INTERVIEW_TRACKER_EXPORT:"327122534320675",JOB_BROWSER_CREATE_BUTTON_NUX:"1090012127788963",JOB_POSTING_COMPOSER:"273610786328981",LEAD_GEN_FORM_ARCHIVING_NOW_AVAILABLE_NUX:"1660354914292411",LEAD_GEN_FORM_BUILDER_SAVE_BUTTON_NUX:"888403264626566",LIVE_MAP_NEW_USER_NUX:"301839103480385",M_ADS_MANAGER_SPLASH:"1499779126920941",MEDIA_TOOL_MEDIA_GROUP_TAG_SEARCH:"617490258375842",MEDIA_TOOL_MEDIA_GROUP_TAGGING_NUX:"1142685795860507",MPP_SUPPORT_VIDEO_CALL_BUTTON_NUX:"572669026227273",MULTI_CITY_LOCATION_TARGETING_NUX:"1885486965052432",MULTICITY_LOCATION_TARGETING_NUX:"624581964407781",MULTIKEY_CUSTOM_AUDIENCE_UPLOADER_DATA_FORMATTING_GUIDE_NUX:"1641614852827045",MULTILINGUAL_COMPOSER_NUX:"468505376681705",MULTIMEDIA_ATTACHMENTS_NUX:"1269425486404153",OFFERS_COMPOSER_STEPPER_NUX:"1699194450407946",OFFERS_V1_TO_V2_MIGRATION_PAGES_COMPOSER_NUX:"1760209817527843",OFFERS_V2_MIGRATION_ADS_MANAGER_NUX:"1732891256985325",OFFERS_V2_PAGES_COMPOSER_NUX:"791461857621605",OMNIM_SUGGESTIONS:"215849248831991",OPTIMAL_SOLUTION_NUX:"1227619203963447",OXSIGHTS_NEW_UI:"1035521976533597",OXYGEN_INSIGHT_LIFECYCLE:"295779470545961",PAGES_ASSIGN_BROADCASTER_ROLE_NUX:"241186616320377",PAGES_COMMERCE_BUYER_NUX:"1142866742508388",PAGES_COMMERCE_INVOICE_BUTTON_NUX:"1257048171004972",PAGES_MESSAGING_DRAGDROP:"1598865370326347",PE_BACKGROUND_PUBLISHING_NUX:"351999345165168",PE_LIVE_OPT_IN:"412162028994818",PE_SLIDESHOW_NUX:"1010972272292143",PIXELCLOUD_CREATE_PROJECT_NUX:"167386373758657",PIXELCLOUD_OPEN_IN_SKETCH_NUX:"1053089388134096",PMT_ADHOC_REQUEST_SHARED_NUX:"359372174464547",PMT_CALIBRATION_BOARD_NUX:"1037667402955195",PMT_CALIBRATION_MASHUP_NUX:"296348610767770",PMT_FEEDBACK_REQUESTS_NUX:"1158362674286722",PMT_LITE_FEEDBACK_BOT_NUX:"768812979953374",PMT_OFFCYCLE_FEEDBACK_NUX:"167771400339175",PMT_SIDEBAR_LITE_FEEDBACK:"163080977549971",PMT_SIDEBAR_SUGGESTED_PEERS:"615920318602081",POLITICAL_DISTRICT_TARGETING_COMPOSER_OPTION:"1905539216397834",PROFILE_BADGE_NUX:"424283191075640",PROFILE_JUMPER_NUX:"1761965587453511",PULSE_ACTION_PLAN_NUX:"358122467862686",PULSE_IMPORTANCE_NUX:"1797422680476368",PULSE_SUMMARY_NUX:"1013627052117051",RABBIT_MAGIC_PILL_CLICK_NUX:"204937776623471",RABBIT_SEARCH_NUX_TOUR:"248205238986090",RECRUITING_AUTO_SCREEN_BOOK_NOW:"653962828129566",RECRUITING_AUTO_SCREEN_TABS:"2246501172242193",RECRUITING_AUTO_SCREEN_TAGS:"409645646059915",RECRUITING_AUTO_SCREEN_TIMEZONES:"440773582942623",RECRUITING_EMPLOYEE_OUTREACH:"574882689339635",RECRUITING_FBR_MANAGE_CANDIDATES:"1315241391866958",RECRUITING_HIRING_CONSIDERATION_ACTION_MENU:"736653343179938",RECRUITING_SEARCH_V2_LAUNCH:"274528912909071",RELATED_NEWS_MODULE_PROMOTION:"291949934557488",RELATED_NEWS_MODULE_VISIBILITY:"461697617554606",REVIEW_TAB_ADDED_NUX:"250895058670979",RIGHTS_MANAGER_BULK_WHITELIST_NUX:"575946632598813",RIGHTS_MANAGER_CHANGE_LOG:"421523984890906",RIGHTS_MANAGER_EXPORT_DATA:"176652666130517",SAVE_NEW_AUDIENCE:"649905405114622",SCHEDULR_FIND_BOOK_NUX:"872099406242148",SCUBA_REACT_VIEWS_NUX:"1747252342174304",SHUTTLE_CALTRAIN:"591270497678719",SIGNAL_INFRA_KILL_COMPLETE_TEST_RUN_NUX:"281718955562986",SIGNAL_INFRA_PHABRICATOR_BUGNUB_NUX:"232465750506350",SIGNALS_OEM_ANALYTICS_BUTTON:"1051737174957203",SIGNALS_OEM_AUDIENCE_CREATION_BUTTON:"1705925373060918",SIGNALS_OEM_CUSTOM_CONVERSION_CREATION_BUTTON:"350476588659935",SIGNALS_OEM_GET_STARTED:"114819065646369",SIGNALS_OEM_LOOKALIKE_AUDIENCE_CREATION_BUTTON:"1255766841175871",SLIDESHOW_FRAMES_TAB_NUX:"827618977337954",SLIDESHOW_MUSIC_TAB_NUX:"1800156596939976",SOURCING_TOOL_CANDIDATE_BOOKMARK:"514954375356275",SOURCING_TOOL_DATA_MODEL_REFACTOR:"1802899719924551",SOURCING_TOOL_SEARCH_EXPAND:"111408876035743",SOURCING_TOOL_TITLE_SEARCH:"1709346835970021",SPHERICAL_SINGLETON_NUX:"1622419514744181",SRT_BUG_NUB_INTRODUCTION:"1739478522971904",SRT_FEEDBACK:"217753298661464",SRT_LIVE_COUNTER_INTRODUCTION:"158683444572274",SRT_REVIEW_QUEUE_ACTIONED_JOB_STATUS:"191254837978371",SUBGROUP_CREATE_NUX:"239426083172383",SUBGROUP_INTRO_NUX:"269510030150128",TALENT_SEARCH_CROSS_PROMO:"1705997706317539",TALENT_SEARCH_FILTER_COLUMN:"1546366805667718",TALENT_SEARCH_SEARCH_BAR:"1534092750231532",TEST_MESSAGE:"443509369110145",TOUCHSTONE_AD_ACCOUNT:"224502567921015",TOUCHSTONE_RECOMMENDATION_NUX:"1546296168996500",TOUCHSTONE_SCHEDULE:"479311678938767",TOUCHSTONE_VERTICALS:"509312249256844",USE_EXISTING_AUDIENCE:"481639071983177",VIDEO_COPYRIGHT_AUTO_BLOCK:"210695056081827",VIDEO_COPYRIGHT_AUTO_MONETIZE:"664681487071414",VIDEO_COPYRIGHT_MANUAL_BLOCK:"1611149752230319",VIDEO_COPYRIGHT_MANUAL_MONETIZE:"1685669605061064",VIDEO_REMOTE_UPLOAD:"1435659519793420",WORK_COMMUNITY_CENTER:"886330728179119",WORK_GROUP_ADD_FEEDBACK_NUX:"106856833168666",WORK_GROUP_ADD_MEMBER_INVITE:"1740315686282734",WORK_GROUP_POST_TO_GROUP_NUX:"1864896927100725",WORK_GROUPS_LANDING_CREATE_GROUP_NUX:"1298052276948758",WORK_GROUPS_LANDING_PAGE_NUX:"318596698538485",WORK_SHOW_COWORKER_INVITE_NUX:"586334784894097",WORK_SIDEBAR_TOP_GROUPS:"1168006489923660"};}),null);
__d("TilesMapTheme",[],(function a(b,c,d,e,f,g){f.exports={DEFAULT:"default",CROWDSOURCING_OSM:"crowdsourcing_osm",CROWDSOURCING_PPM_DG:"crowdsourcing_ppm_dg",ROAD_MASK_OSM_EDITING:"road_mask_osm_editing",LIVE_MAPS:"live_maps",INDOOR_OSM:"indoor_osm",LIVE_MAPS_MIMIC:"live_maps_mimic"};}),null);
__d('GeoCoordinatesRecord',['immutable'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('immutable').Record({latitude:undefined,longitude:undefined});h=babelHelpers.inherits(k,j);i=h&&h.prototype;function k(){h.apply(this,arguments);}f.exports=k;}),null);
__d("nearlyEqualNumbers",[],(function a(b,c,d,e,f,g){function h(i,j){if(i===j)return true;var k=Math.abs(i-j);if(k<Number.EPSILON)return true;var l=Math.abs(i),m=Math.abs(j);return k/(l+m)<Number.EPSILON;}f.exports=h;}),null);
__d('GeoCoordinates',['GeoCoordinatesRecord','nearlyEqualNumbers'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('GeoCoordinatesRecord'));i=h&&h.prototype;function j(k,l){i.constructor.call(this,{latitude:k,longitude:l});}j.prototype.nearlyEquals=function(k){return c('nearlyEqualNumbers')(this.latitude,k.latitude)&&c('nearlyEqualNumbers')(this.longitude,k.longitude);};f.exports=j;}),null);
__d('ElementResizeEmitter',['cx','invariant','DOM','EventListener','SubscriptionList','requestAnimationFrame'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=!!navigator.userAgent.match(/Trident/);j=babelHelpers.inherits(m,c('SubscriptionList'));k=j&&j.prototype;function m(n){getComputedStyle(n).position!=='static'||i(0);k.constructor.call(this,m.__setup,m.__teardown);this.$ElementResizeEmitter1=n;this.$ElementResizeEmitter2=false;}m.__setup=function(){var n=document.createElement('iframe');this.$ElementResizeEmitter3=n;if(l)n.src='javascript:void((function(){document.open();document.domain='+JSON.stringify(document.domain)+';document.close();})())';n.className="_3dtr";n.onload=this.$ElementResizeEmitter4.bind(this);this.$ElementResizeEmitter1.appendChild(n);};m.__teardown=function(){if(this.$ElementResizeEmitter3){if(this.$ElementResizeEmitter5!=undefined&&this.$ElementResizeEmitter3.document!==undefined)this.$ElementResizeEmitter5.remove();c('DOM').remove(this.$ElementResizeEmitter3);this.$ElementResizeEmitter3=undefined;}};m.prototype.$ElementResizeEmitter4=function(){this.$ElementResizeEmitter6();var n=void 0;try{n=this.$ElementResizeEmitter3.contentWindow;n.document;}catch(o){return;}this.$ElementResizeEmitter5=c('EventListener').listen(n,'resize',this.$ElementResizeEmitter6.bind(this));};m.prototype.$ElementResizeEmitter6=function(){if(this.$ElementResizeEmitter2)return;this.$ElementResizeEmitter2=true;c('requestAnimationFrame')(function(){this.fireCallbacks();this.$ElementResizeEmitter2=false;}.bind(this));};f.exports=m;}),null);
__d('forEachDifference',['forEachObject'],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k){c('forEachObject')(i,function(l,m){if(Object.prototype.hasOwnProperty.call(j,m)){if(k.onBoth)k.onBoth(l,j[m],m);}else if(k.onLeft)k.onLeft(l,m);});c('forEachObject')(j,function(l,m){if(!Object.prototype.hasOwnProperty.call(i,m)&&k.onRight)k.onRight(l,m);});}f.exports=h;}),null);
__d('partitionObject',['forEachObject'],(function a(b,c,d,e,f,g){'use strict';function h(i,j,k){var l={},m={};c('forEachObject')(i,function(n,o){if(j.call(k,n,o,i)){l[o]=n;}else m[o]=n;});return [l,m];}f.exports=h;}),null);
__d('partitionObjectByKey',['partitionObject'],(function a(b,c,d,e,f,g){'use strict';function h(i,j){return c('partitionObject')(i,function(k,l){return j.has(l);});}f.exports=h;}),null);
__d('LeafletLayer.react',['React','Set','areEqual','forEachDifference','forEachObject','partitionObjectByKey'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;function k(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=i.constructor).call.apply(n,[this].concat(q)),this.$LeafletLayer1=undefined,this.$LeafletLayer2=function(s){this.$LeafletLayer1=this.props.onCreateLayer(s);this.context.onAddLayer(this.$LeafletLayer1);}.bind(this),o;}k.mutateEventHandlers=function(n,o,p){if(!c('areEqual')(o,p))c('forEachDifference')(o||{},p||{},{onLeft:function q(r,s){n.on(s,r);},onRight:function q(r,s){n.off(s,r);},onBoth:function q(r,s,t){if(r!==s){n.off(t,s);n.on(t,r);}}});};k.addEventHandlers=function(n,o){if(o!=null)c('forEachObject')(o,function(p,q){n.on(q,p);});};k.prototype.componentDidMount=function(){this.$LeafletLayer2(m(this.props));};k.prototype.componentDidUpdate=function(n){var o=m(this.props),p=m(n);if(this.props.onUpdateLayer!==n.onUpdateLayer||!this.props.onUpdateLayer(this.$LeafletLayer1,o,p)){this.context.onRemoveLayer(this.$LeafletLayer1);this.$LeafletLayer2(o);}};k.prototype.componentWillUnmount=function(){this.context.onRemoveLayer(this.$LeafletLayer1);this.$LeafletLayer1=null;};k.prototype.render=function(){return null;};k.propTypes={onCreateLayer:j.func.isRequired,onUpdateLayer:j.func.isRequired};k.contextTypes={onAddLayer:j.func.isRequired,onRemoveLayer:j.func.isRequired};var l=new (c('Set'))(Object.keys(k.propTypes));function m(n){return c('partitionObjectByKey')(n,l)[1];}f.exports=k;}),null);
__d('LeafletMapLayer.react',['invariant','LeafletLayer.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$LeafletMapLayer1=function(){var r=c('React').Children.only(this.props.children);this.$LeafletMapLayer3=r;return r.type.toLayer(r.props);}.bind(this),this.$LeafletMapLayer2=function(r,s,t){var u=c('React').Children.only(this.props.children);if(u.type!==this.$LeafletMapLayer3.type)return false;this.$LeafletMapLayer3=u;return u.type.mutate(r,s,t);}.bind(this),n;}l.prototype.componentDidMount=function(){var m=c('React').Children.only(this.props.children);m.type.mutate||h(0);m.type.toLayer||h(0);};l.prototype.render=function(){var m=c('React').Children.only(this.props.children);return c('React').createElement(c('LeafletLayer.react'),babelHelpers['extends']({},m.props,{onAddLayer:this.props.onAddLayer,onRemoveLayer:this.props.onRemoveLayer,onCreateLayer:this.$LeafletMapLayer1,onUpdateLayer:this.$LeafletMapLayer2}));};l.propTypes={onAddLayer:k.func.isRequired,onRemoveLayer:k.func.isRequired};f.exports=l;}),null);
__d('LeafletView',['invariant','GeoCoordinates','ImmutableObject','nearlyEqualNumbers'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('ImmutableObject'));j=i&&i.prototype;function k(l){l||h(0);l.center instanceof c('GeoCoordinates')||h(0);typeof l.zoom==='number'||h(0);j.constructor.call(this,l);}k.prototype.nearlyEquals=function(l){return this.center.nearlyEquals(l.center)&&c('nearlyEqualNumbers')(this.zoom,l.zoom);};k.prototype.setZoom=function(l){return new k({center:this.center,zoom:l});};k.prototype.setCenter=function(l){return new k({center:l,zoom:this.zoom});};k.DEFAULT=new k({center:new (c('GeoCoordinates'))(0,0),zoom:0});f.exports=k;}),null);
__d("mod",[],(function a(b,c,d,e,f,g){function h(i,j){var k=i%j;if(k*j<0)k+=j;return k;}f.exports=h;}),null);
__d('LeafletUtils',['invariant','GeoCoordinates','leaflet','LeafletView','mod'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('leaflet').CRS.EPSG3857,j=360,k=j/2,l=c('leaflet').LatLng.DEG_TO_RAD,m=c('leaflet').LatLng.RAD_TO_DEG,n=c('leaflet').Projection.Mercator.R_MAJOR,o=2*Math.PI*n,p=new (c('leaflet').LatLngBounds)(new (c('leaflet').LatLng)(-j/4,-j/2),new (c('leaflet').LatLng)(j/4,j/2));function q(s){var t=s.zoomRange;Array.isArray(t)&&t.length===2||h(0);return t;}var r={WHOLE_WORLD_BOUNDS:p,FULL_CIRCLE_DEG:j,fromLatLng:function s(t){return new (c('GeoCoordinates'))(t.lat,t.lng);},normalizedBounds:function s(t,u){var v=r.wrapLongitude(t.lng);u=c('leaflet').latLng(u.lat,u.lng+v-t.lng);t=c('leaflet').latLng(t.lat,v);return c('leaflet').latLngBounds(t,u);},fitBounds:function s(t,u,v){var w=v.crs||i,x=q(v),y=r.getBoundsZoom(t,u,{zoomRange:x,crs:w});if(y==null)y=x[0];var z=w.latLngToPoint(t.getSouthWest(),y),aa=w.latLngToPoint(t.getNorthEast(),y),ba=r.fromLatLng(w.pointToLatLng(z.add(aa).divideBy(2),y));return new (c('LeafletView'))({center:ba,zoom:y});},getBoundsZoom:function s(t,u,v){var w=v.crs||i,x=q(v),y=c('leaflet').point(u.width,u.height),z=t.getNorthWest(),aa=t.getSouthEast(),ba=x[0]-1;for(;ba<=x[1];++ba){var ca=w.latLngToPoint(aa,ba+1),da=w.latLngToPoint(z,ba+1),ea=ca.subtract(da).floor();if(!y.contains(ea))break;}if(ba<x[0])return null;if(ba<=x[1])return ba;return ba-1;},getViewBounds:function s(t,u,v){v=v||i;var w=u.width/2,x=u.height/2,y=r.toLatLng(t.center),z=v.latLngToPoint(y,t.zoom),aa=v.pointToLatLng(c('leaflet').point(z.x-w,z.y+x),t.zoom),ba=v.pointToLatLng(c('leaflet').point(z.x+w,z.y-x),t.zoom);return r.normalizedBounds(aa,ba);},isViewInBounds:function s(t,u,v,w){var x=r.getViewBounds(t,u,w),y=r.shiftBoundsLng(x,j);return v.some(function(z){return z.contains(x)||z.contains(y);});},projectCircle:function s(t,u,v){v=v||i;var w=r.toLatLng(t.center),x=v.projection,y=r.circleBounds(w,t.radius,x),z=v.latLngToPoint(y.getCenter(),u),aa=v.latLngToPoint(y.getSouthWest(),u),ba=v.latLngToPoint(y.getNorthEast(),u),ca=c('leaflet').point(Math.round((ba.x-aa.x)/2),Math.round((aa.y-ba.y)/2));return {center:z,radius:ca};},circleBounds:function s(t,u,v){v=v||i.projection;var w=t.lat,x=t.lng,y=u/n*m,z=v.project(c('leaflet').latLng(w+y,x)),aa=v.project(c('leaflet').latLng(w-y,x)),ba=z.add(aa).divideBy(2),ca=v.unproject(ba).lat,da=w*l,ea=ca*l,fa=Math.acos((Math.cos(y*l)-Math.sin(da)*Math.sin(ea))/(Math.cos(da)*Math.cos(ea)))*m;return c('leaflet').latLngBounds(c('leaflet').latLng(ca-y,x-fa),c('leaflet').latLng(ca+y,x+fa));},shiftBoundsLng:function s(t,u){return c('leaflet').latLngBounds([t.getSouthWest().lat,t.getSouthWest().lng+u],[t.getNorthEast().lat,t.getNorthEast().lng+u]);},toLatLng:function s(t){return new (c('leaflet').LatLng)(t.latitude,t.longitude);},wrapLongitude:function s(t){return c('mod')(t+k,j)-k;},areViewEqual:function s(t,u){if(!t&&!u)return true;if(!t||!u)return false;return t.zoom===u.zoom&&t.center.latitude===u.center.latitude&&t.center.longitude===u.center.longitude;},metersToPixels:function s(t,u){return t/(o*Math.abs(Math.cos(u.center.latitude*l))/Math.pow(2,u.zoom+8));},distanceFromLatLng:function s(t,u,v){var w=u/n,x=v*l,y=t.lat*l,z=t.lng*l,aa=Math.sin(y),ba=Math.cos(y),ca=Math.sin(w),da=Math.cos(w),ea=Math.sin(x),fa=Math.cos(x),ga=aa*da+ba*ca*fa,ha=Math.asin(ga),ia=ea*ca*ba,ja=da-aa*ga,ka=z+Math.atan2(ia,ja);return new (c('leaflet').LatLng)(ha*m,r.wrapLongitude(ka*m));}};f.exports=r;}),null);
__d('LeafletMap.react',['invariant','ElementResizeEmitter','LeafletMapLayer.react','LeafletUtils','LeafletView','React','ReactDOM','Set','debounceCore','emptyFunction','forEachDifference','leaflet','nullthrows'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l=100,m=10,n=new (c('Set'))(['dragging','touchZoom','doubleClickZoom','scrollWheelZoom','boxZoom','keyboard','tab']),o=k.instanceOf(c('LeafletView'));function p(v){var w=v.getCenter();return new (c('LeafletView'))({center:c('LeafletUtils').fromLatLng(w),zoom:v.getZoom()});}function q(v,w){return {center:[v.center.latitude,v.center.longitude],zoom:v.zoom,attributionControl:false,layers:w,trackResize:false};}function r(v,w,x){if(!n.has(w))throw new Error('cannot change Leaflet option `'+w+'` during component lifetime');v[w][x?'enable':'disable']();}function s(v,w,x){if(w===x)return;c('forEachDifference')(w,x,{onLeft:function y(z,aa){return r(v,aa,z);},onRight:function y(z,aa){throw new Error('reverting Leaflet option `'+aa+'` back to default is not supported');},onBoth:function y(z,aa,ba){if(z!==aa)r(v,ba,z);}});}function t(v,w,x){c('forEachDifference')(w,x,{onLeft:function y(z,aa){return void v.on(aa,z);},onRight:function y(z,aa){return void v.off(aa,z);},onBoth:function y(z,aa,ba){if(z!==aa){v.off(ba,aa);v.on(ba,z);}}});}i=babelHelpers.inherits(u,c('React').Component);j=i&&i.prototype;function u(){var v,w;for(var x=arguments.length,y=Array(x),z=0;z<x;z++)y[z]=arguments[z];return w=(v=j.constructor).call.apply(v,[this].concat(y)),this.$LeafletMap4=function(aa){if(this.$LeafletMap3){this.$LeafletMap3.addLayer(aa);return;}this.$LeafletMap11().push(aa);}.bind(this),this.$LeafletMap5=function(aa){this.$LeafletMap3!==undefined||h(0);if(this.$LeafletMap3!==null)this.$LeafletMap3.removeLayer(aa);}.bind(this),w;}u.prototype.getChildContext=function(){return {onAddLayer:this.$LeafletMap4,onRemoveLayer:this.$LeafletMap5};};u.prototype.componentDidMount=function(){var v=Object.assign({},this.props.defaultOptions,this.props.options,q(this.$LeafletMap10(),this.$LeafletMap11())),w=this.$LeafletMap3=c('leaflet').map(c('ReactDOM').findDOMNode(this),v);this.$LeafletMap1=null;this.$LeafletMap8=c('debounceCore')(this.$LeafletMap12.bind(this),l);t(w,this.props.eventHandlers,{});w.on('movestart',this.$LeafletMap13.bind(this));w.on('moveend',this.$LeafletMap14.bind(this));this.$LeafletMap2='still';this.$LeafletMap9=new (c('Set'))();this.$LeafletMap7=c('debounceCore')(function(x,y){if(this.$LeafletMap3)this.$LeafletMap3.setView(x,y);}.bind(this),m);this.$LeafletMap6=new (c('ElementResizeEmitter'))(c('ReactDOM').findDOMNode(this)).add(function(){var x=this.$LeafletMap3;if(x!=null){x.invalidateSize();c('nullthrows')(this.props.onSizeSettled)(x.getSize());}}.bind(this));};u.prototype.componentDidUpdate=function(v){var w=this.$LeafletMap3;if(w==null)return;var x=this.props,y=x.eventHandlers,z=x.options;t(w,y,v.eventHandlers);s(w,z,v.options);this.$LeafletMap16(v.view);};u.prototype.componentWillUnmount=function(){this.$LeafletMap6.remove();if(this.$LeafletMap3!=null)this.$LeafletMap3.remove();this.$LeafletMap3=null;};u.prototype.render=function(){var v=c('React').Children.map(this.props.children,function(w,x){if(!w)return w;if(w.type.toLayer==null)return w;return c('React').createElement(c('LeafletMapLayer.react'),{key:w.key,onAddLayer:this.$LeafletMap4,onRemoveLayer:this.$LeafletMap5},w);}.bind(this));return c('React').createElement('div',{className:this.props.className,style:babelHelpers['extends']({display:'relative'},this.props.style)},v);};u.prototype.$LeafletMap11=function(){if(!this.$LeafletMap1)this.$LeafletMap1=[];return this.$LeafletMap1;};u.prototype.$LeafletMap10=function(){if(this.props.view)return this.props.view;if(this.props.defaultView)return this.props.defaultView;return c('LeafletView').DEFAULT;};u.prototype.$LeafletMap14=function(){if(!this.$LeafletMap3)return;var v=p(this.$LeafletMap3),w=this.$LeafletMap2;this.$LeafletMap2='still';if(this.props.view){if(w==='moving-stale'){this.$LeafletMap12();return;}if(v.nearlyEquals(this.props.view))return;this.$LeafletMap8();}if(!this.props.onViewChange)return;this.props.onViewChange(v);};u.prototype.$LeafletMap13=function(){if(!this.$LeafletMap3)return;if(this.$LeafletMap2==='still')this.$LeafletMap2='moving';};u.prototype.$LeafletMap12=function(){this.$LeafletMap8.reset();if(this.$LeafletMap2==='moving')this.$LeafletMap2='moving-stale';var v=this.props.view,w=this.$LeafletMap3;if(v==null||w==null||v.nearlyEquals(p(w)))return;this.$LeafletMap7([v.center.latitude,v.center.longitude],v.zoom);};u.prototype.$LeafletMap16=function(v){var w=this.props.view;if(!w||!this.$LeafletMap3||w===v||v&&w.nearlyEquals(v))return;this.$LeafletMap12();};u.prototype.$LeafletMap15=function(v,w){if(v[w]!==this.props[w]&&!this.$LeafletMap9.has(w))this.$LeafletMap9.add(w);};u.propTypes={className:k.string,defaultOptions:k.object,defaultView:k.instanceOf(c('LeafletView')),eventHandlers:k.object,onSizeSettled:k.func,onViewChange:k.func,options:k.object,style:k.object,view:function v(w,x,y){for(var z=arguments.length,aa=Array(z>3?z-3:0),ba=3;ba<z;ba++)aa[ba-3]=arguments[ba];var ca=o.apply(undefined,[w,x,y].concat(aa));if(!w[x]||ca)return ca;if(w[x]&&w.defaultView)return new Error('You provided both `view` and `defaultView` props to LeafletMap. '+'`defaultView` will be discarded.');if(w.onViewChange)return null;return new Error('You provided a `view` prop to LeafletMap without an '+'`onViewChange` handler. This will prevent the user to move the '+'view. If the view should be movable use `defaultView`. Otherwise, '+'set `onViewChange`.');}};u.defaultProps={eventHandlers:{},onSizeSettled:c('emptyFunction'),options:{}};u.childContextTypes={onAddLayer:k.func.isRequired,onRemoveLayer:k.func.isRequired};f.exports=u;}),null);
__d('LeafletMarker.react',['GeoCoordinates','leaflet','LeafletLayer.react','LeafletUtils','React','areEqual','nullthrows'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.$LeafletMarker1=function(k,l,m){var n=m.options||{},o=n.opacity,p=n.zIndex,q=babelHelpers.objectWithoutProperties(n,['opacity','zIndex']),r=l.options||{},s=r.opacity,t=r.zIndex,u=babelHelpers.objectWithoutProperties(r,['opacity','zIndex']);if(!c('areEqual')(u,q))return false;if(s!==o)k.setOpacity(s);if(t!==p)k.setZIndex(t);if(l.coordinates!==m.coordinates)k.setLatLng(c('LeafletUtils').toLatLng(l.coordinates));var v=l.popup;if(v){var w=v.type.mutate(k.getPopup(),v.props,c('nullthrows')(m.popup).props);if(!w){k.unbindPopup();k.bindPopup(v.type.toLayer(v.props,k));}}else if(!v&&m.popup)k.unbindPopup();c('LeafletLayer.react').mutateEventHandlers(k,l.eventHandlers,m.eventHandlers);return true;};j.prototype.$LeafletMarker2=function(k){var l=c('leaflet').marker(c('LeafletUtils').toLatLng(k.coordinates),k.options);if(k.popup)l.bindPopup(k.popup.type.toLayer(k.popup.props,l));c('LeafletLayer.react').addEventHandlers(l,k.eventHandlers);return l;};j.prototype.render=function(){return c('React').createElement(c('LeafletLayer.react'),babelHelpers['extends']({},this.props,{onCreateLayer:this.$LeafletMarker2,onUpdateLayer:this.$LeafletMarker1}));};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('LeafletTileLayer.react',['React','leaflet','LeafletLayer.react','areEqual'],(function a(b,c,d,e,f,g){var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.render=function(){'use strict';return c('React').createElement(c('LeafletLayer.react'),babelHelpers['extends']({},this.props,{onCreateLayer:l,onUpdateLayer:m}));};function k(){'use strict';h.apply(this,arguments);}k.propTypes={options:j.object,urlTemplate:j.string.isRequired};function l(n){return c('leaflet').tileLayer(n.urlTemplate,n.options);}function m(n,o,p){var q=p.options||{},r=q.opacity,s=q.zIndex,t=babelHelpers.objectWithoutProperties(q,['opacity','zIndex']),u=o.options||{},v=u.opacity,w=u.zIndex,x=babelHelpers.objectWithoutProperties(u,['opacity','zIndex']);if(!c('areEqual')(x,t))return false;if(v!==r)n.setOpacity(v);if(w!==s)n.setZIndex(w);if(o.urlTemplate!==p.urlTemplate)n.setUrl(o.urlTemplate);return true;}f.exports=k;}),null);
__d('GeoRectangle',['GeoCoordinates','ImmutableObject'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('ImmutableObject'));i=h&&h.prototype;function j(k,l,m,n){'use strict';i.constructor.call(this,{n:k,w:l,s:m,e:n});}j.prototype.containsLat=function(k){'use strict';return k>=this.s&&k<=this.n;};j.prototype.getCenter=function(){'use strict';var k=(this.n+this.s)/2,l;l=(this.e+this.w)/2;if(this.w>this.e){l-=180;if(l<-180)l+=360;}return {latitude:k,longitude:l};};j.prototype.containsLon=function(k){'use strict';if(this.w>this.e)return k>=this.w||k<=this.e;return k>=this.w&&k<=this.e;};j.prototype.getHeight=function(){'use strict';return this.n-this.s;};j.prototype.getWidth=function(){'use strict';var k=this.e;if(this.w>this.e)k+=360;return k-this.w;};j.prototype.containsPoint=function(k,l){'use strict';return this.containsLat(k)&&this.containsLon(l);};j.prototype.containsGeoRectangle=function(k){'use strict';return this.containsPoint(k.n,k.w)&&this.containsPoint(k.s,k.e);};j.prototype.toArray=function(){'use strict';return {n:this.n,w:this.w,s:this.s,e:this.e};};j.fromPoints=function(k){if(!k||k.length===0)return null;if(k.length===1){var l=k[0];return new j(l.latitude,l.longitude,l.latitude,l.longitude);}var m=k.map(function(t){return t.latitude;}),n=k.map(function(t){return t.longitude;}).sort(function(t,u){return t-u;}),o=360+n[0]-n[n.length-1],p=n.length-1,q=0;for(var r=0;r<n.length-1;r++){var s=n[r+1]-n[r];if(s>o){o=s;p=r;q=r+1;}}return new j(Math.max.apply(Math,m),n[q],Math.min.apply(Math,m),n[p]);};f.exports=j;}),null);
__d('TilesMapUtils',['CurrentLocale','GeoCoordinates','GeoRectangle','leaflet','LeafletUtils','LeafletView','TilesMapConfig','TilesMapTheme','URI'],(function a(b,c,d,e,f,g){'use strict';var h=c('TilesMapConfig').OSM_RECTS_RAW.map(function(j){return c('leaflet').latLngBounds([j[2],j[1]],[j[0],j[3]]);}),i={DEFAULT_VIEW:new (c('LeafletView'))({center:new (c('GeoCoordinates'))(0,0),zoom:c('TilesMapConfig').ZOOM_RANGE.MIN}),getTileURLTemplate:function j(k,l){if(!k)k=c('CurrentLocale').get();return c('TilesMapConfig').TILE_URL_TEMPLATE+'&language='+k+(l&&l!==c('TilesMapTheme').DEFAULT?'&theme='+l:'')+(l===c('TilesMapTheme').LIVE_MAPS?'&lmv='+c('TilesMapConfig').LIVE_MAP_VERSION:'');},getOSMRects:function j(){return i.getOSMRectsFromRaw(c('TilesMapConfig').OSM_RECTS_RAW);},getOSMRectsFromRaw:function j(k){return k.map(function(l){return new (c('GeoRectangle'))(l[0],l[1],l[2],l[3]);});},getMapProviderForAttribution:function j(k,l,m,n){if(n===c('TilesMapTheme').CROWDSOURCING_PPM_DG)return 'DG';if(l.height<c('TilesMapConfig').MIN_SIZE_FOR_ATTRIBUTION||l.width<c('TilesMapConfig').MIN_SIZE_FOR_ATTRIBUTION)return null;if(n!==''&&n!==c('TilesMapTheme').DEFAULT&&n!==c('TilesMapTheme').CROWDSOURCING_PPM_DG&&n!==c('TilesMapTheme').ROAD_MASK_OSM_EDITING)return 'OSM';if(k.zoom<c('TilesMapConfig').OSM_ZOOM_THRESHOLD)return 'HERE';return c('LeafletUtils').isViewInBounds(k,l,h,m)?'OSM':'HERE';},getMapProviderForReportButton:function j(k,l){if(l===c('TilesMapTheme').CROWDSOURCING_PPM_DG)throw new Error('Unsupported theme CROWDSOURCING_PPM_DG');if(l!==''&&l!==c('TilesMapTheme').DEFAULT&&l!==c('TilesMapTheme').CROWDSOURCING_PPM_DG&&l!==c('TilesMapTheme').ROAD_MASK_OSM_EDITING)return 'OSM';if(k.zoom<c('TilesMapConfig').OSM_ZOOM_THRESHOLD)return 'HERE';var m=c('leaflet').latLng(k.center.latitude,k.center.longitude);return h.some(function(n){return n.contains(m);})?'OSM':'HERE';},getReporterToolUrl:function j(k,l){switch(k){case 'OSM':var m=Math.max(Math.floor(l.zoom),c('TilesMapConfig').OSM_MAP_MIN_ZOOM_TO_REPORT_ISSUE);return new (c('URI'))(c('TilesMapConfig').OSM_MAP_REPORTER_URL).addQueryData('lat',l.center.latitude).addQueryData('lon',l.center.longitude).addQueryData('zoom',m).toString();default:case 'HERE':return new (c('URI'))(c('TilesMapConfig').HERE_MAP_REPORTER_URL).addQueryData('features','road,border').addQueryData('zoomLevel',Math.floor(l.zoom)).addQueryData('lang',c('CurrentLocale').get()).addQueryData('coord',l.center.latitude+','+l.center.longitude).toString();}}};f.exports=i;}),null);
__d('MessengerDynamicMap.react',['CurrentLocale','GeoCoordinates','leaflet','LeafletMap.react','LeafletMarker.react','LeafletTileLayer.react','LeafletUtils','LeafletView','React','TilesMapUtils'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes,k={tap:false},l={icon:c('leaflet').icon({iconUrl:'/images/places/map/bright-pink-pin.png',iconSize:[20,27],iconAnchor:[9,24]}),draggable:true};h=babelHelpers.inherits(m,c('React').PureComponent);i=h&&h.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=i.constructor).call.apply(n,[this].concat(q)),this.$MessengerDynamicMap1=new (c('LeafletView'))({center:new (c('GeoCoordinates'))(this.props.lat,this.props["long"]),zoom:this.props.zoom}),this.$MessengerDynamicMap2=function(event){var s=event.target&&event.target.getLatLng(),t=c('LeafletUtils').fromLatLng(s);this.props.onMarkerDragEnd(t&&t.latitude,t&&t.longitude);}.bind(this),o;}m.prototype.render=function(){var n=c('TilesMapUtils').getTileURLTemplate(c('CurrentLocale').get());return c('React').createElement(c('LeafletMap.react'),{defaultOptions:k,defaultView:this.$MessengerDynamicMap1,style:{height:this.props.height+'px',width:this.props.width+'px'}},c('React').createElement(c('LeafletTileLayer.react'),{urlTemplate:n}),c('React').createElement(c('LeafletMarker.react'),{coordinates:new (c('GeoCoordinates'))(this.props.lat,this.props["long"]),eventHandlers:{dragstart:this.props.onMarkerDragStart,dragend:this.$MessengerDynamicMap2},options:l}));};m.defaultProps={zoom:15};m.propTypes={lat:j.number.isRequired,"long":j.number.isRequired,height:j.number.isRequired,width:j.number.isRequired,onMarkerDragEnd:j.func.isRequired,onMarkerDragStart:j.func.isRequired,zoom:j.number.isRequired};f.exports=m;}),null);
__d('HoverAnimatedSticker.react',['React','Relay','Sticker.react','StickerUtils'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=Math.floor(120*window.devicePixelRatio);h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.render=function(){var l=this.props.sticker,m=l.image?l.image.uri:null,n=l.sprite_image?l.sprite_image.uri:null,o=this.props.animationTrigger||'hover',p=c('StickerUtils').getScaledDimensions(l.image.height,l.image.width,this.props.maxDimension),q=p.height,r=p.width;return c('React').createElement(c('Sticker.react'),{animationTrigger:o,forceCursorPointer:this.props.forceCursorPointer,frameCount:l.frame_count,frameRate:l.frame_rate,framesPerCol:l.frames_per_column,framesPerRow:l.frames_per_row,sourceURI:m,sourceWidth:r,sourceHeight:q,spriteURI:n});};function k(){h.apply(this,arguments);}f.exports=c('Relay').createContainer(k,{fragments:{sticker:function l(){return function(m,n,o,p){return {children:[{fieldName:'frame_count',kind:'Field',metadata:{},type:'Int'},{fieldName:'frame_rate',kind:'Field',metadata:{},type:'Int'},{fieldName:'frames_per_column',kind:'Field',metadata:{},type:'Int'},{fieldName:'frames_per_row',kind:'Field',metadata:{},type:'Int'},{calls:[{kind:'Call',metadata:{type:'Int'},name:'width',value:c('Relay').QL.__var(m)},{kind:'Call',metadata:{type:'Int'},name:'height',value:c('Relay').QL.__var(n)}],children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'},{fieldName:'width',kind:'Field',metadata:{},type:'Int'},{fieldName:'height',kind:'Field',metadata:{},type:'Int'}],fieldName:'image',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'},{calls:[{kind:'Call',metadata:{type:'Int'},name:'width',value:c('Relay').QL.__var(o)},{kind:'Call',metadata:{type:'Int'},name:'height',value:c('Relay').QL.__var(p)}],children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'sprite_image',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('Relay').QL.__id(),kind:'Fragment',metadata:{},name:'HoverAnimatedSticker_react_StickerRelayQL',type:'Sticker'};}(j,j,j,j);}}});}),null);
__d('HoverAnimatedStickerRoute',['RelayQL','RelayRoute'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('RelayRoute'));i=h&&h.prototype;function j(){h.apply(this,arguments);}j.routeName='HoverAnimatedStickerRoute';j.paramDefinitions={id:{required:true,type:'String'}};j.queries={sticker:function k(l){return function(m){return {calls:[{kind:'Call',metadata:{type:'ID!'},name:'id',value:{kind:'CallVariable',callVariableName:'id'}}],children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},c('RelayQL').__frag(m)]),fieldName:'node',kind:'Query',metadata:{isAbstract:true,identifyingArgName:'id',identifyingArgType:'ID!'},name:'HoverAnimatedStickerRoute',type:'Node'};}(l.getFragment('sticker'));}};f.exports=j;}),null);
__d('MessengerBotsQuickReplyButton.react',['cx','MessengerEnvironment','HoverAnimatedSticker.react','HoverAnimatedStickerRoute','Image.react','MercuryConfig','MessengerConfig','React','RelayRootContainer','XUISpinner.react','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k,l,m,n,o,p,q,r,s,t,u=c('React').PropTypes;i=babelHelpers.inherits(v,c('React').Component);j=i&&i.prototype;v.prototype.render=function(){var ba=this.props.option;return c('React').createElement('div',{className:(ba.dismissed?"_18m_":'')+(' '+"_56n2")},this.$MessengerBotsQuickReplyButton1());};v.prototype.$MessengerBotsQuickReplyButton1=function(){switch(this.props.option.content_type){case 'text':return c('React').createElement(w,babelHelpers['extends']({imageUrl:this.$MessengerBotsQuickReplyButton2()},this.props));case 'sticker':return c('React').createElement(y,this.props);case 'location':case 'p2p_payment':case 'ride_service':return c('React').createElement(x,babelHelpers['extends']({imageUrl:this.$MessengerBotsQuickReplyButton2()},this.props));default:return null;}};v.prototype.$MessengerBotsQuickReplyButton2=function(){var ba=this.props.option,ca=c('MessengerEnvironment').messengerui;switch(ba.content_type){case 'location':if(ca){return '/images/messenger_commerce/location_action.png';}else return '/images/messenger_commerce/location_action_chat_tab.png';case 'p2p_payment':return ca?'/images/messenger_commerce/p2p_payment_action_desktop_temporary.png':'/images/messenger_commerce/p2p_payment_action_chat_tab_temporary.png';case 'ride_service':return ca?'/images/messenger_commerce/rideshare_action_desktop_temporary.png':'/images/messenger_commerce/rideshare_action_chat_tab_temporary.png';default:return ba.image_url;}};function v(){i.apply(this,arguments);}v.propTypes={option:u.object.isRequired,onClick:u.func.isRequired,setPreview:u.func.isRequired};k=babelHelpers.inherits(w,c('React').Component);l=k&&k.prototype;w.prototype.render=function(){var ba=this.props,ca=ba.option,da=ba.onClick,ea=ba.imageUrl,fa=c('MessengerEnvironment').messengerui,ga=c('MessengerConfig').MessengerIconQuickReply,ha=ga&&!!ea;return c('React').createElement('div',{className:c('joinClasses')(this.props.className,"_3u69"+(fa?' '+"_36wf":'')+(fa&&!ha?' '+"_2pi9":'')+(!fa?' '+"_-lq":'')+(!fa&&!ha?' '+"_2pi8":'')),onClick:da,role:'button',tabIndex:'0'},ha&&ea?c('React').createElement(z,{imageUrl:ea}):null,c('React').createElement(aa,{hasIcon:ha,title:ca&&ca.title}));};function w(){k.apply(this,arguments);}w.propTypes={option:u.object.isRequired,imageUrl:u.string,onClick:u.func.isRequired};m=babelHelpers.inherits(x,c('React').Component);n=m&&m.prototype;x.prototype.render=function(){var ba=this.props,ca=ba.option,da=ba.onClick,ea=ba.imageUrl,fa=c('MessengerEnvironment').messengerui,ga=this.$ActionButton1();return c('React').createElement('div',{className:c('joinClasses')(this.props.className,"_3u69"+(!ga?' '+"_5pdw":'')+(fa?' '+"_10-b":'')+(fa&&ga?' '+"_5pdx":'')+(!fa?' '+"_-lq":'')+(!fa&&ga?' '+"_5pdy":'')),onClick:da,role:'button',tabIndex:'0'},ea?c('React').createElement(z,{imageUrl:ea}):null,c('React').createElement(aa,{hasIcon:!!ea,title:ca&&ca.title}));};x.prototype.$ActionButton1=function(){switch(this.props.option.content_type){case 'p2p_payment':return false;case 'location':return !c('MessengerEnvironment').messengerui;default:return true;}};function x(){m.apply(this,arguments);}x.propTypes={option:u.object.isRequired,imageUrl:u.string,onClick:u.func.isRequired};o=babelHelpers.inherits(y,c('React').PureComponent);p=o&&o.prototype;function y(){var ba,ca;for(var da=arguments.length,ea=Array(da),fa=0;fa<da;fa++)ea[fa]=arguments[fa];return ca=(ba=p.constructor).call.apply(ba,[this].concat(ea)),this.state={clearPreviewFn:null},this.$StickerButton3=function(){var ga=c('React').createElement(c('RelayRootContainer'),{Component:c('HoverAnimatedSticker.react'),route:new (c('HoverAnimatedStickerRoute'))({id:this.$StickerButton2()}),renderFetched:function ia(ja){return c('React').createElement(c('HoverAnimatedSticker.react'),babelHelpers['extends']({},ja,{animationTrigger:'load_and_hover',forceCursorPointer:true,maxDimension:120}));}}),ha=this.props.setPreview(ga);this.setState({clearPreviewFn:ha});}.bind(this),this.$StickerButton4=function(){this.$StickerButton1();}.bind(this),ca;}y.prototype.componentWillUnmount=function(){this.$StickerButton1();};y.prototype.render=function(){var ba=this.props.onClick,ca=c('MessengerEnvironment').messengerui,da=this.$StickerButton2();if(!da)return null;var ea=ca?44:36;return c('React').createElement('div',{className:c('joinClasses')(this.props.className,"_3u69"+(' '+"_59x7")),onClick:ba,onMouseEnter:this.$StickerButton3,onMouseLeave:this.$StickerButton4,role:'presentation'},c('React').createElement(c('RelayRootContainer'),{Component:c('HoverAnimatedSticker.react'),route:new (c('HoverAnimatedStickerRoute'))({id:da}),renderLoading:function fa(ga){return c('React').createElement(c('XUISpinner.react'),{background:'light',size:'small'});},renderFetched:function fa(ga){return c('React').createElement(c('HoverAnimatedSticker.react'),babelHelpers['extends']({},ga,{forceCursorPointer:true,maxDimension:ea}));}}));};y.prototype.$StickerButton2=function(){var ba=this.props.option,ca=ba.data;return ca&&ca.sticker_id;};y.prototype.$StickerButton1=function(){this.state.clearPreviewFn?this.state.clearPreviewFn():null;};y.propTypes={option:u.object.isRequired,onClick:u.func.isRequired,setPreview:u.func.isRequired};q=babelHelpers.inherits(z,c('React').Component);r=q&&q.prototype;z.prototype.render=function(){var ba=this.props.imageUrl,ca=c('MessengerEnvironment').messengerui;return c('React').createElement(c('Image.react'),{src:ba,className:(ca?"_10-a":'')+(!ca?' '+"_10-9":'')+(!ca?' '+"_3-8h":'')});};function z(){q.apply(this,arguments);}z.propTypes={imageUrl:u.string.isRequired};s=babelHelpers.inherits(aa,c('React').Component);t=s&&s.prototype;aa.prototype.render=function(){var ba=this.props,ca=ba.hasIcon,da=ba.title,ea=c('MessengerEnvironment').messengerui;return c('React').createElement('div',{className:(ea?"_10-e":'')+(ea&&ca?' '+"_10-f":'')+(ea&&ca?' '+"_3-91":'')+(!ea?' '+"_10-c":'')+(!ea&&ca?' '+"_10-d":'')+(!ea&&ca?' '+"_3-90":'')},da);};function aa(){s.apply(this,arguments);}aa.propTypes={hasIcon:u.bool.isRequired,title:u.string.isRequired};f.exports=v;}),null);
__d('messengerDynamicMapReact',['bs_curry','reactRe','MessengerDynamicMap.react'],(function a(b,c,d,e,f,g){'use strict';function h(j,k,l){return c('bs_curry')._1(j,[k,l]);}function i(j,k,l,m,n,o){var p={lat:j,"long":k,onMarkerDragEnd:function r(s,t){return c('bs_curry')._1(l,[s,t]);},onMarkerDragStart:m,height:n,width:o},q=c('MessengerDynamicMap.react');return function(r,s,t,u){return c('reactRe').wrapPropsShamelessly(q,p,r,s,t,u);};}g.makeTwoArgTuple=h;g.createElement=i;}),null);
__d("messengerSendLocationDialogReact",["cx","fbt","bs_curry","React","reactRe","utilsRe","CurrentUser","PhotosUploadID","messengerDialogsRe","MercuryMessageObject","messengerDialogReact","MercuryAttachmentType","MercuryMessageActions","messengerSpinnerReact","MercuryTriodeSourceUtil","messengerDialogBodyReact","messengerDynamicMapReact"],(function a(b,c,d,e,f,g,h,i){'use strict';var j={enableHighAccuracy:true,timeout:60000,maximumAge:120000};function k(){return c("utilsRe").isTruthy(navigator&&'geolocation' in navigator);}var l=c("reactRe").Component[8][8][6],m=l[1],n=l[2],o=l[3],p="MessengerSendLocationDialogReact";function q(){return [0,0,0,0];}function r(){return [0];}function s(na){if(na){return 0;}else return c("messengerDialogsRe").removeDialog(0);}function t(na,oa){var pa=na[0];return [[pa[0],pa[1],[oa[0]],[oa[1]]]];}function u(na,oa){return t(na,[oa.coords.latitude,oa.coords.longitude]);}function v(na,oa){var pa=na[0],qa=oa.code,ra=qa!==1?[i._("Sorry, something went wrong. Please try again, or send your location from the Messenger app."),i._("Couldn't find location")]:[i._("Messenger needs permission to access your location. Please update your browser settings or use the Messenger app."),i._("Permission required")];return [[[ra[0]],[ra[1]],pa[2],pa[3]]];}function w(na,oa){var pa=c("utilsRe").isTruthy(navigator&&'geolocation' in navigator),qa=na[4][0];if(pa!==0)if(qa)navigator.geolocation.clearWatch(qa[0]);return 0;}function x(na,oa){var pa=na[1],qa=na[0];c("messengerDialogsRe").removeDialog(0);var ra=c("CurrentUser").getID(),sa=c("MercuryMessageObject").getForFBID(ra),ta=c("MercuryMessageActions").getForFBID(ra),ua="upload_"+c("PhotosUploadID").getNewID(),va=sa.constructAttachmentMessageObject(c("MercuryTriodeSourceUtil").getMercuryTriodeSource(),pa[0]),wa=qa[2],xa=qa[3];if(wa)if(xa)va.location_attachment={coordinates:{latitude:wa[0],longitude:xa[0]},is_current_location:true};var ya={upload_id:ua,preview_attachments:[{upload_id:ua,attach_type:c("MercuryAttachmentType").PHOTO,preview_uploading:true}]};ta.addAttachmentPlaceholder(va,ua,ya);ta.send(va,function(){ta.confirmAttachmentPlaceholder(ua,{upload_id:ua});return 0;},undefined);c("bs_curry")._1(pa[1],0);return 0;}function y(na){return c("utilsRe").$pipe$unknown(na[0][1],i._("Your location"));}function z(na){var oa=na[2],pa=na[0],qa=pa[0],ra=pa[2],sa=pa[3];if(qa){return qa[0];}else{var ta=0;if(ra){if(sa){return c("messengerDynamicMapReact").createElement(ra[0],sa[0],c("bs_curry")._1(oa,t),c("bs_curry")._1(oa,w),500,500)(0,0,0,0);}else ta=1;}else ta=1;if(ta===1)return c("React").createElement("div",{className:"_j4g"},c("messengerSpinnerReact").createElement(0,0,0)(0,0,0,0));}}function aa(na){var oa=na[0],pa=oa[0],qa=oa[2],ra=oa[3];if(pa||!(qa&&ra)){return null;}else return c("bs_curry").app(c("messengerDialogReact").Button[0],[0,[i._("Send Location")],0,0,[c("bs_curry")._1(na[2],x)],[0],0,0,0,0,0,0]);}function ba(na){var oa=na[2],pa=na[0];if(c("utilsRe").isTruthy(navigator&&'geolocation' in navigator)){na[4][0]=[navigator.geolocation.watchPosition(c("bs_curry")._1(oa,u),c("bs_curry")._1(oa,v),j)];return 0;}else return [[[i._("Your browser doesn't support location sharing. You can also send your location from the Messenger app.")],[i._("Location not supported")],pa[2],pa[3]]];}function ca(na){w(na,0);return 0;}function da(na){return c("bs_curry").app(c("messengerDialogReact").Dialog[0],[0,s,0,0,0,0,[548],[c("bs_curry")._6(c("messengerDialogReact").Header[0],0,0,[y(na),0],0,0,0),[c("bs_curry")._3(c("messengerDialogBodyReact").createElement(0,[z(na),0]),0,0,0),[c("bs_curry")._6(c("messengerDialogReact").Footer[0],0,0,[c("bs_curry")._5(c("messengerDialogReact").CancelButton[0],0,0,0,0,0),[aa(na),0]],0,0,0),0]]],0,0,0]);}var ea=[function(na){return [na.threadID,na.onCompletion];}],fa=[m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea],ga=c("reactRe").CreateComponent([p,r,q,ba,o,m,n,ca,ea,da]),ha=ga[1];function ia(na,oa){return c("bs_curry")._1(ha,[na,oa]);}var ja=500,ka=500,la=c("utilsRe").$pipe$unknown,ma=ga[0];g.mapHeight=ja;g.mapWidth=ka;g.locationOptions=j;g.$pipe$unknown=la;g.isLocationAPISupported=k;g.MessengerSendLocationDialogReact=fa;g.comp=ma;g.wrapProps=ha;g.createElement=ia;}),null);
__d('messengerAskLocationPermissionDialogReact',['fbt','bs_curry','reactRe','messengerDialogsRe','messengerDialogReact','messengerDialogBodyReact','messengerSendLocationDialogReact'],(function a(b,c,d,e,f,g,h){'use strict';var i=h._("Allow location access"),j=h._("Giving Messenger access to your location enables features such as sharing where you are with friends. You can turn it off at any time."),k=h._("Allow"),l=c('reactRe').Component[9],m=l[0],n=l[1],o=l[2],p=l[3],q=l[4],r=l[5],s=l[6],t="MessengerAskLocationPermissionDialogReact";function u(da){if(da){return 0;}else return c('messengerDialogsRe').removeDialog(0);}function v(da,ea){var fa=da[1];c('messengerDialogsRe').removeDialog(0);c('messengerDialogsRe').showDialog(function(){return c('bs_curry')._4(c('messengerSendLocationDialogReact').createElement(fa[0],function(){return 0;}),0,0,0,0);});return 0;}function w(da){return c('bs_curry').app(c('messengerDialogReact').Dialog[0],[0,u,0,0,0,0,0,[c('bs_curry')._6(c('messengerDialogReact').Header[0],0,0,[i,0],0,0,0),[c('bs_curry')._3(c('messengerDialogBodyReact').createElement(0,[j,0]),0,0,0),[c('bs_curry')._6(c('messengerDialogReact').Footer[0],0,0,[c('bs_curry')._5(c('messengerDialogReact').CancelButton[0],0,0,0,0,0),[c('bs_curry').app(c('messengerDialogReact').Button[0],[0,[k],0,0,[c('bs_curry')._1(da[2],v)],[0],0,0,0,0,0,0]),0]],0,0,0),0]]],0,0,0]);}var x=[function(da){return [da.threadID];}],y=[m,n,o,p,q,r,s,t,u,v,w,x],z=c('reactRe').CreateComponent([t,r,s,m,p,n,o,q,x,w]),aa=z[1],ba=c('bs_curry').__1(aa),ca=z[0];g.title=i;g.message=j;g.buttonLabel=k;g.MessengerAskLocationPermissionDialog=y;g.comp=ca;g.wrapProps=aa;g.createElement=ba;}),null);
__d('MessengerBotsQuickReplyButtonContainer.react',['cx','fbt','MessengerEnvironment','CurrentUser','MercuryConfig','MercuryIDs','MercuryMessageActions','MercuryMessageObject','MercurySourceType','messengerAskLocationPermissionDialogReact','MessengerBotsWebTypedLogger','MessengerBotsQuickReplyButton.react','messengerDialogsRe','messengerSendLocationDialogReact','MNBotsLoggerEvents','MNOmniMConstants','OmniMActions','P2PActions','P2PLogger','P2PPaymentLoggerEvent','P2PPaymentLoggerEventFlow','PECurrency','React','SimpleXUIDialog'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('MercuryMessageActions').get(),m=c('messengerAskLocationPermissionDialogReact').comp,n=c('messengerSendLocationDialogReact').comp,o=c('React').PropTypes,p='omni_m';j=babelHelpers.inherits(q,c('React').PureComponent);k=j&&j.prototype;function q(){var r,s;for(var t=arguments.length,u=Array(t),v=0;v<t;v++)u[v]=arguments[v];return s=(r=k.constructor).call.apply(r,[this].concat(u)),this.state={showDismiss:false},this.$MessengerBotsQuickReplyButtonContainer9=function(){if(!c('MercuryConfig').OmniMDismissalDisabled&&this.props.source===c('MNOmniMConstants').OMNIM)this.setState({showDismiss:true});}.bind(this),this.$MessengerBotsQuickReplyButtonContainer7=function(){this.setState({showDismiss:false});}.bind(this),this.$MessengerBotsQuickReplyButtonContainer10=function(){var w=this.props,x=w.threadID,y=w.option,z=w.source,aa=w.index;c('OmniMActions').suggestionCompleted(x,y,z,aa);}.bind(this),this.$MessengerBotsQuickReplyButtonContainer8=function(){var w=this.props,x=w.threadID,y=w.option,z=w.source,aa=w.index;c('OmniMActions').suggestionDismissed(x,y,z,aa);}.bind(this),this.$MessengerBotsQuickReplyButtonContainer1=function(){var w=new (c('MercuryMessageObject'))(c('CurrentUser').getID()),x=this.props,y=x.option,z=x.source,aa=this.props.threadID;l.send(w.constructCTAConfirmationMessageObject(y.title,c('MercurySourceType').TITAN_WEB,aa,y));if(z===c('MNOmniMConstants').QUICKREPLIES)new (c('MessengerBotsWebTypedLogger'))().setEvent(c('MNBotsLoggerEvents').BOT_COMPOSER_QUICK_REPLY_TAPPED).setPageID(c('MercuryIDs').getUserIDFromThreadID(aa)).setPayload(y.payload).setTitle(y.title).setType(y.content_type).setIndex(this.props.index.toString()).log();this.$MessengerBotsQuickReplyButtonContainer10();}.bind(this),this.$MessengerBotsQuickReplyButtonContainer2=function(){var w=c('MessengerEnvironment').messengerui;if(w){if(navigator&&'permissions' in navigator){navigator.permissions.query({name:'geolocation'}).then(function(z){var aa=z&&z.state;if(aa==='prompt'){c('messengerDialogsRe').showDialog(function(){return c('React').createElement(m,{threadID:this.props.threadID});}.bind(this));}else c('messengerDialogsRe').showDialog(function(){return c('React').createElement(n,{threadID:this.props.threadID,onCompletion:this.$MessengerBotsQuickReplyButtonContainer10});}.bind(this));}.bind(this));}else c('messengerDialogsRe').showDialog(function(){return c('React').createElement(n,{threadID:this.props.threadID,onCompletion:this.$MessengerBotsQuickReplyButtonContainer10});}.bind(this));}else{var x=i._("Couldn't send location"),y=i._("You can only send your location from the Messenger app.");c('SimpleXUIDialog').show(y,x);}}.bind(this),this.$MessengerBotsQuickReplyButtonContainer4=function(){var w=this.props,x=w.option,y=w.threadID,z=x&&x.data&&x.data.payment_amount,aa=x&&x.data&&x.data.payment_currency,ba=x&&x.data&&x.data.payment_type,ca={referrer:p,threadID:y,openRequestTab:ba==='request',onCompletion:this.$MessengerBotsQuickReplyButtonContainer10};if(z&&aa)ca.amount=c('PECurrency').formatAmount(aa,z,false,false,false,false);c('P2PLogger').log(c('P2PPaymentLoggerEvent').UI_ACTN_SEND_MONEY_OMNIM_SUGGESTION_CLICKED,{www_event_flow:ba==='request'?c('P2PPaymentLoggerEventFlow').UI_FLOW_P2P_REQUEST:c('P2PPaymentLoggerEventFlow').UI_FLOW_P2P_SEND,amount:z,currency:aa,object_id:c('MercuryIDs').getThreadFBIDFromThreadID(y)});c('P2PActions').chatSendViewOpened(ca);}.bind(this),this.$MessengerBotsQuickReplyButtonContainer3=function(){var w=new (c('MercuryMessageObject'))(c('CurrentUser').getID()),x=this.props.option,y=this.props.threadID,z=x.data,aa=z&&z.sticker_id;if(!aa)return;var ba=w.constructStickerMessageObject(aa+'',c('MercurySourceType').TITAN_WEB,y);ba.body='';l.send(ba);this.$MessengerBotsQuickReplyButtonContainer10();}.bind(this),s;}q.prototype.render=function(){var r=this.props,s=r.option,t=r.source,u={text:this.$MessengerBotsQuickReplyButtonContainer1,location:this.$MessengerBotsQuickReplyButtonContainer2,sticker:this.$MessengerBotsQuickReplyButtonContainer3,p2p_payment:this.$MessengerBotsQuickReplyButtonContainer4,ride_service:this.$MessengerBotsQuickReplyButtonContainer5},v=this.$MessengerBotsQuickReplyButtonContainer6(u[s.content_type]);return c('React').createElement('div',{onMouseLeave:this.$MessengerBotsQuickReplyButtonContainer7,className:(s.dismissed?"_18m_":'')+(' '+"_4yx8")+(this.state.showDismiss?' '+"_835":'')+(t===c('MNOmniMConstants').OMNIM?' '+"_4yx9":'')},c('React').createElement('div',{className:"_4yxa",onClick:this.$MessengerBotsQuickReplyButtonContainer8,role:'presentation'}),c('React').createElement('div',{onMouseOver:this.$MessengerBotsQuickReplyButtonContainer9},c('React').createElement(c('MessengerBotsQuickReplyButton.react'),{onClick:v,option:s,className:this.props.className,setPreview:this.props.setPreview})));};q.prototype.$MessengerBotsQuickReplyButtonContainer6=function(r){var s=this.props,t=s.threadID,u=s.option,v=s.source,w=s.index;return function(){c('OmniMActions').suggestionClicked(t,u,v,w);return r.apply(undefined,arguments);};};q.prototype.$MessengerBotsQuickReplyButtonContainer5=function(){var r=i._("Couldn't order a ride"),s=i._("You can only order a ride from the Messenger app.");c('SimpleXUIDialog').show(s,r);};q.propTypes={option:o.object.isRequired,threadID:o.string.isRequired,index:o.number.isRequired,source:o.string.isRequired,setPreview:o.func.isRequired};f.exports=q;}),null);
__d("XSimpleNUXMessagesController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/ajax\/nux\/{msg_id}\/seen\/",{msg_id:{type:"Int",required:true}});}),null);
__d('SimpleNUXMessage',['AsyncRequest','SimpleNUXMessageTypesToShow','XSimpleNUXMessagesController'],(function a(b,c,d,e,f,g){function h(j){return !c('SimpleNUXMessageTypesToShow')[j];}function i(j){delete c('SimpleNUXMessageTypesToShow')[j];var k=c('XSimpleNUXMessagesController').getURIBuilder().setInt('msg_id',j).getURI();new (c('AsyncRequest'))().setURI(k).send();}f.exports={hasUserSeenMessage:h,markMessageSeenByUser:i};}),null);
__d('MessengerBotsQuickReplyButtonList.react',['cx','fbt','AdsArrowedCarouselEnhanced.react','MessengerEnvironment','immutable','Link.react','MercuryConfig','MercuryIDs','MessengerBotsQuickReplyButtonContainer.react','MessengerBotsWebTypedLogger','MNBotsLoggerEvents','MNOmniMConstants','OmniMActions','OmniMHelpers','React','SimpleNUXMessage','SimpleNUXMessageTypes','Visibility','XUIAmbientNUX.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').PureComponent);k=j&&j.prototype;function m(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={nuxShown:false,previewItem:null,showPreview:false,showDismiss:false},this.$MessengerBotsQuickReplyButtonList1='mLogo',this.$MessengerBotsQuickReplyButtonList2=null,this.$MessengerBotsQuickReplyButtonList3=null,this.$MessengerBotsQuickReplyButtonList4=function(){if(this.$MessengerBotsQuickReplyButtonList3){clearTimeout(this.$MessengerBotsQuickReplyButtonList3);this.$MessengerBotsQuickReplyButtonList3=null;}if(c('Visibility').isHidden()){c('Visibility').removeAllListeners();c('Visibility').once(c('Visibility').VISIBLE,this.$MessengerBotsQuickReplyButtonList14);}else this.$MessengerBotsQuickReplyButtonList14();}.bind(this),this.$MessengerBotsQuickReplyButtonList14=function(){var t=this.props,u=t.options,v=t.threadID;if(v){this.$MessengerBotsQuickReplyButtonList3=setTimeout(function(){c('OmniMActions').barTimedOut(v,u);this.$MessengerBotsQuickReplyButtonList3=null;c('Visibility').removeAllListeners();}.bind(this),c('MercuryConfig').OmniMSuggestionTTL);c('Visibility').removeAllListeners();c('Visibility').once(c('Visibility').HIDDEN,this.$MessengerBotsQuickReplyButtonList4);}}.bind(this),this.$MessengerBotsQuickReplyButtonList13=function(t){this.setState({previewItem:t});this.$MessengerBotsQuickReplyButtonList2=setTimeout(function(){return this.setState({showPreview:true});}.bind(this),c('MercuryConfig').OmniMPreviewDelay);return function(){if(this.state.previewItem===t){clearTimeout(this.$MessengerBotsQuickReplyButtonList2);this.setState({previewItem:null});}}.bind(this);}.bind(this),this.$MessengerBotsQuickReplyButtonList10=function(){var t=this.props.threadID;if(t)c('OmniMActions').suggestionsDismissedForThread(t);}.bind(this),this.$MessengerBotsQuickReplyButtonList11=function(){if(!c('MercuryConfig').OmniMDismissalDisabled)this.setState({showDismiss:true});}.bind(this),this.$MessengerBotsQuickReplyButtonList9=function(){this.setState({showDismiss:false});}.bind(this),this.$MessengerBotsQuickReplyButtonList15=function(){c('SimpleNUXMessage').markMessageSeenByUser(c('SimpleNUXMessageTypes').OMNIM_SUGGESTIONS);this.setState({nuxShown:false});}.bind(this),p;}m.prototype.componentDidMount=function(){if(this.props.source===c('MNOmniMConstants').OMNIM){this.props.options.map(function(o,p){return c('OmniMActions').suggestionDisplayed(o,p);});c('OmniMActions').barDisplayed(this.props.options);this.$MessengerBotsQuickReplyButtonList4();}this.$MessengerBotsQuickReplyButtonList5();};m.prototype.componentDidUpdate=function(o){var p=o.source===c('MNOmniMConstants').OMNIM?o.options:[],q=void 0;if(this.props.source===c('MNOmniMConstants').OMNIM){q=this.props.options;this.$MessengerBotsQuickReplyButtonList4();}else q=[];if(p.length||q.length)this.$MessengerBotsQuickReplyButtonList6(p,q);this.$MessengerBotsQuickReplyButtonList5();this.$MessengerBotsQuickReplyButtonList7(o,this.props);};m.prototype.componentWillUnmount=function(){if(this.props.source===c('MNOmniMConstants').OMNIM){this.props.options.map(function(o,p){return c('OmniMActions').suggestionDisappeared(o,p);});c('OmniMActions').barDisappeared(this.props.options);}clearTimeout(this.$MessengerBotsQuickReplyButtonList2);clearTimeout(this.$MessengerBotsQuickReplyButtonList3);};m.prototype.render=function(){var o=c('React').createElement(c('AdsArrowedCarouselEnhanced.react'),null,this.$MessengerBotsQuickReplyButtonList8());if(this.props.source===c('MNOmniMConstants').OMNIM){var p=c('MessengerEnvironment').messengerui,q=this.props.omniMPrefs,r=c('OmniMHelpers').suggestionMode(q),s=!c('MercuryConfig').OmniMLogoDisabled,t=c('React').createElement('div',{className:"_5fop"+(!p?' '+"_1nl8":'')+(this.state.showDismiss?' '+"_835":''),onMouseLeave:this.$MessengerBotsQuickReplyButtonList9},c('React').createElement('div',{className:"_4yxa",onClick:this.$MessengerBotsQuickReplyButtonList10,role:'button',tabIndex:'0',title:i._("Dismiss all suggestions")}),c('React').createElement('div',{className:"_17in"+(r==1?' '+"_1ei7":'')+(r==2?' '+"_1eig":''),onMouseOver:this.$MessengerBotsQuickReplyButtonList11,ref:this.$MessengerBotsQuickReplyButtonList1}));return c('React').createElement('div',{className:'uiContextualLayerParent'},this.$MessengerBotsQuickReplyButtonList12(),c('React').createElement('div',{className:"_17im"+(!s?' '+"_2dfb":'')},c('React').createElement('div',{className:"_3-kc"+(this.state.showPreview?' '+"_3-kd":'')},this.state.previewItem),s?t:null,c('React').createElement('div',{className:"_17io"},o)));}return o;};m.prototype.$MessengerBotsQuickReplyButtonList8=function(){var o=this.props,p=o.options,q=o.source,r=c('MessengerEnvironment').messengerui;if(q===c('MNOmniMConstants').QUICKREPLIES)new (c('MessengerBotsWebTypedLogger'))().setEvent(c('MNBotsLoggerEvents').BOT_COMPOSER_QUICK_REPLY_DISPLAYED).setPageID(c('MercuryIDs').getUserIDFromThreadID(this.props.threadID)).log();return p.map(function(s,t){return c('React').createElement('div',{className:(r?"_1nl7":'')+(!r?' '+"_1nl8":''),key:t},c('React').createElement(c('MessengerBotsQuickReplyButtonContainer.react'),{option:s,threadID:this.props.threadID,index:t,source:q,setPreview:this.$MessengerBotsQuickReplyButtonList13}));}.bind(this));};m.prototype.$MessengerBotsQuickReplyButtonList12=function(){if(c('MercuryConfig').EnableOmniMNUX&&this.state.nuxShown){var o=c('MessengerEnvironment').messengerui;return c('React').createElement(c('XUIAmbientNUX.react'),{className:"_53zy",contextRef:function(){return this.refs[this.$MessengerBotsQuickReplyButtonList1];}.bind(this),shown:this.state.nuxShown,position:'above',width:'custom',customwidth:o?450:245,onCloseButtonClick:this.$MessengerBotsQuickReplyButtonList15},c('React').createElement('div',{className:"_53z_"},c('React').createElement('h1',{className:"_53-0"},'[FB-ONLY] Introducing M'),c('React').createElement('p',{className:"_53-b"},'M will now provide suggestions right in your conversation. Let us know when they aren\'t helpful so we can improve M.'),c('React').createElement('p',{className:"_53-c"},c('React').createElement(c('Link.react'),{onClick:this.$MessengerBotsQuickReplyButtonList15,target:'_blank',href:'https://fburl.com/omnim-nux'},'Learn How'))));}return null;};m.prototype.$MessengerBotsQuickReplyButtonList5=function(){if(this.props.source===c('MNOmniMConstants').OMNIM&&this.refs[this.$MessengerBotsQuickReplyButtonList1]){var o=!c('SimpleNUXMessage').hasUserSeenMessage(c('SimpleNUXMessageTypes').OMNIM_SUGGESTIONS);this.setState({nuxShown:o});}else if(this.state.nuxShown)this.setState({nuxShown:false});};m.prototype.$MessengerBotsQuickReplyButtonList7=function(o,p){if(o.threadID!==p.threadID){if(o.source===c('MNOmniMConstants').OMNIM)c('OmniMActions').barDisappeared(o.options);if(p.source===c('MNOmniMConstants').OMNIM)c('OmniMActions').barDisplayed(p.options);}};m.prototype.$MessengerBotsQuickReplyButtonList6=function(o,p){if(n(o.map(function(w){return w.suggestionID;}),p.map(function(w){return w.suggestionID;})))return;if(!o.length){p.map(function(w,x){return c('OmniMActions').suggestionDisplayed(w,x);});return;}if(!p.length){o.map(function(w,x){return c('OmniMActions').suggestionDisappeared(w,x);});return;}var q=c('immutable').Set(c('immutable').Range(0,p.length));for(var r=0;r<o.length;r++){var s=o[r],t=false;for(var u=0;u<p.length;u++){var v=p[u];if(s.suggestionID===v.suggestionID){if(r!==u)c('OmniMActions').suggestionDisplayed(v,u);t=true;q=q['delete'](u);break;}}if(!t)c('OmniMActions').suggestionDisappeared(s,r);}q.map(function(w){return c('OmniMActions').suggestionDisplayed(p[w],w);});};m.propTypes={options:l.array.isRequired,threadID:l.string,source:l.string.isRequired};function n(o,p){if(o.length!==p.length)return false;var q;for(q=0;q<o.length;q++)if(o[q]!==p[q])return false;return true;}f.exports=m;}),null);