if (self.CavalryLogger) { CavalryLogger.start_js(["b0kY4"]); }

__d('RelayModernFragmentSpecResolver',['invariant','forEachObject','isScalarAndEqual','RelayModernSelector'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('RelayModernSelector').areEqualSelectors,j=c('RelayModernSelector').getSelectorsFromObject;function k(p,q,r,s){this.$RelayModernFragmentSpecResolver8=function(){this.$RelayModernFragmentSpecResolver7=true;this.$RelayModernFragmentSpecResolver1();}.bind(this);this.$RelayModernFragmentSpecResolver1=s;this.$RelayModernFragmentSpecResolver2=p;this.$RelayModernFragmentSpecResolver3={};this.$RelayModernFragmentSpecResolver4=q;this.$RelayModernFragmentSpecResolver5=r;this.$RelayModernFragmentSpecResolver6={};this.$RelayModernFragmentSpecResolver7=false;this.setProps(r);}k.prototype.dispose=function(){c('forEachObject')(this.$RelayModernFragmentSpecResolver6,o);};k.prototype.resolve=function(){var p,q=this;if(this.$RelayModernFragmentSpecResolver7)(function(){var r=q.$RelayModernFragmentSpecResolver3,s=void 0;c('forEachObject')(q.$RelayModernFragmentSpecResolver6,function(t,u){var v=r[u];if(t){var w=t.resolve();if(s||w!==v){s=s||babelHelpers['extends']({},r);s[u]=w;}}else{var x=this.$RelayModernFragmentSpecResolver5[u],y=x!==undefined?x:null;if(s||!c('isScalarAndEqual')(y,v)){s=s||babelHelpers['extends']({},r);s[u]=y;}}}.bind(q));q.$RelayModernFragmentSpecResolver3=s||r;q.$RelayModernFragmentSpecResolver7=false;})();return this.$RelayModernFragmentSpecResolver3;};k.prototype.setProps=function(p){var q=j(this.$RelayModernFragmentSpecResolver2.variables,this.$RelayModernFragmentSpecResolver4,p);c('forEachObject')(q,function(r,s){var t=this.$RelayModernFragmentSpecResolver6[s];if(r==null){if(t!=null)t.dispose();t=null;}else if(Array.isArray(r)){if(t==null){t=new n(this.$RelayModernFragmentSpecResolver2.environment,r,this.$RelayModernFragmentSpecResolver8);}else{t instanceof n||h(0);t.setSelectors(r);}}else if(t==null){t=new l(this.$RelayModernFragmentSpecResolver2.environment,r,this.$RelayModernFragmentSpecResolver8);}else{t instanceof l||h(0);t.setSelector(r);}this.$RelayModernFragmentSpecResolver6[s]=t;}.bind(this));this.$RelayModernFragmentSpecResolver5=p;this.$RelayModernFragmentSpecResolver7=true;};k.prototype.setVariables=function(p){c('forEachObject')(this.$RelayModernFragmentSpecResolver6,function(q){if(q)q.setVariables(p);});this.$RelayModernFragmentSpecResolver7=true;};function l(p,q,r){m.call(this);var s=p.lookup(q);this.$SelectorResolver1=r;this.$SelectorResolver2=s.data;this.$SelectorResolver3=p;this.$SelectorResolver4=q;this.$SelectorResolver5=p.subscribe(s,this.$SelectorResolver6);}l.prototype.dispose=function(){if(this.$SelectorResolver5){this.$SelectorResolver5.dispose();this.$SelectorResolver5=null;}};l.prototype.resolve=function(){return this.$SelectorResolver2;};l.prototype.setSelector=function(p){if(this.$SelectorResolver5!=null&&i(p,this.$SelectorResolver4))return;this.dispose();var q=this.$SelectorResolver3.lookup(p);this.$SelectorResolver2=q.data;this.$SelectorResolver4=p;this.$SelectorResolver5=this.$SelectorResolver3.subscribe(q,this.$SelectorResolver6);};l.prototype.setVariables=function(p){var q=babelHelpers['extends']({},this.$SelectorResolver4,{variables:p});this.setSelector(q);};var m=function p(){this.$SelectorResolver6=function(q){this.$SelectorResolver2=q.data;this.$SelectorResolver1();}.bind(this);};function n(p,q,r){this.$SelectorListResolver6=function(s){this.$SelectorListResolver5=true;this.$SelectorListResolver1();}.bind(this);this.$SelectorListResolver1=r;this.$SelectorListResolver2=[];this.$SelectorListResolver3=p;this.$SelectorListResolver4=[];this.$SelectorListResolver5=true;this.setSelectors(q);}n.prototype.dispose=function(){this.$SelectorListResolver4.forEach(o);};n.prototype.resolve=function(){if(this.$SelectorListResolver5){var p=this.$SelectorListResolver2,q=void 0;for(var r=0;r<this.$SelectorListResolver4.length;r++){var s=p[r],t=this.$SelectorListResolver4[r].resolve();if(q||t!==s){q=q||p.slice(0,r);q.push(t);}}this.$SelectorListResolver2=q||p;this.$SelectorListResolver5=false;}return this.$SelectorListResolver2;};n.prototype.setSelectors=function(p){while(this.$SelectorListResolver4.length>p.length){var q=this.$SelectorListResolver4.pop();q.dispose();}for(var r=0;r<p.length;r++)if(r<this.$SelectorListResolver4.length){this.$SelectorListResolver4[r].setSelector(p[r]);}else this.$SelectorListResolver4[r]=new l(this.$SelectorListResolver3,p[r],this.$SelectorListResolver6);this.$SelectorListResolver5=true;};n.prototype.setVariables=function(p){this.$SelectorListResolver4.forEach(function(q){return q.setVariables(p);});this.$SelectorListResolver5=true;};function o(p){p&&p.dispose();}f.exports=k;}),null);