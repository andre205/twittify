if (self.CavalryLogger) { CavalryLogger.start_js(["um2CA"]); }

__d("NFXStoryLocation",[],(function a(b,c,d,e,f,g){f.exports={FEED:"feed",VIDEO_LIST_CHANNEL:"video_list_channel",VIDEO_PLAYLIST_CHANNEL:"video_playlist_channel",WATCHED_VIDEOS_CHANNEL:"watched_videos_channel",EXPLORE_FEED:"explore_feed",PROFILE_SELF:"profile_self",PROFILE_SOMEONE_ELSE:"profile_someone_else",PAGE:"page",PERMALINK:"permalink",PHOTO_VIEWER:"photo_viewer",PAGE_REVIEW:"page_review",POPULAR_AT:"popular_at",CURATED_SECTION:"curated_section",GROUP:"group",EVENT:"event",SEARCH:"search",UNKNOWN:"unknown",PROFILE_REPORTING_FLOW:"profile_reporting_flow",HEAD_PUBLISHER_APP_MENTIONS_FEED:"head_publisher_app_mentions_feed",MESSENGER:"messenger",MESSENGER_MONTAGE_VIEWER:"messenger_montage_viewer",FUNDRAISER_PAGE_FEED:"fundraiser_page_feed",FUNDRAISER_PERSON_TO_CHARITY:"fundraiser_person_to_charity",FUNDRAISER_PERSON_FOR_PERSON:"fundraiser_person_for_person",SETTINGS:"settings",LIVE_MAP:"live_map",JOB_BROWSER:"job_browser",MESSENGER_THREAD_ACTION_PANEL:"messenger_thread_action_panel",MESSENGER_CONTACT_DETAILS:"messenger_contact_details",TICKER:"ticker",FULLSCREEN_VIDEO_PLAYER:"fullscreen_video_player",ACTIVITY_LOG_FACE_ALERTS:"face_alerts",HELP_COMMUNITY:"help_community",SUPPORT_INBOX:"support_inbox",APP_INVITES_FEED:"app_invites_feed",CHAINING_FEED:"chaining_feed",SOCIAL_REPORTING_REDIRECT:"social_reporting_redirect",WWW_CHAT_HEAD:"www_chat_head",THROWBACK:"throwback",POST_TO_PAGE:"post_to_page",ACTIVITY_LOG:"activity_log",VIDEO_CHANNEL:"video_channel",VIDEO_CHANNELS:"video_channels",VIDEO_HOME:"video_home",REVIEWS_FEED:"reviews_feed",BACKSTAGE:"backstage",MESSENGER_ENCRYPTED_THREAD:"messenger_encrypted_thread",LOCAL_NEWS:"local_news",MARKETPLACE_PDP:"marketplace_pdp",MARKETPLACE_PROFILE:"marketplace_profile",MARKETPLACE_RATING_CONFIRMATION:"marketplace_rating_confirmation",MARKETPLACE_RATING_FLOW:"marketplace_rating_flow",MARKETPLACE_THREAD:"marketplace_thread",MARKETPLACE_THREAD_BUYER:"marketplace_thread_buyer",POLITICAL_ISSUE_MODULE:"political_issue_module",ELECTION_HUB:"election_hub",DIRECT_MESSAGING:"direct_messaging",CAMERA_MEDIA_EFFECT:"camera_media_effect",SPATIAL_PRIVACY_PUBLIC:"spatial_privacy_public",SPATIAL_PRIVACY_FRIENDS:"spatial_privacy_friends",SPATIAL_PRIVACY_ALL:"spatial_privacy_all",SPATIAL_PRIVACY_SELF:"spatial_privacy_self",PROFILE_DEPRECATED:"profile",TIMELINE_DEPRECATED:"timeline",BREAKUP_FLOW:"breakup_flow",ASYNC_TASK_DO_NOT_USE:"async",INSTANT_ARTICLES:"instant_articles",INSTANT_ARTICLE_WEBVIEW_AD:"instant_article_webview_ad",IN_APP_BROWSER:"in_app_browser",INSTREAM_VIDEO:"instream_video",TOPIC_PAGE:"topic_page"};}),null);
__d('Video.react',['React','ReactDOM'],(function a(b,c,d,e,f,g){var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.componentWillUpdate=function(l,m){'use strict';if(l.playbackRate){var n=c('ReactDOM').findDOMNode(this.refs.video);n.playbackRate=l.playbackRate;}};k.prototype.render=function(){'use strict';return c('React').createElement('video',babelHelpers['extends']({},this.props,{ref:'video'}));};function k(){'use strict';h.apply(this,arguments);}k.propTypes={autoPlay:j.bool,controls:j.bool,height:j.oneOfType([j.string,j.number]),loop:j.bool,muted:j.bool,onAbort:j.func,onCanPlay:j.func,onCanPlayThrough:j.func,onDurationChange:j.func,onEmptied:j.func,onEncrypted:j.func,onEnded:j.func,onError:j.func,onLoadedData:j.func,onLoadedMetadata:j.func,onLoadStart:j.func,onPause:j.func,onPlay:j.func,onPlaying:j.func,onProgress:j.func,onRateChange:j.func,onSeeked:j.func,onSeeking:j.func,onStalled:j.func,onSuspend:j.func,onTimeUpdate:j.func,onVolumeChange:j.func,onWaiting:j.func,playbackRate:j.number,poster:j.string,src:j.string.isRequired,width:j.oneOfType([j.string,j.number])};f.exports=k;}),null);
__d('MenuSeparator',['cx','DOM','CSS','MenuItemInterface'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('MenuItemInterface'));j=i&&i.prototype;function k(l){'use strict';j.constructor.call(this,l);this._data=l;this.showFn=this._data.should_show_fn;}k.prototype.updateShownState=function(l){'use strict';if(this.showFn){this._isHidden=!this.showFn(l);if(this._root)c('CSS').conditionShow(this._root,!this._isHidden);}};k.prototype.isShown=function(l){'use strict';var m=this.showFn?this.showFn(l):true;return m;};k.prototype.render=function(){'use strict';var l="_54ak";if(this._data.className)l+=' '+this._data.className;var m=this._data.label||'',n=c('DOM').create('li',{className:l,role:'separator'},m);if(this._isHidden)c('CSS').hide(n);return n;};f.exports=k;}),null);
__d('MenuSeparator.react',['MenuSeparator'],(function a(b,c,d,e,f,g){function h(j){j.isReactLegacyFactory={};j.type=j;}var i=c('MenuSeparator');h(i);f.exports=i;}),null);
__d('MessengerMontageClientTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:MessengerMontageClientLoggerConfig',this.$MessengerMontageClientTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:MessengerMontageClientLoggerConfig',this.$MessengerMontageClientTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$MessengerMontageClientTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$MessengerMontageClientTypedLogger1=babelHelpers['extends']({},this.$MessengerMontageClientTypedLogger1,j);return this;};h.prototype.setContentType=function(j){this.$MessengerMontageClientTypedLogger1.content_type=j;return this;};h.prototype.setCurrentPosition=function(j){this.$MessengerMontageClientTypedLogger1.current_position=j;return this;};h.prototype.setEntryPoint=function(j){this.$MessengerMontageClientTypedLogger1.entry_point=j;return this;};h.prototype.setEvent=function(j){this.$MessengerMontageClientTypedLogger1.event=j;return this;};h.prototype.setExitAction=function(j){this.$MessengerMontageClientTypedLogger1.exit_action=j;return this;};h.prototype.setMessageDuration=function(j){this.$MessengerMontageClientTypedLogger1.message_duration=j;return this;};h.prototype.setMessageSource=function(j){this.$MessengerMontageClientTypedLogger1.message_source=j;return this;};h.prototype.setMessageStartTime=function(j){this.$MessengerMontageClientTypedLogger1.message_start_time=j;return this;};h.prototype.setMid=function(j){this.$MessengerMontageClientTypedLogger1.mid=j;return this;};h.prototype.setOwnerID=function(j){this.$MessengerMontageClientTypedLogger1.owner_id=j;return this;};h.prototype.setQueueType=function(j){this.$MessengerMontageClientTypedLogger1.queue_type=j;return this;};h.prototype.setTotalQueue=function(j){this.$MessengerMontageClientTypedLogger1.total_queue=j;return this;};h.prototype.setVC=function(j){this.$MessengerMontageClientTypedLogger1.vc=j;return this;};h.prototype.updateExtraData=function(j){j=c('nullthrows')(c('GeneratedLoggerUtils').serializeMap(j));c('GeneratedLoggerUtils').checkExtraDataFieldNames(j,i);this.$MessengerMontageClientTypedLogger1=babelHelpers['extends']({},this.$MessengerMontageClientTypedLogger1,j);return this;};h.prototype.addToExtraData=function(j,k){var l={};l[j]=k;return this.updateExtraData(l);};var i={content_type:true,current_position:true,entry_point:true,event:true,exit_action:true,message_duration:true,message_source:true,message_start_time:true,mid:true,owner_id:true,queue_type:true,total_queue:true,vc:true};f.exports=h;}),null);
__d("cssURL",[],(function a(b,c,d,e,f,g){function h(i){return "url('"+i.replace(/(\\|\s|\(|\)|'|\")/g,'\\$1')+"')";}f.exports=h;}),null);
__d('CssBackgroundImage.react',['EncryptedImg','React','createCancelableFunction','cssURL'],(function a(b,c,d,e,f,g){var h=c('React').PropTypes,i=c('React').createClass({displayName:'CssBackgroundImage',getProps:{imageURI:h.string.isRequired,className:h.string,backgroundPosition:h.string,height:h.string,width:h.string,style:h.object,onMouseDown:h.func,onMouseMove:h.func,onMouseUp:h.func,onMouseOut:h.func},getInitialState:function j(){return {image:'data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACwAAAAAAQABAAACAkQBADs='};},getDefaultProps:function j(){return {backgroundPosition:'0% 0%',style:{}};},_process:function j(k){if(!c('EncryptedImg').isEncrypted(k)){this.setState({image:k});return;}if(this.encryptedImgCallback)this.encryptedImgCallback.cancel();this.encryptedImgCallback=c('createCancelableFunction')(function(l){if(k===this.props.imageURI)this.setState({image:l});}.bind(this));c('EncryptedImg').load(k,this.encryptedImgCallback);},componentWillMount:function j(){if(this.props.imageURI!=null)this._process(this.props.imageURI);},componentWillReceiveProps:function j(k){if(k.imageURI!=null)this._process(k.imageURI);},componentWillUnmount:function j(){if(this.encryptedImgCallback)this.encryptedImgCallback.cancel();},render:function j(){var k=this.props,l=k.imageURI,m=k.backgroundPosition,n=k.height,o=k.width,p=k.style,q=babelHelpers.objectWithoutProperties(k,['imageURI','backgroundPosition','height','width','style']);return c('React').createElement('div',babelHelpers['extends']({style:Object.assign({},p,{backgroundImage:c('cssURL')(this.state.image),backgroundPosition:m||p.backgroundPosition,height:n||p.height,width:o||p.width})},q));}});f.exports=i;}),null);
__d('MessengerMenu.react',['cx','Keys','MenuSeparator.react','ReactXUIMenu','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;function k(m){m.isReactLegacyFactory={};m.type=m;}i=babelHelpers.inherits(l,c('ReactXUIMenu'));j=i&&i.prototype;function l(m){var n=m.className,o=babelHelpers.objectWithoutProperties(m,['className']);j.constructor.call(this,babelHelpers['extends']({className:c('joinClasses')(n,"_2i-c _150g")},o));}l.prototype.handleKeydown=function(m,n){if(m===c('Keys').DOWN||m===c('Keys').UP||m===c('Keys').SPACE)return j.handleKeydown.call(this,m,n);return true;};k(l);l.Item=c('ReactXUIMenu').Item;l.Separator=c('MenuSeparator.react');f.exports=l;}),null);
__d('MessengerPopoverMenu.react',['cx','ContextualDialogArrow','ContextualLayerAutoFlip','ContextualLayerUpdateOnScroll','PopoverMenu.react','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;i=babelHelpers.inherits(k,c('React').PureComponent);j=i&&i.prototype;k.prototype.render=function(){var l=this.props,m=l.children,n=l.className,o=l.isOpen,p=babelHelpers.objectWithoutProperties(l,['children','className','isOpen']),q=c('React').Children.only(m);return c('React').createElement(c('PopoverMenu.react'),babelHelpers['extends']({className:c('joinClasses')(n,!p.disableArrowKeyActivation||o?"_150g":''),enableActivationOnEnter:true,layerBehaviors:[c('ContextualLayerAutoFlip'),c('ContextualLayerUpdateOnScroll'),c('ContextualDialogArrow')]},p),q);};function k(){i.apply(this,arguments);}f.exports=k;}),null);
__d('MontageProgressBar.react',['cx','React'],(function a(b,c,d,e,f,g,h){'use strict';var i=function j(k){var l=k.activeIndex,m=k.count,n=k.progressPercent,o=[];for(var p=0;p<m;p++)o.push(c('React').createElement('div',{key:p,className:"_4wd4"+(p===l?' '+"_4wd6":'')},p===l?c('React').createElement('div',{className:"_4wd4 _4wd7",style:{width:n+'%'}}):null));return c('React').createElement('div',{className:"_4wd8"},o);};f.exports=i;}),null);
__d("XRapidReportingMessageDialogController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/rapid_report\/message\/",{message_id:{type:"String",required:true},story_location:{type:"String",required:true}});}),null);
__d('MontageCard.react',['cx','fbt','AsyncRequest','CssBackgroundImage.react','MessengerMenu.react','MontageProgressBar.react','MessengerPopoverMenu.react','Link.react','NFXStoryLocation','React','Relay','RelayQL','Timestamp.react','XRapidReportingMessageDialogController','idx'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('MessengerMenu.react').Item,m=c('React').PropTypes,n=['montage_camera','montage_composition'],o=function q(r){return r.stopPropagation();};j=babelHelpers.inherits(p,c('React').Component);k=j&&j.prototype;function p(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=k.constructor).call.apply(q,[this].concat(t)),this.state={progressPercent:0},this.$MontageCard3=function(){var v,w=(v=this.props)!=null?(v=v.message)!=null?v.message_id:v:v;if(w){var x=c('XRapidReportingMessageDialogController').getURIBuilder().setString('message_id',w).setString('story_location',c('NFXStoryLocation').MESSENGER_MONTAGE_VIEWER).getURI(),y=new (c('AsyncRequest'))().setURI(x);y.send();}}.bind(this),this.$MontageCard1=function(v){if(v!==this.state.progressPercent)this.setState({progressPercent:v});}.bind(this),r;}p.prototype.render=function(){var q=this.props,r=q.active,s=q.activeIndex,t=q.count,u=q.message;if(!u)return null;var v=u.message_sender.messaging_actor,w=u.timestamp,x=u.message_source_data&&u.message_source_data.message_source,y=n.indexOf(x)===-1,z=c('React').Children.map(this.props.children,function(aa){return c('React').cloneElement(aa,{renderWithBorder:y,onProgress:this.$MontageCard1});}.bind(this));if(y)z=c('React').createElement('div',{className:"_3avs"},z);return c('React').createElement('div',{className:"_5uag _q38",style:{zIndex:r?1:undefined}},z,c('React').createElement('div',{className:"_5uag _1pwf"},c('React').createElement(c('MontageProgressBar.react'),{activeIndex:s,count:t,progressPercent:this.state.progressPercent}),c('React').createElement('div',{className:"_1pwg"},c('React').createElement(c('CssBackgroundImage.react'),{className:"_3cx4",imageURI:v.profile_picture.uri}),c('React').createElement('div',{className:"_1pwn"},c('React').createElement('span',null,v.name),c('React').createElement(c('Timestamp.react'),{className:"_yc_",minimize:true,time:w})),c('React').createElement(c('MessengerPopoverMenu.react'),{className:"_47gp",menu:this.$MontageCard2()},c('React').createElement(c('Link.react'),{'aria-haspopup':'true','aria-label':i._("Message options"),className:"_47gq",onMouseUp:o,onMouseDown:o,role:'button'})))));};p.prototype.$MontageCard2=function(){var q=c('React').createElement(c('MessengerMenu.react'),null,c('React').createElement(l,{label:i._("Report"),onclick:this.$MontageCard3}));return q;};p.propTypes={active:m.bool.isRequired,activeIndex:m.number.isRequired,count:m.number.isRequired,message:m.object,children:m.object};f.exports=c('Relay').createContainer(p,{fragments:{message:function q(){return function(){return {children:[{fieldName:'message_id',kind:'Field',metadata:{},type:'ID'},{children:[{fieldName:'message_source',kind:'Field',metadata:{},type:'String'}],fieldName:'message_source_data',kind:'Field',metadata:{canHaveSubselections:true},type:'MessageSourceData'},{children:[{children:[{fieldName:'name',kind:'Field',metadata:{},type:'String'},{calls:[{kind:'Call',metadata:{type:'Int'},name:'height',value:{kind:'CallValue',callValue:50}},{kind:'Call',metadata:{type:'Int'},name:'width',value:{kind:'CallValue',callValue:50}}],children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'profile_picture',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],fieldName:'messaging_actor',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isAbstract:true},type:'MessagingActor'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'message_sender',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'MessagingParticipant'},{fieldName:'timestamp',kind:'Field',metadata:{},type:'Time'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MontageCard_react_MessageRelayQL',type:'UserMessage'};}();}}});}),null);
__d('montageCardWithStandardTimer',['React','cancelAnimationFrame','requestAnimationFrame'],(function a(b,c,d,e,f,g){'use strict';var h=c('React').PropTypes,i=8000;function j(k){var l,m;return m=l=function(){var n,o;n=babelHelpers.inherits(p,c('React').Component);o=n&&n.prototype;function p(){var q,r;'use strict';for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=o.constructor).call.apply(q,[this].concat(t)),this.state={startedTime:0,pausedTime:0},this.$_class1=null,this.$_class3=function(){if(!this.props.paused){var v=(Date.now()-this.state.startedTime)/i*100;this.props.onProgress(v);if(v>=100){this.props.onEnded();return;}}this.$_class1=c('requestAnimationFrame')(this.$_class3);}.bind(this),r;}p.prototype.componentDidMount=function(){'use strict';this.$_class2();};p.prototype.componentDidUpdate=function(){'use strict';this.$_class2();};p.prototype.$_class2=function(){'use strict';if(!this.props.active&&(this.$_class1||this.state.pausedTime)){this.$_class4();}else if(!this.props.paused&&!this.$_class1){this.$_class5();}else if(this.$_class1&&this.props.paused)this.$_class6();};p.prototype.$_class6=function(){'use strict';this.setState({pausedTime:Date.now()});c('cancelAnimationFrame')(this.$_class1);this.$_class1=null;};p.prototype.$_class5=function(){'use strict';var q={startedTime:Date.now()};if(this.state.pausedTime){var r=q.startedTime-this.state.pausedTime,s=this.state.startedTime+r;q={pausedTime:0,startedTime:s};}this.setState(q);this.$_class1=c('requestAnimationFrame')(this.$_class3);};p.prototype.$_class4=function(){'use strict';this.setState({pausedTime:0,startedTime:0});c('cancelAnimationFrame')(this.$_class1);this.$_class1=null;};p.prototype.componentWillUnmount=function(){'use strict';c('cancelAnimationFrame')(this.$_class1);};p.prototype.render=function(){'use strict';var q=this.props,r=q.paused,s=q.onEnded,t=q.onProgress,u=babelHelpers.objectWithoutProperties(q,['paused','onEnded','onProgress']);return c('React').createElement(k,u);};return p;}(),l.propTypes={active:h.bool.isRequired,paused:h.bool.isRequired,onEnded:h.func.isRequired,onProgress:h.func.isRequired},m;}f.exports=j;}),null);
__d('MontageCardPhoto.react',['cx','CssBackgroundImage.react','Image.react','React','Relay','RelayQL','montageCardWithStandardTimer'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){return this.props.renderWithBorder?c('React').createElement('div',{className:"_5uag _3p9v"},c('React').createElement(c('Image.react'),{className:"_3p9w",src:this.props.photoAttachment.image.uri})):c('React').createElement(c('CssBackgroundImage.react'),{className:"_5uag",imageURI:this.props.photoAttachment.image.uri});};function l(){i.apply(this,arguments);}l.propTypes={photoAttachment:k.shape({image:k.shape({uri:k.string.isRequired}).isRequired}).isRequired};f.exports=c('Relay').createContainer(c('montageCardWithStandardTimer')(l),{fragments:{photoAttachment:function m(){return function(){return {children:[{children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'image',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MontageCardPhoto_react_PhotoAttachmentRelayQL',type:'MessageImage'};}();}}});}),null);
__d('MontageCardSticker.react',['cx','Image.react','React','Relay','RelayQL','montageCardWithStandardTimer'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){var m=this.props.sticker.animated_image?this.props.sticker.animated_image.uri:this.props.sticker.image.uri;return c('React').createElement('div',{className:"_5uag _3p9v"},c('React').createElement(c('Image.react'),{src:m}));};function l(){i.apply(this,arguments);}l.propTypes={sticker:k.shape({animated_image:k.shape({uri:k.string.isRequired}),image:k.shape({uri:k.string.isRequired})}).isRequired};f.exports=c('Relay').createContainer(c('montageCardWithStandardTimer')(l),{fragments:{sticker:function m(){return function(){return {children:[{children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'image',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'},{children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'animated_image',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MontageCardSticker_react_StickerRelayQL',type:'Sticker'};}();}}});}),null);
__d('MontageCardText.react',['cx','MessengerTextWithEntities.react','React','Relay','RelayQL','montageCardWithStandardTimer'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){return c('React').createElement(c('MessengerTextWithEntities.react'),{className:"_5uag _2zz1",customSize:true,renderEmoji:true,text:this.props.userMessage.message.text});};function l(){i.apply(this,arguments);}l.propTypes={userMessage:k.shape({message:k.shape({text:k.string.isRequired}).isRequired}).isRequired};f.exports=c('Relay').createContainer(c('montageCardWithStandardTimer')(l),{fragments:{userMessage:function m(){return function(){return {children:[{children:[{fieldName:'text',kind:'Field',metadata:{},type:'String'}],fieldName:'message',kind:'Field',metadata:{canHaveSubselections:true},type:'TextWithEntities'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MontageCardText_react_UserMessageRelayQL',type:'UserMessage'};}();}}});}),null);
__d('MontageCardVideo.react',['cx','Video.react','React','Relay','RelayQL','cancelAnimationFrame','requestAnimationFrame'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.$MontageCardVideo1=null,this.$MontageCardVideo5=function(){if(this.$MontageCardVideo2&&this.$MontageCardVideo2.readyState>0){var r=this.$MontageCardVideo2.currentTime/this.$MontageCardVideo2.duration*100;this.props.onProgress(r);if(r>=100){this.props.onEnded();return;}}this.$MontageCardVideo1=c('requestAnimationFrame')(this.$MontageCardVideo5);}.bind(this),n;}l.prototype.componentDidMount=function(){this.$MontageCardVideo3();};l.prototype.componentDidUpdate=function(){this.$MontageCardVideo3();};l.prototype.componentWillUnmount=function(){this.$MontageCardVideo4();};l.prototype.$MontageCardVideo3=function(){if(!this.$MontageCardVideo2)return;if(!this.props.paused&&this.$MontageCardVideo2.paused){this.$MontageCardVideo2.play();this.$MontageCardVideo1=c('requestAnimationFrame')(this.$MontageCardVideo5);}else{this.$MontageCardVideo4();if(!this.props.active&&this.$MontageCardVideo2)this.$MontageCardVideo2.currentTime=0;}};l.prototype.$MontageCardVideo4=function(){c('cancelAnimationFrame')(this.$MontageCardVideo1);this.$MontageCardVideo1=null;if(this.$MontageCardVideo2)this.$MontageCardVideo2.pause();};l.prototype.render=function(){return c('React').createElement(c('Video.react'),{autoPlay:false,className:"_5uag",onEnded:this.props.onEnded,onError:this.props.onEnded,src:this.props.videoAttachment.playable_url,ref:function(m){return this.$MontageCardVideo2=m&&m.refs.video;}.bind(this)});};l.propTypes={paused:k.bool.isRequired,onEnded:k.func.isRequired,onProgress:k.func.isRequired,videoAttachment:k.shape({playable_url:k.string.isRequired}).isRequired};f.exports=c('Relay').createContainer(l,{fragments:{videoAttachment:function m(){return function(){return {children:[{fieldName:'playable_url',kind:'Field',metadata:{},type:'Url'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MontageCardVideo_react_VideoAttachmentRelayQL',type:'MessageVideo'};}();}}});}),null);
__d('MontageThumbnail.react',['cx','CssBackgroundImage.react','MessengerTextWithEntities.react','React','Relay','RelayQL'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l=28,m=21;i=babelHelpers.inherits(n,c('React').Component);j=i&&i.prototype;n.prototype.render=function(){return c('React').createElement('div',{className:"_4bj3"},this.getFirstImage(),this.renderUnreadBadge());};n.prototype.renderUnreadBadge=function(){return this.props.unread?c('React').createElement('div',{className:"_4bj5",style:{backgroundColor:this.props.customColor}}):null;};n.prototype.getFirstImage=function(){var o=this.props.message;if(!o)return null;if(o.sticker)return this.getImageElement(o.sticker.image);if(o.blob_attachments[0]){var p=o.blob_attachments[0],q=p.image||p.videoImage||p.mediaImage;if(q)return this.getImageElement(q);}if(o.message.text)return c('React').createElement(c('MessengerTextWithEntities.react'),{className:"_4bj6 _4bj9",customSize:true,renderEmoji:true,style:{height:l,width:m},text:o.message.text});return null;};n.prototype.getImageElement=function(o){return c('React').createElement(c('CssBackgroundImage.react'),{className:"_4bj6",height:l,imageURI:o.uri,width:m});};function n(){i.apply(this,arguments);}n.propTypes={customColor:k.string,message:k.object.isRequired,unread:k.bool.isRequired};f.exports=c('Relay').createContainer(n,{fragments:{message:function o(p){return function(q,r,s,t,u,v,w,x){return {children:[{children:[{fieldName:'text',kind:'Field',metadata:{},type:'String'}],fieldName:'message',kind:'Field',metadata:{canHaveSubselections:true},type:'TextWithEntities'},{children:[{calls:[{kind:'Call',metadata:{type:'Int'},name:'height',value:c('RelayQL').__var(q)},{kind:'Call',metadata:{type:'Int'},name:'width',value:c('RelayQL').__var(r)}],children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'image',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'sticker',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'Sticker'},{children:[{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},{children:[{alias:'mediaImage',calls:[{kind:'Call',metadata:{type:'Int'},name:'height',value:c('RelayQL').__var(s)},{kind:'Call',metadata:{type:'Int'},name:'width',value:c('RelayQL').__var(t)}],children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'image',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},{children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{isAbstract:true},name:'IdFragment',type:'Node'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{isAbstract:true},name:'Media',type:'Media'},{children:[{alias:'videoImage',calls:[{kind:'Call',metadata:{type:'Int'},name:'height',value:c('RelayQL').__var(u)},{kind:'Call',metadata:{type:'Int'},name:'width',value:c('RelayQL').__var(v)}],children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'image',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessageVideo',type:'MessageVideo'},{children:[{calls:[{kind:'Call',metadata:{type:'Int'},name:'height',value:c('RelayQL').__var(w)},{kind:'Call',metadata:{type:'Int'},name:'width',value:c('RelayQL').__var(x)}],children:[{fieldName:'uri',kind:'Field',metadata:{},type:'Url'}],fieldName:'image',kind:'Field',metadata:{canHaveSubselections:true},type:'Image'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MessageImage',type:'MessageImage'},{children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{isAbstract:true},name:'IdFragment',type:'Node'}],fieldName:'blob_attachments',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isAbstract:true,isPlural:true},type:'MessageBlobAttachment'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MontageThumbnail_react_MessageRelayQL',type:'UserMessage'};}(l,m,l,m,l,m,l,m);}}});}),null);
__d('MessengerMobileWindow.react',['cx','MessengerPhotoViewCloseLink.react','React','SpotlightViewer'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){var m=this.props,n=m.background,o=m.fontSize,p=m.onHide,q=m.open,r=m.children,s=m.onClose,t=babelHelpers.objectWithoutProperties(m,['background','fontSize','onHide','open','children','onClose']);return c('React').createElement(c('SpotlightViewer'),{onHide:p,open:q,rootClassName:"_7yx"+(n==='light'?' '+"_1lwq":'')},c('React').createElement('div',babelHelpers['extends']({className:"_7yy"},t),c('React').createElement('div',{className:"_7yz"}),c('React').createElement('div',{className:"_7y-"+(o==='auto'?' '+"_5q__":'')},c('React').createElement('div',{className:"_5uag"},r)),c('React').createElement(c('MessengerPhotoViewCloseLink.react'),{onClick:s,customTooltip:null})));};function l(){i.apply(this,arguments);}l.defaultProps={background:'light',fontSize:'auto'};l.propTypes={background:k.string.isRequired,fontSize:k.string.isRequired,onClose:k.func.isRequired,onHide:k.func.isRequired,open:k.bool.isRequired};f.exports=l;}),null);
__d('MontageSpotlightViewer.react',['KeyEventController','MessengerMobileWindow.react','MessengerMontageClientTypedLogger','MontageCard.react','MontageCardPhoto.react','MontageCardSticker.react','MontageCardText.react','MontageCardVideo.react','React','Relay','RelayQL','SubscriptionsHandler'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes,k=300,l={auto_play:'auto_play',click:'click',arrow:'arrow',esc:'esc',click_exit_button:'click_exit_button'},m={next:'_next',prev:'_prev'},n=function q(event,r){if(r=='onkeyup')return c('KeyEventController').filterEventTargets(event,r)&&c('KeyEventController').filterEventModifiers(event,r);return false;};h=babelHelpers.inherits(o,c('React').Component);i=h&&h.prototype;function o(){var q,r;for(var s=arguments.length,t=Array(s),u=0;u<s;u++)t[u]=arguments[u];return r=(q=i.constructor).call.apply(q,[this].concat(t)),this.state=this.initialState(),this.$MontageSpotlightViewer1=new (c('SubscriptionsHandler'))(),this.$MontageSpotlightViewer2='unknown',this.$MontageSpotlightViewer3=null,this.$MontageSpotlightViewer6=function(){this.setState({paused:Date.now()});}.bind(this),this.$MontageSpotlightViewer7=function(){var v=Date.now()-this.state.paused;if(v<k){this.$MontageSpotlightViewer5(l.click);}else this.setState({paused:0});}.bind(this),this.$MontageSpotlightViewer9=function(){this.setState({cardIndex:0,paused:0,open:false});}.bind(this),this.$MontageSpotlightViewer12=this.$MontageSpotlightViewer5.bind(this,l.auto_play),this.$MontageSpotlightViewer8=function(){this.$MontageSpotlightViewer3=Date.now();}.bind(this),r;}o.prototype.initialState=function(){var q=this.props.messages?this.props.messages.count:1;return {cardIndex:this.props.initialUnreadCount?q-this.props.initialUnreadCount:0,open:true,paused:0};};o.prototype.componentDidMount=function(){this.$MontageSpotlightViewer1.addSubscriptions(c('KeyEventController').registerKey('LEFT',function(){this.$MontageSpotlightViewer4(l.arrow);return false;}.bind(this)),c('KeyEventController').registerKey('RIGHT',function(){this.$MontageSpotlightViewer5(l.arrow);return false;}.bind(this)),c('KeyEventController').registerKey('SPACE',function(){if(!this.state.paused)this.$MontageSpotlightViewer6();return false;}.bind(this)),c('KeyEventController').registerKey('SPACE',function(){this.$MontageSpotlightViewer7();return false;}.bind(this),n));this.$MontageSpotlightViewer8();};o.prototype.render=function(){return c('React').createElement(c('MessengerMobileWindow.react'),{onClose:this.$MontageSpotlightViewer9,onHide:this.props.onHide,onMouseDown:this.$MontageSpotlightViewer6,onMouseUp:this.$MontageSpotlightViewer7,open:this.state.open},this.$MontageSpotlightViewer10());};o.prototype.componentWillUnmount=function(){this.$MontageSpotlightViewer1&&this.$MontageSpotlightViewer1.release();this.$MontageSpotlightViewer1=null;};o.prototype.$MontageSpotlightViewer10=function(){var q=this.props.messages||{edges:[{node:this.props.message}]};return q.edges.map(function(r,s){var t=r.node;if(!t||s<this.state.cardIndex-3||s>this.state.cardIndex+3)return null;var u=t.blob_attachments[0],v=t.sticker,w=this.props.messages?this.props.messages.count:1,x=s===this.state.cardIndex,y=!(x&&!this.state.paused),z=null,aa=u&&u.__typename;if(aa==='MessageImage'){x&&this.$MontageSpotlightViewer11('photo');z=c('React').createElement(c('MontageCardPhoto.react'),{active:x,onEnded:this.$MontageSpotlightViewer12,paused:y,photoAttachment:u});}else if(aa==='MessageVideo'){x&&this.$MontageSpotlightViewer11('video');z=c('React').createElement(c('MontageCardVideo.react'),{active:x,onEnded:this.$MontageSpotlightViewer12,paused:y,videoAttachment:u});}else if(v){x&&this.$MontageSpotlightViewer11('sticker');z=c('React').createElement(c('MontageCardSticker.react'),{active:x,onEnded:this.$MontageSpotlightViewer12,paused:y,sticker:v});}else{x&&this.$MontageSpotlightViewer11('text');z=c('React').createElement(c('MontageCardText.react'),{active:x,onEnded:this.$MontageSpotlightViewer12,paused:y,userMessage:t});}return z?c('React').createElement(c('MontageCard.react'),{active:x,activeIndex:this.state.cardIndex,count:w,key:t.message_id,message:t},z):null;}.bind(this)).filter(Boolean);};o.prototype.$MontageSpotlightViewer11=function(q){this.$MontageSpotlightViewer2=q;};o.prototype.$MontageSpotlightViewer4=function(q){this.logMessageExit(q+m.prev);var r=this.state.cardIndex-1;if(r<0){this.$MontageSpotlightViewer9();return;}this.setState({cardIndex:r,paused:0},this.$MontageSpotlightViewer8);};o.prototype.$MontageSpotlightViewer5=function(q){this.logMessageExit(q+m.next);var r=this.props.messages?this.props.messages.count:1,s=this.state.cardIndex+1;if(s>=r){this.$MontageSpotlightViewer9();return;}this.props.loadMore(1);this.setState({cardIndex:s,paused:0},this.$MontageSpotlightViewer8);};o.prototype.logMessageExit=function(q){var r=Date.now(),s=this.props.messages?this.props.messages.count:1,t=this.props.initialUnreadCount||s,u=this.state.cardIndex-(s-t)+1,v=this.props.initialUnreadCount?'unseen':'seen',w=void 0;if(this.props.messages){var x=this.props.messages.edges[this.state.cardIndex];w=x&&x.node;}else w=this.props.message;if(!w||!this.$MontageSpotlightViewer3)return;var y=r-this.$MontageSpotlightViewer3;new (c('MessengerMontageClientTypedLogger'))().setEvent('message_exit').setMid(w.message_id).setOwnerID(w.message_sender.id).setMessageSource(w.message_source_data&&w.message_source_data.message_source).setExitAction(q).setContentType(this.$MontageSpotlightViewer2).setTotalQueue(t).setQueueType(v).setCurrentPosition(u).setEntryPoint(this.props.entryPoint).setMessageStartTime(this.$MontageSpotlightViewer3).setMessageDuration(y).log();};o.propTypes={entryPoint:j.oneOf(['thread_head','reply_context']),initialUnreadCount:j.number,onHide:j.func.isRequired,loadMore:j.func.isRequired,message:j.object,messages:j.object,relay:j.object.isRequired};var p=function(q,r,s,t,u){return {children:[].concat.apply([],[{fieldName:'message_id',kind:'Field',metadata:{},type:'ID'},{children:[{fieldName:'id',kind:'Field',metadata:{isRequisite:true},type:'ID'}],fieldName:'message_sender',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'MessagingParticipant'},{children:[{fieldName:'message_source',kind:'Field',metadata:{},type:'String'}],fieldName:'message_source_data',kind:'Field',metadata:{canHaveSubselections:true},type:'MessageSourceData'},{children:[].concat.apply([],[{fieldName:'__typename',kind:'Field',metadata:{isRequisite:true},type:'String'},c('RelayQL').__frag(s),c('RelayQL').__frag(t),{children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{isAbstract:true},name:'IdFragment',type:'Node'}]),fieldName:'blob_attachments',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isAbstract:true,isPlural:true},type:'MessageBlobAttachment'},{children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('RelayQL').__frag(u)]),fieldName:'sticker',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'Sticker'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('RelayQL').__frag(q),c('RelayQL').__frag(r)]),id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MontageSpotlightViewer_reactRelayQL',type:'UserMessage'};}(c('MontageCard.react').getFragment('message'),c('MontageCardText.react').getFragment('userMessage'),c('MontageCardPhoto.react').getFragment('photoAttachment'),c('MontageCardVideo.react').getFragment('videoAttachment'),c('MontageCardSticker.react').getFragment('sticker'));f.exports=c('Relay').createContainer(o,{fragments:{messages:function q(){return function(r){return {children:[{fieldName:'count',kind:'Field',metadata:{},type:'Int'},{children:[{children:[].concat.apply([],[{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},c('RelayQL').__frag(r),{children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{isAbstract:true},name:'IdFragment',type:'Node'}]),fieldName:'node',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isAbstract:true,isRequisite:true},type:'Message'},{fieldName:'cursor',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'edges',kind:'Field',metadata:{canHaveSubselections:true,isPlural:true},type:'MessagesOfThreadEdge'},{children:[{fieldName:'has_next_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'},{fieldName:'has_previous_page',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'Boolean'}],fieldName:'page_info',kind:'Field',metadata:{canHaveSubselections:true,isGenerated:true,isRequisite:true},type:'PageInfo'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MontageSpotlightViewer_react_MessagesRelayQL',type:'MessagesOfThreadConnection'};}(p);},message:function q(){return p;}}});}),null);
__d('MontageViewerSingleCard.react',['MontageSpotlightViewer.react','React','Relay','RelayQL','emptyFunction'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').Component);i=h&&h.prototype;k.prototype.render=function(){return this.props.open?c('React').createElement(c('MontageSpotlightViewer.react'),{loadMore:c('emptyFunction'),onHide:this.props.onHide,message:this.props.message,entryPoint:'thread_head'}):null;};function k(){h.apply(this,arguments);}k.propTypes={open:j.bool.isRequired,onHide:j.func.isRequired,message:j.object.isRequired,relay:j.object.isRequired};f.exports=c('Relay').createContainer(k,{fragments:{message:function l(){return function(m){return {children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('RelayQL').__frag(m)]),id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MontageViewerSingleCard_react_MessageRelayQL',type:'UserMessage'};}(c('MontageSpotlightViewer.react').getFragment('message'));}}});}),null);
__d('MontageReplyDecorator.react',['cx','fbt','React','MercuryParticipants','Relay','RelayQL','MontageViewerSingleCard.react','MontageThumbnail.react','emptyFunction','idx'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.state={showMontage:false},this.$MontageReplyDecorator1=function(){this.setState({showMontage:true});}.bind(this),this.$MontageReplyDecorator3=function(){this.setState({showMontage:false});}.bind(this),o;}m.prototype.render=function(){var n,o=(n=this.props)!=null?(n=n.thread)!=null?(n=n.montage_author)!=null?n.short_name:n:n:n,p=c('MercuryParticipants').getNow(this.props.replyAuthorID),q=p&&p.short_name;if(!o||!q)return null;var r=this.props.isFromViewer?i._("You replied to {sender_name}'s day",[i.param('sender_name',o)]):i._("{repliers_name} replied to your day",[i.param('repliers_name',q)]);return c('React').createElement('a',{className:"_5yn"+(this.props.isFromViewer?' '+"_5yo":''),href:'#',onClick:this.props.montageReply?this.$MontageReplyDecorator1:c('emptyFunction')},this.props.montageReply?c('React').createElement(c('MontageThumbnail.react'),{message:this.props.montageReply,unread:false}):null,c('React').createElement('span',{className:"_44ac"},r),this.$MontageReplyDecorator2());};m.prototype.$MontageReplyDecorator2=function(){return this.state.showMontage?c('React').createElement(c('MontageViewerSingleCard.react'),{onHide:this.$MontageReplyDecorator3,open:this.state.showMontage,message:this.props.montageReply}):null;};m.propTypes={montageReply:l.object,thread:l.object.isRequired,isFromViewer:l.bool.isRequired,replyAuthorID:l.string};f.exports=c('Relay').createContainer(m,{fragments:{montageReply:function n(o){return function(p,q){return {children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('RelayQL').__frag(p),c('RelayQL').__frag(q)]),id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MontageReplyDecorator_react_MontageReplyRelayQL',type:'UserMessage'};}(c('MontageViewerSingleCard.react').getFragment('message'),c('MontageThumbnail.react').getFragment('message'));},thread:function n(o){return function(){return {children:[{children:[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},{children:[{fieldName:'short_name',kind:'Field',metadata:{},type:'String'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'User',type:'User'}],fieldName:'montage_author',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id',isAbstract:true},type:'Actor'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MontageReplyDecorator_react_ThreadRelayQL',type:'MessageThread'};}();}}});}),null);
__d('MontageReplyRoute',['RelayQL','RelayRoute'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('RelayRoute'));i=h&&h.prototype;function j(){h.apply(this,arguments);}j.routeName='MontageReplyRoute';j.queries={montageReply:function k(l){return function(m){return {calls:[{kind:'Call',metadata:{type:'MessageData!'},name:'thread_and_message_id',value:{kind:'CallVariable',callVariableName:'messageData'}}],children:[].concat.apply([],[{fieldName:'__typename',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'String'},c('RelayQL').__frag(m)]),fieldName:'message',kind:'Query',metadata:{isAbstract:true,identifyingArgName:'thread_and_message_id',identifyingArgType:'MessageData!'},name:'MontageReplyRoute',type:'Message'};}(l.getFragment('montageReply'));},thread:function k(l){return function(m){return {calls:[{kind:'Call',metadata:{type:'ID!'},name:'id',value:{kind:'CallVariable',callVariableName:'threadFBID'}}],children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('RelayQL').__frag(m)]),fieldName:'message_thread',kind:'Query',metadata:{identifyingArgName:'id',identifyingArgType:'ID!'},name:'MontageReplyRoute',type:'MessageThread'};}(l.getFragment('thread'));}};j.paramDefinitions={messageData:{type:'MessageData!',required:true},threadFBID:{type:'ID',required:true}};f.exports=j;}),null);
__d('MontageSelfThreadRoute',['RelayQL','RelayRoute'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('RelayRoute'));i=h&&h.prototype;function j(){h.apply(this,arguments);}j.routeName='MontageSelfThreadRoute';j.queries={thread:function k(l){return function(m){return {children:[].concat.apply([],[c('RelayQL').__frag(m)]),fieldName:'viewer',kind:'Query',metadata:{},name:'MontageSelfThreadRoute',type:'Viewer'};}(l.getFragment('thread'));}};f.exports=j;}),null);
__d('MontageThreadViewRoute',['RelayQL','RelayRoute'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('RelayRoute'));i=h&&h.prototype;function j(){h.apply(this,arguments);}j.routeName='MontageThreadViewRoute';j.queries={threadMessages:function k(l){return function(m){return {calls:[{kind:'Call',metadata:{type:'ID!'},name:'id',value:{kind:'CallVariable',callVariableName:'threadFBID'}}],children:[].concat.apply([],[{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'},c('RelayQL').__frag(m)]),fieldName:'message_thread',kind:'Query',metadata:{identifyingArgName:'id',identifyingArgType:'ID!'},name:'MontageThreadViewRoute',type:'MessageThread'};}(l.getFragment('threadMessages'));}};j.paramDefinitions={threadFBID:{type:'ID',required:true}};f.exports=j;}),null);
__d('MontageReplyDecoratorContainer.react',['MercuryIDs','MontageReplyDecorator.react','MontageReplyRoute','MontageSelfThreadRoute','MontageThreadViewRoute','React','Relay','RelayQL','idx'],(function a(b,c,d,e,f,g){'use strict';var h,i,j,k,l=c('Relay').RootContainer,m=c('React').PropTypes;h=babelHelpers.inherits(n,c('React').Component);i=h&&h.prototype;n.prototype.render=function(){var r=this.props,s=r.isFromViewer,t=r.messageID,u=r.replyAuthorID,v=r.threadID;return c('React').createElement(l,{Component:c('MontageReplyDecorator.react'),route:new (c('MontageReplyRoute'))({messageData:{message_id:t,thread_id:v},threadFBID:v}),renderFetched:function w(x){return c('React').createElement(c('MontageReplyDecorator.react'),babelHelpers['extends']({},x,{isFromViewer:s,replyAuthorID:u}));}});};function n(){h.apply(this,arguments);}n.propTypes={isFromViewer:m.bool.isRequired,messageID:m.string.isRequired,replyAuthorID:m.string.isRequired,threadID:m.string};var o=c('Relay').createContainer(function(r){var s;return c('React').createElement(n,babelHelpers['extends']({},r,{threadID:(s=r)!=null?(s=s.thread)!=null?(s=s.messenger_montage_thread)!=null?(s=s.thread_key)!=null?s.thread_fbid:s:s:s:s}));},{fragments:{thread:function r(s){return function(){return {children:[{children:[{children:[{fieldName:'thread_fbid',kind:'Field',metadata:{},type:'String'}],fieldName:'thread_key',kind:'Field',metadata:{canHaveSubselections:true},type:'MessageThreadKey'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'messenger_montage_thread',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'MessageThread'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MontageReplyDecoratorContainer_react_ThreadRelayQL',type:'Viewer'};}();}}}),p=c('Relay').createContainer(function(r){var s;return c('React').createElement(n,babelHelpers['extends']({},r,{threadID:(s=r)!=null?(s=s.threadMessages)!=null?(s=s.montage_thread)!=null?(s=s.thread_key)!=null?s.thread_fbid:s:s:s:s}));},{fragments:{threadMessages:function r(s){return function(){return {children:[{children:[{children:[{fieldName:'thread_fbid',kind:'Field',metadata:{},type:'String'}],fieldName:'thread_key',kind:'Field',metadata:{canHaveSubselections:true},type:'MessageThreadKey'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],fieldName:'montage_thread',kind:'Field',metadata:{canHaveSubselections:true,inferredRootCallName:'node',inferredPrimaryKey:'id'},type:'MessageThread'},{fieldName:'id',kind:'Field',metadata:{isGenerated:true,isRequisite:true},type:'ID'}],id:c('RelayQL').__id(),kind:'Fragment',metadata:{},name:'MontageReplyDecoratorContainer_react_ThreadMessagesRelayQL',type:'MessageThread'};}();}}});j=babelHelpers.inherits(q,c('React').PureComponent);k=j&&j.prototype;q.prototype.render=function(){var r=this.props,s=r.isFromViewer,t=r.messageID,u=r.replyAuthorID,v=r.threadID;return s?c('React').createElement(l,{Component:p,route:new (c('MontageThreadViewRoute'))({threadFBID:c('MercuryIDs').getThreadFBIDFromThreadID(v)}),renderFetched:function w(x){return c('React').createElement(p,babelHelpers['extends']({},x,{messageID:t,isFromViewer:s,replyAuthorID:u}));}}):c('React').createElement(l,{Component:o,route:new (c('MontageSelfThreadRoute'))(),renderFetched:function w(x){return c('React').createElement(o,babelHelpers['extends']({},x,{messageID:t,isFromViewer:s,replyAuthorID:u}));}});};function q(){j.apply(this,arguments);}q.propTypes={isFromViewer:m.bool.isRequired,messageID:m.string.isRequired,replyAuthorID:m.string.isRequired,threadID:m.string.isRequired};f.exports=q;}),null);