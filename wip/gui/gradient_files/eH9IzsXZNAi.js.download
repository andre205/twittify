if (self.CavalryLogger) { CavalryLogger.start_js(["WQrNo"]); }

__d('MercurySendMessageHandler',['MercuryMessageActions','MercuryMessageObject','MercurySingletonProvider'],(function a(b,c,d,e,f,g){'use strict';h.getForFBID=function(j){return i.getForFBID(j);};h.get=function(){return i.get();};function h(j){this.$MercurySendMessageHandler1=j;this.$MercurySendMessageHandler2=c('MercuryMessageActions').getForFBID(this.$MercurySendMessageHandler1);this.$MercurySendMessageHandler3=c('MercuryMessageObject').getForFBID(this.$MercurySendMessageHandler1);}h.prototype.sendPlainTextMessage=function(j,k,l){var m=this.$MercurySendMessageHandler3.constructUserGeneratedMessageObject(k,l,j);this.$MercurySendMessageHandler2.send(m);};h.prototype.sendSticker=function(j,k,l){var m=this.$MercurySendMessageHandler3.constructStickerMessageObject(k,l,j);this.$MercurySendMessageHandler2.send(m);};h.prototype.sendAttachment=function(j,k,l){var m=this.$MercurySendMessageHandler3.constructAttachmentMessageObject(l,j);this.$MercurySendMessageHandler2.addAttachmentPlaceholder(m,k.upload_id,k);};var i=new (c('MercurySingletonProvider'))(h);f.exports=h;}),null);
__d('MercuryFallbackShareAttachmentActionLinksBlock.react',['cx','CurrentUser','Link.react','MercuryShareAttachmentReactShape','MercuryShareAttachmentRenderLocations','MercurySendMessageHandler','MercurySourceType','MercuryTriodeSourceUtil','MessengerButton.react','MessengerTextWithEntities.react','React','URI'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){'use strict';if(!this.props||!this.props.attachment||!this.props.attachment.action_links)return c('React').createElement('div',{className:"__6j"});var m=this.props.attachment,n=m.action_links,o=n.map(function(p,q){if(!c('URI').isValidURI(p.uri))return null;var r=new (c('URI'))(decodeURI(p.uri)),s=c('React').createElement(c('MessengerTextWithEntities.react'),{renderEmoji:true,text:p.title}),t=this.$MercuryFallbackShareAttachmentActionLinksBlock1.bind(this,r),u="_3usk";if(this.props.location===c('MercuryShareAttachmentRenderLocations').MESSENGER)return c('React').createElement(c('MessengerButton.react'),{className:"_3pff",label:s,key:q,onClick:t,type:'primary',use:'default'});return c('React').createElement(c('Link.react'),{className:u,key:q,onClick:t,target:'_blank'},s);}.bind(this));return c('React').createElement('div',{className:"_3usl"+(this.props.location===c('MercuryShareAttachmentRenderLocations').CHAT?' '+"_17vd":'')+(this.props.location===c('MercuryShareAttachmentRenderLocations').MESSENGER?' '+"_3pfh":'')+(!(m&&m.media.image)?' '+"_3usm":'')},o);};l.prototype.$MercuryFallbackShareAttachmentActionLinksBlock1=function(m){'use strict';var n=m.getProtocol(),o=m.getQueryData(),p=m.getDomain();if('fb-messenger'===n&&'compose'===p){var q=o.m,r=o.s,s=this.props.threadID,t=location===c('MercuryShareAttachmentRenderLocations').MESSENGER?c('MercuryTriodeSourceUtil').getMercuryTriodeSource():c('MercurySourceType').CHAT_WEB;if(r==1){var u=c('MercurySendMessageHandler').getForFBID(c('CurrentUser').getID());u.sendPlainTextMessage(s,q,t);}}if('http'===n||'https'===n)window.open(m.toString(),'_blank');};function l(){'use strict';i.apply(this,arguments);}l.propTypes={attachment:c('MercuryShareAttachmentReactShape'),location:k.oneOf(c('MercuryShareAttachmentRenderLocations').getValues()),threadID:k.string.isRequired};f.exports=l;}),null);
__d('MercuryShareLargeImageAttachmentContent.react',['cx','Image.react','MercuryFallbackShareAttachmentTextBlock.react','MercuryFallbackShareAttachment.react','MercuryShareAttachmentRenderLocations','MercuryShareAttachmentReactShape','MercuryShareSizeImageByWidthMixin','React','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=150,k=c('React').createClass({displayName:'MercuryShareLargeImageAttachmentContent',mixins:[c('MercuryShareSizeImageByWidthMixin')],propTypes:{attachment:c('MercuryShareAttachmentReactShape'),location:i.oneOf(c('MercuryShareAttachmentRenderLocations').getValues()),maxWidth:i.number},render:function l(){var m=this.props.attachment,n=this.props.location,o=(c('MercuryShareAttachmentRenderLocations').CHAT===n?"_49or":'')+(c('MercuryShareAttachmentRenderLocations').CHAT_PREVIEW===n?' '+"_324d":'')+(c('MercuryShareAttachmentRenderLocations').CHAT!==n?' '+"_tih":'')+(c('MercuryShareAttachmentRenderLocations').CHAT!==n?' '+"_4am7":'')+(!(m&&m.media.image)?' '+"_5k0r":'');if(!m||!m.media||!m.media.image)return c('React').createElement('div',{className:c('joinClasses')(this.props.className,o)},this.props.children);if(c('MercuryShareAttachmentRenderLocations').CHAT_PREVIEW===n)return c('React').createElement(c('MercuryFallbackShareAttachment.react'),this.props);if(c('MercuryShareAttachmentRenderLocations').CHAT===n)return c('React').createElement('div',{className:c('joinClasses')(this.props.className,o)},this._renderImage());return c('React').createElement('div',{className:c('joinClasses')(this.props.className,o)},this._renderImage(),this.props.children);}});f.exports=k;}),null);
__d('MercuryShareLargeImageAttachment.react',['cx','MercuryFallbackShareAttachmentTextBlock.react','MercuryFallbackShareAttachmentActionLinksBlock.react','MercuryShareLargeImageAttachmentContent.react','MercuryShareAttachmentRenderLocations','MercuryShareAttachmentReactShape','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=j.constructor).call.apply(m,[this].concat(p)),this.renderLink=function(r){if(c('MercuryShareAttachmentRenderLocations').isPreview(this.props.location))return r;var s=this.props.attachment&&this.props.attachment.uri,t=this.props.attachment;if(t&&t.media&&t.media.image_size)return c('React').createElement('div',{style:{maxWidth:t.media.image_size.width},target:'_blank'},c('React').createElement(c('MercuryFallbackShareAttachmentTextBlock.react'),this.props),r,c('React').createElement(c('MercuryFallbackShareAttachmentActionLinksBlock.react'),this.props));return c('React').createElement('div',{className:"_3prk",href:s,target:'_blank'},c('React').createElement(c('MercuryFallbackShareAttachmentTextBlock.react'),this.props),r,c('React').createElement(c('MercuryFallbackShareAttachmentActionLinksBlock.react'),this.props));}.bind(this),n;}l.prototype.render=function(){return this.renderLink(c('React').createElement(c('MercuryShareLargeImageAttachmentContent.react'),this.props));};l.propTypes={attachment:c('MercuryShareAttachmentReactShape'),location:k.oneOf(c('MercuryShareAttachmentRenderLocations').getValues()),threadID:k.string.isRequired};f.exports=l;}),null);