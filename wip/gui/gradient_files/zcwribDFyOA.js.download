if (self.CavalryLogger) { CavalryLogger.start_js(["l2dSV"]); }

__d('MessengerQuickCamDispatcher',['ExplicitRegistrationReactDispatcher'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('ExplicitRegistrationReactDispatcher'));i=h&&h.prototype;function j(){h.apply(this,arguments);}f.exports=new j({strict:false});}),null);
__d('MessengerQuickCamActions',['MessengerQuickCamDispatcher','keyMirror'],(function a(b,c,d,e,f,g){'use strict';var h=c('keyMirror')({CLOSE:null,COUNT_DOWN_TIMER:null,COUNT_DOWN_TIMER_START:null,PROCESS_RECORDING:null,REGISTER_QUICKCAM:null,REMOVE_ALL_LISTENERS:null,REQUEST_USER_MEDIA:null,RETAKE:null,SEND_PHOTO:null,SEND_VIDEO:null,SET_MEDIA:null,SHUTTER_OFF:null,STOP_VIDEO:null,TAKE_VIDEO:null,UPDATE_PROGRESS:null,UPLOAD_COMPLETE:null,UPLOAD_ERROR:null,USER_MEDIA_ERROR:null}),i={Types:h,close:function j(){c('MessengerQuickCamDispatcher').dispatch({type:h.CLOSE});},countDownTimer:function j(){c('MessengerQuickCamDispatcher').dispatch({type:h.COUNT_DOWN_TIMER});},countDownTimerStart:function j(){c('MessengerQuickCamDispatcher').dispatch({type:h.COUNT_DOWN_TIMER_START});},processRecording:function j(k){c('MessengerQuickCamDispatcher').dispatch({type:h.PROCESS_RECORDING,videoBlob:k});},registerQuickCam:function j(k,l){c('MessengerQuickCamDispatcher').dispatch({type:h.REGISTER_QUICKCAM,source:k,quickcam:l});},requestUserMedia:function j(k,l){c('MessengerQuickCamDispatcher').dispatch({type:h.REQUEST_USER_MEDIA,viewer:k,threadID:l});},retake:function j(){c('MessengerQuickCamDispatcher').dispatch({type:h.RETAKE});},sendPhoto:function j(){c('MessengerQuickCamDispatcher').dispatch({type:h.SEND_PHOTO});},sendVideo:function j(){c('MessengerQuickCamDispatcher').dispatch({type:h.SEND_VIDEO});},setMedia:function j(k,l){c('MessengerQuickCamDispatcher').dispatch({type:h.SET_MEDIA,videoSrc:k,videoStream:l});},stopVideo:function j(){c('MessengerQuickCamDispatcher').dispatch({type:h.STOP_VIDEO});},shutterOff:function j(){c('MessengerQuickCamDispatcher').dispatch({type:h.SHUTTER_OFF});},takeVideo:function j(){c('MessengerQuickCamDispatcher').dispatch({type:h.TAKE_VIDEO});},updateProgress:function j(){c('MessengerQuickCamDispatcher').dispatch({type:h.UPDATE_PROGRESS});},uploadError:function j(k){c('MessengerQuickCamDispatcher').dispatch({type:h.UPLOAD_ERROR,error:k});},uploadComplete:function j(k){c('MessengerQuickCamDispatcher').dispatch({type:h.UPLOAD_COMPLETE,data:k});},userMediaError:function j(){c('MessengerQuickCamDispatcher').dispatch({type:h.USER_MEDIA_ERROR});}};f.exports=i;}),null);
__d('MessengerQuickCamOrigins',[],(function a(b,c,d,e,f,g){'use strict';var h={CHAT_TAB:'chat tab',MESSENGER:'messenger',getValues:function i(){return [h.CHAT_TAB,h.MESSENGER];}};f.exports=h;}),null);
__d('MessengerContextualDialog.react',['cx','AccessibleLayer','ContextualLayerAutoFlipHorizontal','ContextualLayerUpdateOnScroll','LayerHideOnEscape','ReactAbstractContextualDialog','ReactLayer'],(function a(b,c,d,e,f,g,h){'use strict';var i=12,j=c('ReactLayer').createClass(c('ReactAbstractContextualDialog').createSpec({addedBehaviors:[c('ContextualLayerAutoFlipHorizontal'),c('ContextualLayerUpdateOnScroll'),c('LayerHideOnEscape'),c('AccessibleLayer')],displayName:'MessengerContextualDialog',shouldSetARIAProperties:false,theme:{wrapperClassName:"_1r_9",arrowDimensions:{offset:i,length:16}}}));f.exports=j;}),null);
__d('MessengerVoiceClipButton.react',['cx','fbt','BootloadedComponent.react','JSResource','Link.react','React','MessengerContextualDialog.react','MessengerSpinner.react','BootloadOnRender.react','LazyComponent.react','emptyFunction'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes,m=c('React').createElement('div',{style:{padding:'30px',textAlign:'center'}},c('React').createElement(c('MessengerSpinner.react'),{color:'grey'}));j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){var o,p;for(var q=arguments.length,r=Array(q),s=0;s<q;s++)r[s]=arguments[s];return p=(o=k.constructor).call.apply(o,[this].concat(r)),this.state={flyoutOpen:false},this.$MessengerVoiceClipButton1=false,this.$MessengerVoiceClipButton2=function(t){this.setState({flyoutOpen:t});}.bind(this),this.$MessengerVoiceClipButton3=function(){this.setState({flyoutOpen:false});}.bind(this),this.$MessengerVoiceClipButton6=function(t){this.$MessengerVoiceClipButton1=this.state.flyoutOpen;}.bind(this),this.$MessengerVoiceClipButton5=function(t){t.stopPropagation();if(this.state.flyoutOpen||this.$MessengerVoiceClipButton1)return;this.setState({flyoutOpen:!this.state.flyoutOpen});}.bind(this),this.$MessengerVoiceClipButton4=function(t){this.setState({flyoutOpen:false});this.props.onVoiceClipCreate&&this.props.onVoiceClipCreate(t);}.bind(this),p;}n.prototype.render=function(){var o=null;if(this.state.flyoutOpen)o=c('React').createElement(c('MessengerContextualDialog.react'),{contextRef:function(){return this.refs.voiceButton;}.bind(this),shown:this.state.flyoutOpen,onToggle:this.$MessengerVoiceClipButton2,onBlur:this.$MessengerVoiceClipButton3},c('React').createElement(c('BootloadOnRender.react'),{component:c('React').createElement(c('LazyComponent.react'),{onCancel:this.$MessengerVoiceClipButton3,onStopAndGetVoiceClip:this.$MessengerVoiceClipButton4}),loader:c('JSResource')('MessengerVoiceClipFlyout.react').__setRef('MessengerVoiceClipButton.react'),placeholder:m}));return c('React').createElement(c('Link.react'),{className:"_4rv7"+(this.state.flyoutOpen?' '+"_5jhb":'')+(' '+"_39bk")+(' '+"_30yy"),onClick:this.$MessengerVoiceClipButton5,onMouseDown:this.$MessengerVoiceClipButton6,ref:'voiceButton',role:'button',title:i._("Send a voice clip")},o);};n.propTypes={onVoiceClipCreate:l.func};f.exports=n;}),null);
__d('getPageIDFromThreadID',['FBID','MercuryIDs'],(function a(b,c,d,e,f,g){'use strict';function h(i){var j=c('MercuryIDs').getUserIDFromThreadID(i);if(!j||c('FBID').isUser(j))return null;return j;}f.exports=h;}),null);