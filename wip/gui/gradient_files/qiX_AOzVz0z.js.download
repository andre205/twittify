if (self.CavalryLogger) { CavalryLogger.start_js(["ZliYX"]); }

__d('TypeaheadFacepile',['DOM'],(function a(b,c,d,e,f,g){function h(){}h.render=function(i){var j=[c('DOM').create('span',{className:'splitpic leftpic'},[c('DOM').create('img',{alt:'',src:i[0]})]),c('DOM').create('span',{className:'splitpic'+(i[2]?' toppic':'')},[c('DOM').create('img',{alt:'',src:i[1]})])];if(i[2])j.push(c('DOM').create('span',{className:'splitpic bottompic'},[c('DOM').create('img',{alt:'',src:i[2]})]));return c('DOM').create('span',{className:'splitpics clearfix'},j);};f.exports=h;}),null);
__d('emojiAndEmote',['DOMEmoji','DOMEmote','FbtResult','transformTextToDOM'],(function a(b,c,d,e,f,g){'use strict';var h=function i(j,k){if(j instanceof c('FbtResult'))return [j];var l=k?{isSupportedEmoji:k.isSupportedEmoji}:null,m=k?{getMessengerEmote:k.getMessengerEmote}:null,n=[c('DOMEmoji').params(l),c('DOMEmote').params(m)];return c('transformTextToDOM')(j,n);};f.exports=h;}),null);
__d('CompactTypeaheadRenderer',['BadgeHelper','DOM','emojiAndEmote','TypeaheadFacepile','isSocialPlugin'],(function a(b,c,d,e,f,g){function h(i,j){var k=[];if(i.xhp)return c('DOM').create('li',{className:'raw'},i.xhp);var l=i.photos||i.photo;if(l){if(l instanceof Array){l=c('TypeaheadFacepile').render(l);}else l=c('DOM').create('img',{alt:'',src:l});k.push(l);}var m=i.iconClass;if(m){var n=c('DOM').create('span',{className:m});k.push(n);}var o=i.debug_info;if(o)k.push(c('DOM').create('span',{className:'debugInfo'},o));if(i.text){var p=[i.text];if(!c('isSocialPlugin')())p=c('emojiAndEmote')(i.text);if(i.is_verified){p.push(c('BadgeHelper').renderBadge('xsmall','verified'));}else if(i.is_work_user){p.push(c('BadgeHelper').renderBadge('xsmall','work'));}else if(i.is_trending_hashtag)p.push(c('BadgeHelper').renderBadge('xsmall','trending'));k.push(c('DOM').create('span',{className:'text'},p));}var q=i.subtext,r=i.category;if(q||r){var s=[];q&&s.push(q);q&&r&&s.push(" \u00b7 ");r&&s.push(r);k.push(c('DOM').create('span',{className:'subtext'},s));}var t=c('DOM').create('li',{className:i.type||''},k);if(i.text){t.setAttribute('title',i.text);t.setAttribute('aria-label',i.text);}return t;}h.className='compact';f.exports=h;}),null);
__d('MercuryNonEmployeeTypeaheadRenderer',['cx','fbt','DOM','CompactTypeaheadRenderer'],(function a(b,c,d,e,f,g,h,i){'use strict';function j(k,l){var m=c('CompactTypeaheadRenderer')(k,l);if(k.non_employee){var n=c('DOM').create('span',{className:"_52l8 highlight"},i._("(Non-employee)")),o=c('DOM').scry(m,'.subtext')[0];if(o){c('DOM').prependContent(o,'\u00b7');c('DOM').prependContent(o,n);}}return m;}f.exports=j;}),null);
__d('ChatTabTypeaheadRenderer',['DOM','MercuryNonEmployeeTypeaheadRenderer','MercuryTimestamp','MercuryTypeaheadConstants','MercuryThreadMetadataRawRenderer','TypeaheadFacepile'],(function a(b,c,d,e,f,g){function h(j,k){switch(j.type){case c('MercuryTypeaheadConstants').USER_TYPE:case c('MercuryTypeaheadConstants').PAGE_TYPE:return c('MercuryNonEmployeeTypeaheadRenderer')(j,k);case c('MercuryTypeaheadConstants').THREAD_TYPE:return i(j,k);default:return c('DOM').create('div');}}function i(j,k){var l=[],m=j.mercury_thread;if(m.image_src){l.push(c('DOM').create('img',{alt:'',src:m.image_src}));}else{var n=j.participants_to_render.map(function(q){return q.big_image_src||q.image_src;});if(n){if(n instanceof Array){n=c('TypeaheadFacepile').render(n);}else n=c('DOM').create('img',{alt:'',src:n});l.push(n);}}var o=m.name,p=c('MercuryThreadMetadataRawRenderer').renderRawParticipantList(m.thread_id,j.participants_to_render,m.participants.length,{names_renderer:c('MercuryThreadMetadataRawRenderer').renderShortNames});l.push(c('DOM').create('span',{className:'timestamp'},c('MercuryTimestamp').getRelativeTimestamp(m.timestamp)));l.push(c('DOM').create('span',{className:'text'},o));l.push(c('DOM').create('span',{className:'subtext'},p));return c('DOM').create('li',{className:'node'},l);}h.className='compact';f.exports=h;}),null);
__d("XAssociateGroupThreadController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/groups\/messenger\/associate_group_thread\/",{});}),null);
__d("XGroupSideConversationCreateController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/groups\/side_conversation\/",{post_id:{type:"Int"}});}),null);
__d('MultiChatController',['AsyncRequest','AsyncSignal','ChatOpenTabEventLogger','FantaTabActions','Form','MercuryDispatcher','MercuryIDs','MercuryLocalIDs','MercuryThreadIDMap','MercuryViewer','MercuryServerDispatcher','MercuryThreads','XAssociateGroupThreadController','XGroupSideConversationCreateController'],(function a(b,c,d,e,f,g){var h=c('MercuryDispatcher').get(),i=c('MercuryThreadIDMap').get(),j=c('MercuryThreads').get(),k=c('XGroupSideConversationCreateController').getURIBuilder().getURI().toString(),l=c('XAssociateGroupThreadController').getURIBuilder().getURI().toString();function m(){}Object.assign(m,{subscribe:function o(p,q){p.subscribe('confirm',function(){this.createGroupThreadFromChooserDialog(p,q);}.bind(this));},subscribeFromPost:function o(p,q){p.subscribe('confirm',function(){this.createGroupPostThreadFromChooserDialog(p,q);}.bind(this));},createGroupPostThreadFromChooserDialog:function o(p,q){var r=c('Form').serialize(p.getRoot()),s=JSON.parse(r.profileChooserItems),t=Object.keys(s).filter(function(u){return !!s[u];});m.createThreadForFBIDs(t);new (c('AsyncRequest'))().setURI(k).setData({post_id:q}).send();p.hide();},createGroupThreadFromChooserDialog:function o(p,q){var r=c('Form').serialize(p.getRoot()),s=JSON.parse(r.profileChooserItems),t=[];for(var u in s)if(s[u])t.push(u);var v=m.createThreadForFBIDs(t),w=h.subscribe('update-thread-ids',function(x,y){for(var z in y)if(y[z]==v){var aa=j.getThreadMetaNow(v),ba=i.getServerIDFromClientIDNow(v);if(aa&&!aa.is_canonical&&ba)c('MercuryServerDispatcher').trySend(l,{group_id:q,thread_id:ba});new (c('AsyncSignal'))('/ajax/groups/chat/log',{group_id:q,message_id:z}).send();h.unsubscribe(w);break;}});p.hide();},createThreadForTokens:function o(p){var q=c('MercuryViewer').getID();if(!p.length)return;p=p.filter(function(s){return s!==q;});var r;if(p.length===0){return;}else if(p.length===1){r=c('MercuryIDs').getThreadIDFromParticipantID(p[0]);c('FantaTabActions').openTab(r);c('ChatOpenTabEventLogger').log('ChatTabView',r);}else{r=c('MercuryLocalIDs').generateThreadID();p.unshift(q);j.createNewLocalThread(r,p);c('FantaTabActions').openTab(r);c('ChatOpenTabEventLogger').log('MultiChatController',r);}return r;},createThreadForFBIDs:function o(p){var q=[];for(var r=0;r<p.length;r++)q.push('fbid:'+p[r]);return m.createThreadForTokens(q);}});var n={};n[l]={mode:c('MercuryServerDispatcher').IMMEDIATE};c('MercuryServerDispatcher').registerEndpoints(n);f.exports=m;}),null);
__d('BasicTypeaheadRenderer',['BadgeHelper','DOM'],(function a(b,c,d,e,f,g){function h(i,j){var k=[];if(i.icon)k.push(c('DOM').create('img',{alt:'',src:i.icon}));var l=i.debug_info;if(l)k.push(c('DOM').create('span',{className:'debugInfo'},l));if(i.text){var m=[i.text];if(i.is_verified)m.push(c('BadgeHelper').renderBadge('xsmall','verified'));k.push(c('DOM').create('span',{className:'text'},m));}if(i.subtext){var n=[i.subtext];k.push(c('DOM').create('span',{className:'subtext'},n));}var o=c('DOM').create('li',{className:i.type||''},k);if(i.text){o.setAttribute('title',i.text);o.setAttribute('aria-label',i.text);}return o;}h.className='basic';f.exports=h;}),null);
__d('createIxElement',['invariant','DOM','joinClasses'],(function a(b,c,d,e,f,g,h){function i(j,k){var l='img',m;j.sprited||j.uri||h(0);if(j.sprited){l=c('joinClasses')(l,j.spriteMapCssClass,j.spriteCssClass);m=c('DOM').create('i',{className:l});if(k!=null)c('DOM').setContent(m,c('DOM').create('u',null,k));}else if(j.uri){m=c('DOM').create('img',{className:l,src:j.uri});if(k!=null)m.setAttribute('alt',k);if(j.width)m.setAttribute('width',j.width);if(j.height)m.setAttribute('height',j.height);}return m;}f.exports=i;}),null);
__d('TypeaheadView',['ix','$','ArbiterMixin','BasicTypeaheadRenderer','CSS','DOM','Event','Parent','createIxElement','emptyFunction','getElementText','getOrCreateDOMID','mixin'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('mixin')(c('ArbiterMixin')));j=i&&i.prototype;function k(l,m){'use strict';j.constructor.call(this);this.element=this.content=c('$')(l);Object.assign(this,m);}k.prototype.init=function(){'use strict';this.init=c('emptyFunction');this.initializeEvents();this.reset();};k.prototype.initializeEvents=function(){'use strict';c('Event').listen(this.element,{mouseup:this.mouseup.bind(this),mouseover:this.mouseover.bind(this)});};k.prototype.setTypeahead=function(l){'use strict';this.typeahead=l;};k.prototype.setAccessibilityControlElement=function(l){'use strict';this.accessibilityElement=l;};k.prototype.getElement=function(){'use strict';return this.element;};k.prototype.mouseup=function(event){'use strict';if(event.button!=2){this.select(true);event.prevent();}};k.prototype.mouseover=function(event){'use strict';if(this.ignoreMouseover){this.ignoreMouseover=false;return;}if(this.visible)this.highlight(this.getIndex(event));};k.prototype.reset=function(l){'use strict';if(!l)this.disableAutoSelect=false;this.index=-1;this.items=[];this.results=[];this.value='';this.content.innerHTML='';this.inform('reset');return this;};k.prototype.getIndex=function(event){'use strict';return this.items.indexOf(c('Parent').byTag(event.getTarget(),'li'));};k.prototype.getSelection=function(){'use strict';var l=this.results[this.index]||null;return this.visible?l:null;};k.prototype.isEmpty=function(){'use strict';return !this.results.length;};k.prototype.isVisible=function(){'use strict';return !!this.visible;};k.prototype.show=function(){'use strict';c('CSS').show(this.element);if(this.results&&this.results.length)if(this.autoSelect&&this.accessibilityElement&&this.selected)this.accessibilityElement.setAttribute('aria-activedescendant',c('getOrCreateDOMID')(this.selected));this.accessibilityElement&&this.accessibilityElement.setAttribute('aria-expanded','true');this.visible=true;return this;};k.prototype.hide=function(){'use strict';c('CSS').hide(this.element);if(this.accessibilityElement){this.accessibilityElement.setAttribute('aria-expanded','false');this.accessibilityElement.removeAttribute('aria-activedescendant');}this.visible=false;return this;};k.prototype.render=function(l,m,n){'use strict';this.value=l;if(!m.length){this.accessibilityElement&&this.accessibilityElement.removeAttribute('aria-activedescendant');this.reset(true);return;}var o={results:m,value:l};this.inform('beforeRender',o);m=o.results;var p=n&&this.index!=-1?this.index:this.getDefaultIndex(m);this.results=m;c('DOM').setContent(this.content,this.buildResults(m));this.items=this.getItems();this.highlight(p,false);this.inform('render',this.results);};k.prototype.getItems=function(){'use strict';return c('DOM').scry(this.content,'li');};k.prototype.buildResults=function(l){'use strict';var m,n=null;if(typeof this.renderer=='function'){m=this.renderer;n=this.renderer.className||'';}else{m=b.TypeaheadRenderers[this.renderer];n=this.renderer;}m=m.bind(this);var o=l.map(function(q,r){var s=q.node||m(q,r);s.setAttribute('role','option');return s;}),p=c('DOM').create('ul',{className:n,id:'typeahead_list_'+(this.typeahead?c('getOrCreateDOMID')(this.typeahead):c('getOrCreateDOMID')(this.element))},o);p.setAttribute('role','listbox');return p;};k.prototype.showLoadingIndicator=function(){'use strict';var l=c('createIxElement')(h("85428")),m=c('DOM').create('li',{className:'typeaheadViewInternalLoading'},l),n=c('DOM').create('ul',{role:'listbox'},m);c('DOM').setContent(this.content,n);};k.prototype.getDefaultIndex=function(){'use strict';var l=this.autoSelect&&!this.disableAutoSelect;return this.index<0&&!l?-1:0;};k.prototype.next=function(){'use strict';this.highlight(this.index+1);this.inform('next',this.selected);};k.prototype.prev=function(){'use strict';this.highlight(this.index-1);this.inform('prev',this.selected);};k.prototype.getItemText=function(l){'use strict';var m='';if(l){m=l.getAttribute('aria-label');if(!m){m=c('getElementText')(l);l.setAttribute('aria-label',m);}}return m;};k.prototype.setIsViewingSelectedItems=function(l){'use strict';this.viewingSelected=l;return this;};k.prototype.getIsViewingSelectedItems=function(){'use strict';return !!this.viewingSelected;};k.prototype.highlight=function(l,m){'use strict';if(this.selected){c('CSS').removeClass(this.selected,'selected');this.selected.setAttribute('aria-selected','false');}if(l>this.items.length-1){l=-1;}else if(l<-1)l=this.items.length-1;if(l>=0&&l<this.items.length){this.selected=this.items[l];c('CSS').addClass(this.selected,'selected');this.selected.setAttribute('aria-selected','true');if(this.accessibilityElement)setTimeout(function(){this.accessibilityElement.setAttribute('aria-activedescendant',c('getOrCreateDOMID')(this.selected));}.bind(this),0);}else this.accessibilityElement&&this.accessibilityElement.removeAttribute('aria-activedescendant');this.index=l;this.disableAutoSelect=l==-1;if(m!==false)this.inform('highlight',{index:l,selected:this.results[l],element:this.selected});};k.prototype.select=function(l){'use strict';if(this.headerIndex&&l)return;var m=this.index,n=this.results[m],o=this.element.getAttribute('id');if(n){var p=function(q){this.inform('select',{index:m,clicked:!!l,selected:q,id:o,query:this.value});this.inform('afterSelect');}.bind(this);if(this.shouldValidateTypeaheadSelection(n)){this.validateTypeaheadSelection(n,p);}else p(n);}};k.prototype.shouldValidateTypeaheadSelection=function(l){'use strict';return false;};k.prototype.validateTypeaheadSelection=function(l,m){'use strict';};Object.assign(k.prototype,{events:['highlight','render','reset','select','beforeRender','next','prev'],renderer:c('BasicTypeaheadRenderer'),autoSelect:false,ignoreMouseover:false});f.exports=k;}),null);
__d('BucketedTypeaheadView',['fbt','DOM','TypeaheadView'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('TypeaheadView'));j=i&&i.prototype;k.prototype.render=function(l,m,n,o){'use strict';var p=m.length>0;for(var q=0;q<m.length;++q)if(m[q].type!=='hashtag')p=false;if(!p)m=this.buildBuckets(l,m);if(n&&o){var r=this.results.length-this.index;this.index=m.length-r;}return j.render.call(this,l,m,n);};k.prototype.highlight=function(l,m){'use strict';this.headerIndex=false;if(l==-1&&this.index!==0)l=this.index;while(l>=0&&l<this.items.length&&!this.isHighlightable(this.results[l])){l=l+1;this.headerIndex=true;}j.highlight.call(this,l,m);};k.prototype.buildBuckets=function(l,m){'use strict';if(!this.typeObjects||!m||!m.length)return m;var n=[],o={};for(var p=0;p<m.length;++p){var q=m[p],r=q.render_type||q.type;if(!Object.prototype.hasOwnProperty.call(o,r)){o[r]=n.length;n.push([this.buildBucketHeader(r)]);}q.classNames=q.classNames||r;q.groupIndex=o[r];q.indexInGroup=n[q.groupIndex].length-1;q.globalIndex=p;n[q.groupIndex].push(q);}for(r in this.typeObjects)if(!Object.prototype.hasOwnProperty.call(o,r)&&this.typeObjects[r].show_always){o[r]=n.length;n.push([this.buildBucketHeader(r)]);q=this.buildNoResultsEntry();q.classNames=q.type;q.groupIndex=o[r];q.indexInGroup=n[q.groupIndex].length-1;n[q.groupIndex].push(q);}var s=[];if(this.typeObjectsOrder){for(var t=0;t<this.typeObjectsOrder.length;++t){var u=this.typeObjectsOrder[t];if(Object.prototype.hasOwnProperty.call(o,u))s=s.concat(n[o[u]]);}}else for(var v=0;v<n.length;++v)s=s.concat(n[v]);return s;};k.prototype.buildNoResultsEntry=function(){'use strict';return {uid:'disabled_result',type:'disabled_result',text:h._("No Results")};};k.prototype.buildBucketHeader=function(l){'use strict';var m=this.typeObjects[l];if(m===undefined)throw new Error(l+" is undefined in "+JSON.stringify(this.typeObjects));if(m.markup){m.text=m.markup;delete m.markup;}return this.typeObjects[l];};k.prototype.buildResults=function(l){'use strict';var m=j.buildResults.call(this,l);if(this.typeObjects){return c('DOM').create('div',{className:'bucketed'},[m]);}else return m;};k.prototype.isHighlightable=function(l){'use strict';return l.type!='header'&&l.type!='disabled_result';};k.prototype.select=function(l){'use strict';var m=this.results[this.index];if(m&&this.isHighlightable(m))j.select.call(this,l);};k.prototype.updateResults=function(l){'use strict';this.results=l;};k.prototype.normalizeIndex=function(l){'use strict';var m=this.results.length;if(m===0){return -1;}else if(l<-1){return l%m+m+1;}else if(l>=m){return l%m-1;}else return l;};k.prototype.getDefaultIndex=function(l){'use strict';var m=this.autoSelect&&!this.disableAutoSelect;if(this.index<0&&!m)return -1;if(l.length===0)return -1;var n=0;while(!this.isHighlightable(l)&&n<l.length)n++;return n;};k.prototype.prev=function(){'use strict';var l=this.results[this.normalizeIndex(this.index-1)];while(l&&!this.isHighlightable(l)){this.index=this.normalizeIndex(this.index-1);l=this.results[this.normalizeIndex(this.index-1)];}return j.prev.call(this);};k.prototype.next=function(){'use strict';var l=this.results[this.normalizeIndex(this.index+1)];while(l&&!this.isHighlightable(l)){this.index=this.normalizeIndex(this.index+1);l=this.results[this.normalizeIndex(this.index+1)];}return j.next.call(this);};function k(){'use strict';i.apply(this,arguments);}f.exports=k;}),null);
__d('ContextualTypeaheadView',['BucketedTypeaheadView','CSS','ContextualLayer','ContextualLayerAutoFlip','ContextualLayerHideOnScroll','DOM','DOMDimensions','Style'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('BucketedTypeaheadView'));i=h&&h.prototype;j.prototype.init=function(){'use strict';this.initializeLayer();i.init.call(this);};j.prototype.initializeLayer=function(){'use strict';this.context=this.getContext();this.wrapper=c('DOM').create('div');c('DOM').appendContent(this.wrapper,this.element);c('CSS').addClass(this.element,'uiContextualTypeaheadView');this.layer=new (c('ContextualLayer'))({context:this.context,position:'below',alignment:this.alignment,causalElement:this.causalElement,permanent:true,shouldSetARIAProperties:false},this.wrapper);this.layer.enableBehavior(c('ContextualLayerHideOnScroll'));if(c('Style').isFixed(this.context)||this.autoflip)this.layer.enableBehavior(c('ContextualLayerAutoFlip'));this.subscribe('render',this.renderLayer.bind(this));};j.prototype.show=function(){'use strict';if(this.minWidth){c('Style').set(this.wrapper,'min-width',this.minWidth+'px');}else if(this.width){c('Style').set(this.wrapper,'width',this.width+'px');}else c('Style').set(this.wrapper,'width',c('DOMDimensions').getElementDimensions(this.context).width+'px');var k=i.show.call(this);this.layer.show();this.inform('show');return k;};j.prototype.hide=function(){'use strict';this.layer.hide();this.inform('hide');return i.hide.call(this);};j.prototype.renderLayer=function(){'use strict';if(!this.isVisible())return;if(this.layer.isShown()){this.layer.updatePosition();}else this.layer.show();};j.prototype.clearText=function(){'use strict';this.layer.getCausalElement().value='';};j.prototype.getContext=function(){'use strict';return this.element.parentNode;};function j(){'use strict';h.apply(this,arguments);}f.exports=j;}),null);
__d('StickyPlaceholderInput',['Event','CSS','DOM','Input','Parent','emptyFunction','getElementText'],(function a(b,c,d,e,f,g){function h(l){return c('Parent').byClass(l,'uiStickyPlaceholderInput');}function i(l){return c('DOM').scry(l,'.placeholder')[0];}function j(l){l=l||window.event;var m=l.target||l.srcElement;if(c('DOM').isNodeOfType(m,['input','textarea'])){var n=h(m);if(n)setTimeout(function(){c('CSS').conditionClass(n,'uiStickyPlaceholderEmptyInput',!m.value.length);},0);}}var k={init:function l(){k.init=c('emptyFunction');c('Event').listen(document.documentElement,{keydown:j,keyup:j,paste:j,focusout:j});},registerInput:function l(m){k.init();var n=m.getAttribute('placeholder')||'';if(n.length)if(document.activeElement===m){var o=c('Event').listen(m,'blur',function(){k.manipulateInput(m,n);o.remove();});}else k.manipulateInput(m,n);},manipulateInput:function l(m,n){var o=c('DOM').create('div',{className:'placeholder','aria-hidden':'true'},n),p=c('DOM').create('div',{className:'uiStickyPlaceholderInput'},o);if(c('DOM').isNodeOfType(m,'textarea'))c('CSS').addClass(p,'uiStickyPlaceholderTextarea');c('Event').listen(o,'click',function(){m.focus();});if(m.value===n)m.value='';m.setAttribute('placeholder','');c('DOM').replace(m,p);c('DOM').appendContent(p,m);c('CSS').conditionClass(p,'uiStickyPlaceholderEmptyInput',!m.value.length);},setPlaceholderText:function l(m,n){var o=h(m);if(!o){c('Input').setPlaceholder(m,n);}else{var p=i(o);p&&c('DOM').setContent(p,n);}},getPlaceholderText:function l(m){var n=h(m),o=i(n);return o&&c('getElementText')(o);},update:function l(m){var n=h(m);if(n)c('CSS').conditionClass(n,'uiStickyPlaceholderEmptyInput',!m.value.length);},getVisibleText:function l(m){var n=h(m);if(c('CSS').hasClass(n,'uiStickyPlaceholderEmptyInput')){var o=i(n);return o&&c('getElementText')(o);}else return m.value;}};f.exports=k;}),null);
__d('transferTextStyles',['Style'],(function a(b,c,d,e,f,g){var h={fontFamily:null,fontSize:null,fontStyle:null,fontWeight:null,lineHeight:null,wordWrap:null};function i(j,k){for(var l in h)if(Object.prototype.hasOwnProperty.call(h,l))h[l]=c('Style').get(j,l);c('Style').apply(k,h);}f.exports=i;}),null);
__d('TextMetrics',['DOM','Style','UserAgent','transferTextStyles'],(function a(b,c,d,e,f,g){function h(j){var k=j.clientWidth,l=c('Style').get(j,'-moz-box-sizing')=='border-box';if(l&&c('UserAgent').isBrowser('Firefox < 29'))return k;var m=c('Style').getFloat(j,'paddingLeft')+c('Style').getFloat(j,'paddingRight');return k-m;}function i(j,k){'use strict';this.$TextMetrics1=j;this.$TextMetrics2=!!k;var l='textarea',m='textMetrics';if(this.$TextMetrics2){l='div';m+=' textMetricsInline';}this.$TextMetrics3=c('DOM').create(l,{className:m});c('transferTextStyles')(j,this.$TextMetrics3);document.body.appendChild(this.$TextMetrics3);}i.prototype.measure=function(j){'use strict';var k=this.$TextMetrics1,l=this.$TextMetrics3;j=(j||k.value)+'...';if(!this.$TextMetrics2){var m=h(k);c('Style').set(l,'width',Math.max(m,0)+'px');}if(k.nodeName==='TEXTAREA'){l.value=j;}else c('DOM').setContent(l,j);return {width:l.scrollWidth,height:l.scrollHeight};};i.prototype.destroy=function(){'use strict';c('DOM').remove(this.$TextMetrics3);};f.exports=i;}),null);
__d('Token',['fbt','CSS','DataStore','DOM','Locale','UnicodeBidi'],(function a(b,c,d,e,f,g,h){function i(j,k){'use strict';this.info=j;this.paramName=k;}i.prototype.getInfo=function(){'use strict';return this.info;};i.prototype.getText=function(){'use strict';return this.info.text;};i.prototype.getValue=function(){'use strict';return this.info.uid;};i.prototype.isFreeform=function(){'use strict';return !!this.info.freeform;};i.prototype.setSelected=function(j){'use strict';c('CSS').conditionClass(this.getElement(),'uiTokenSelected',j);return this;};i.prototype.getElement=function(){'use strict';if(!this.element)this.setElement(this.createElement());return this.element;};i.prototype.setElement=function(j){'use strict';c('DataStore').set(j,'Token',this);this.element=j;return this;};i.prototype.isRemovable=function(){'use strict';return c('CSS').hasClass(this.element,'removable');};i.prototype.getTextDirection=function(){'use strict';var j=c('UnicodeBidi').isDirectionRTL(this.getText()),k=c('Locale').isRTL();if(j&&!k)return 'rtl';if(!j&&k)return 'ltr';return null;};i.prototype.createElement=function(j,k){'use strict';var l=this.paramName,m=this.getValue(),n=this.getText(),o=c('DOM').create('span',{className:'uiTokenText'},n),p=null;if(this.info.removable!==false)p=c('DOM').create('a',{href:'#','aria-label':h._("Remove {item}",[h.param('item',n)]),className:'remove uiCloseButton uiCloseButtonSmall'});if(j)c('CSS').addClass(p,'uiCloseButtonSmallGray');var q=c('DOM').create('input',{type:'hidden',value:m,name:l+'[]',autocomplete:'off'}),r=c('DOM').create('input',{type:'hidden',value:n,name:'text_'+l+'[]',autocomplete:'off'}),s={className:'removable uiToken'},t=this.getTextDirection();if(t!==null)s.dir=t;var u=c('DOM').create('span',s,[o,q,r,p]);if(j)c('CSS').addClass(u,'uiTokenGray');if(k){var v=c('DOM').create('i',{className:k});c('DOM').prependContent(u,v);}return u;};f.exports=i;}),null);
__d('WeakToken',['CSS','Token'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('Token'));i=h&&h.prototype;j.prototype.createElement=function(){'use strict';var k=i.createElement.call(this,true,'UFIWeakReferenceIcon');c('CSS').addClass(k,'uiTokenWeakReference');return k;};function j(){'use strict';h.apply(this,arguments);}f.exports=j;}),null);
__d('Tokenizer',['Arbiter','ArbiterMixin','CSS','DataStore','DOM','DOMQuery','Event','Focus','Input','Keys','Parent','StickyPlaceholderInput','Style','TextMetrics','Token','UserAgent_DEPRECATED','WeakToken','createObjectFrom','emptyFunction','mixin'],(function a(b,c,d,e,f,g){var h,i,j=20;h=babelHelpers.inherits(k,c('mixin')(c('ArbiterMixin')));i=h&&h.prototype;function k(l,m,n){'use strict';i.constructor.call(this);this.element=l;this.typeahead=m;this.input=m.getCore().getElement();if(n)this.init(n.tokenarea,n.param_name,n.initial_info,n.options);c('DataStore').set(this.element,'Tokenizer',this);}k.prototype.init=function(l,m,n,o){'use strict';this._handleEvents=this.handleEvents.bind(this);this.init=c('emptyFunction');this.setTokenarea(l);this.paramName=m;if(!this.placeholder)this.placeholder=this.input.getAttribute('data-placeholder')||this.input.getAttribute('placeholder')||'';Object.assign(this,o);this.initEvents();this.initTypeahead();this.reset(n);this.initBehaviors();setTimeout(this.adjustWidth.bind(this),0);c('Arbiter').inform('Tokenizer/init',this,c('Arbiter').BEHAVIOR_PERSISTENT);this.inform('init',{tokens:this.getTokens()});};k.prototype.reset=function(l){'use strict';this.tokens=[];this.unique={};if(l){this.populate(l);}else c('DOM').empty(this.tokenarea);this.updateTokenarea();};k.prototype.populate=function(l){'use strict';var m=[];this.tokens=this.getTokenElements().map(function(n,o){var p=l[o];m.push(this._tokenKey(p));return this.createToken(p,n);},this);this.unique=c('createObjectFrom')(m,this.tokens);};k.prototype.setTokenarea=function(l){'use strict';var m=!this.tokenarea;if(l!==this.tokenarea){if(this.tokenarea){c('DOM').remove(this.tokenarea);for(var n in this._tokenareaListeners)this._tokenareaListeners[n].remove();}this._tokenareaListeners=c('Event').listen(l,{click:this._handleEvents,keydown:this._handleEvents});this.tokenarea=l;}if(!m)this.reset();};k.prototype.getElement=function(){'use strict';return this.element;};k.prototype.getTypeahead=function(){'use strict';return this.typeahead;};k.prototype.getInput=function(){'use strict';return this.input;};k.prototype.initBehaviors=function(){'use strict';this.behaviors=this.behaviors||[];if(this.behaviors instanceof Array){this.behaviors.forEach(function(n){n.behavior(this,n.config);}.bind(this));}else for(var l in this.behaviors||{}){var m=window.TokenizerBehaviors&&window.TokenizerBehaviors[l];m.call(null,this,this.behaviors[l]);}};k.prototype.initTypeahead=function(){'use strict';var l=this.typeahead.getCore();l.resetOnSelect=true;l.setValueOnSelect=false;l.preventFocusChangeOnTab=true;if(this.inline){var m=this.typeahead.getView();c('CSS').addClass(m.getElement(),'uiInlineTokenizerView');}this.typeahead.subscribe('select',function(n,o){return this.handleSelect(o);}.bind(this));this.typeahead.subscribe('blur',this.handleBlur.bind(this));};k.prototype.handleBlur=function(event){'use strict';this.inform('blur',{event:event});this.updatePlaceholder();};k.prototype.handleSelect=function(l){'use strict';var m=l.selected;if('uid' in m){this.updateInput();this.addToken(this.createToken(m));}};k.prototype.initEvents=function(){'use strict';var l=c('UserAgent_DEPRECATED').firefox()<4?'keypress':'keydown';c('Event').listen(this.input,'paste',this.paste.bind(this));c('Event').listen(this.input,l,this.keydown.bind(this));};k.prototype.handleEvents=function(event){'use strict';var l=event.getTarget(),m=l&&this.getTokenElementFromTarget(l);if(!m)return;if(event.type!='keydown'||c('Event').getKeyCode(event)==c('Keys').RETURN)this.processEvents(event,l,m);};k.prototype.processEvents=function(event,l,m){'use strict';if(c('Parent').byClass(l,'remove')){var n=m.nextSibling;n=n&&c('DOMQuery').scry(m.nextSibling,'.remove')[0];var o=this.getTokenFromElement(m);o=this.addTokenData(o,l);this.removeToken(o);this.focusOnTokenRemoval(event,n);event.kill();}};k.prototype.focusOnTokenRemoval=function(event,l){'use strict';c('Focus').set(event.type=='keydown'&&l||this.input);};k.prototype.addTokenData=function(l,m){'use strict';return l;};k.prototype.keydown=function(event){'use strict';this.inform('keydown',{event:event});var l=c('Event').getKeyCode(event),m=this.input;if(this.inline&&l==c('Keys').BACKSPACE&&c('Input').isEmpty(m)){var n=this.getLastToken();if(n&&n.isRemovable())this.removeToken(n);}this.updateInput();};k.prototype.paste=function(event){'use strict';this.inform('paste',{event:event});this.updateInput(true);};k.prototype.focusInput=function(){'use strict';c('Focus').set(this.input);};k.prototype.updateInput=function(l){'use strict';if(!this.inline)return;setTimeout(function(){this.adjustWidth(this.input.value);if(l)this.input.value=this.input.value;}.bind(this),20);c('StickyPlaceholderInput').setPlaceholderText(this.input,'');this.inform('resize');};k.prototype.setPlaceholder=function(l){'use strict';this.placeholder=l;if(this.stickyPlaceholder)c('StickyPlaceholderInput').setPlaceholderText(this.input,l);this.updatePlaceholder();};k.prototype.updatePlaceholder=function(){'use strict';if(!this.inline||this.input.value)return;var l=!this.tokens.length,m='';if(l||this.stickyPlaceholder){this.adjustWidth(this.placeholder);m=this.placeholder;}else this.adjustWidth(this.input.value);c('StickyPlaceholderInput').setPlaceholderText(this.input,m);};k.prototype.adjustWidth=function(l){'use strict';if(!this.inline||!this._getIsInDOM())return;if(!l&&this.input.value==='')l=this.placeholder;var m=j;if(l!==this.placeholder||!this.getTokens().length||this.stickyPlaceholder){var n=c('Style').getFloat(this.getElement(),'width'),o=this._getMetrics().measure(l);m=o.width+this._getWidthOffset()+10;m=m>=n?n:m;}c('Style').set(this.input,'width',m+'px');this.inform('resize');c('Arbiter').inform('reflow');};k.prototype.getToken=function(l){'use strict';return this.unique[l]||null;};k.prototype.getTokens=function(){'use strict';return this.tokens||[];};k.prototype.getTokenElements=function(){'use strict';return c('DOMQuery').scry(this.tokenarea,'span.uiToken');};k.prototype.getTokenElementFromTarget=function(l){'use strict';return c('Parent').byClass(l,'uiToken');};k.prototype.getTokenFromElement=function(l){'use strict';return c('DataStore').get(l,'Token');};k.prototype.getTokenValues=function(){'use strict';if(!this.tokens)return [];return this.tokens.map(function(l){return l.getValue();});};k.prototype.getFirstToken=function(){'use strict';return this.tokens[0]||null;};k.prototype.getLastToken=function(){'use strict';return this.tokens[this.tokens.length-1]||null;};k.prototype.hasMaxTokens=function(){'use strict';return this.maxTokens&&this.maxTokens<=this.tokens.length;};k.prototype.createToken=function(l,m){'use strict';var n=this.getToken(this._tokenKey(l));if(!n)n=l.weak_reference?new (c('WeakToken'))(l,this.paramName):new (c('Token'))(l,this.paramName);m&&n.setElement(m);return n;};k.prototype.addToken=function(l){'use strict';if(this.hasMaxTokens())return;var m=this._tokenKey(l.getInfo());if(m in this.unique)return;this.unique[m]=l;this.tokens.push(l);this.insertToken(l);this.updateTokenarea();this.inform('addToken',l);this.inform('changeTokens');c('Arbiter').inform('Form/change',{node:this.element});};k.prototype.insertToken=function(l){'use strict';c('DOM').appendContent(this.tokenarea,l.getElement());};k.prototype.removeToken=function(l){'use strict';if(!l)return;var m=this.tokens.indexOf(l);if(m<0)return;this.tokens.splice(this.tokens.indexOf(l),1);delete this.unique[this._tokenKey(l.getInfo())];c('DOM').remove(l.getElement());this.updateTokenarea();this.inform('removeToken',l);this.inform('changeTokens');c('Arbiter').inform('Form/change',{node:this.element});};k.prototype.removeAllTokens=function(){'use strict';this.reset();this.inform('changeTokens');this.inform('removeAllTokens');};k.prototype.updateTokenarea=function(){'use strict';var l=this.typeahead.getCore(),m=this.getTokenValues();if(this.excludeDuplicates){this._exclusions||(this._exclusions=l.getExclusions());l.setExclusions(m.concat(this._exclusions));}l.setEnabled(!this.hasMaxTokens());this.updateTokenareaVisibility();this.updatePlaceholder();this.inform('resize');c('Arbiter').inform('reflow');};k.prototype.updateTokenareaVisibility=function(){'use strict';c('CSS').conditionShow(this.tokenarea,this.tokens.length!==0);};k.prototype._tokenKey=function(l){'use strict';return l.uid+(l.freeform?':':'');};k.prototype._getWidthOffset=function(){'use strict';if(this._widthOffset===null){var l=this.input.clientWidth,m=c('Style').getFloat(this.input,'width');if(l==m){this._widthOffset=c('Style').getFloat(this.input,'paddingLeft')+c('Style').getFloat(this.input,'paddingRight');}else this._widthOffset=0;}return this._widthOffset;};k.prototype._getMetrics=function(){'use strict';if(!this._metrics)this._metrics=new (c('TextMetrics'))(this.input,this.inline);return this._metrics;};k.prototype._getIsInDOM=function(){'use strict';return this._isInDOM||(this._isInDOM=c('DOMQuery').contains(document.body,this.input));};k.getInstance=function(l){'use strict';var m=c('Parent').byClass(l,'uiTokenizer');return m?c('DataStore').get(m,'Tokenizer'):null;};k.init=function(l,m){'use strict';l.init(m.tokenarea,m.param_name,m.initial_info,m.options);};Object.assign(k.prototype,{inline:false,maxTokens:null,excludeDuplicates:true,placeholder:'',_widthOffset:null,_metrics:null});f.exports=k;}),null);
__d('Typeahead',['ArbiterMixin','BehaviorsMixin','DataStore','DOM','Event','Parent','Run','Style','emptyFunction','ge','mixin'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('mixin')(c('ArbiterMixin'),c('BehaviorsMixin')));i=h&&h.prototype;function j(k,l,m,n){'use strict';i.constructor.call(this);this.args={data:k,view:l,core:m};c('DataStore').set(n,'Typeahead',this);this.element=n;}j.prototype.init=function(k){'use strict';this.init=c('emptyFunction');this.getCore();this.getView().setAccessibilityControlElement(this.getCore().getElement());this.proxyEvents();this.initBehaviors(k||[]);this.inform('init',this);this.data.bootstrap();this.core.focus();};j.prototype.getData=function(){'use strict';if(!this.data){var k=this.args.data;this.data=k;this.data.init();}return this.data;};j.prototype.getView=function(){'use strict';if(!this.view){var k=this.args.view,l=k.node||c('ge')(k.node_id);if(!l){l=c('DOM').create('div',{className:'uiTypeaheadView'});c('DOM').appendContent(this.element,l);}if(typeof k.ctor==='string'){this.view=new window[k.ctor](l,k.options||{});}else this.view=new k.ctor(l,k.options||{});this.view.init();this.view.setTypeahead(this.element);}return this.view;};j.prototype.getCore=function(){'use strict';if(!this.core){var k=this.args.core;if(typeof k.ctor==='string'){this.core=new window[k.ctor](k.options||{});}else this.core=new k.ctor(k.options||{});this.core.init(this.getData(),this.getView(),this.getElement());}return this.core;};j.prototype.getElement=function(){'use strict';return this.element;};j.prototype.setHeight=function(k){'use strict';if(k!=='auto')k+='px';c('Style').set(this.element,'height',k);};j.prototype.swapData=function(k){'use strict';return this.$Typeahead1(k,true);};j.prototype.swapDataNoCoreReset=function(k){'use strict';return this.$Typeahead1(k,false);};j.prototype.$Typeahead1=function(k,l){'use strict';var m=this.core;this.data=this.args.data=k;k.init();if(m){m.data=k;m.initData();if(l)m.reset();this.proxyEvents();}k.bootstrap();return k;};j.prototype.proxyEvents=function(){'use strict';[this.data,this.view,this.core].forEach(function(k){k.subscribe(k.events,this.inform.bind(this));},this);};j.prototype.initBehaviors=function(k){'use strict';k.forEach(function(l){if(typeof l==='string'){if(b.TypeaheadBehaviors&&b.TypeaheadBehaviors[l]){b.TypeaheadBehaviors[l](this);}else c('Run').onLoad(function(){if(b.TypeaheadBehaviors)(b.TypeaheadBehaviors[l]||c('emptyFunction'))(this);}.bind(this));}else this.enableBehavior(l);},this);};j.getInstance=function(k){'use strict';var l=c('Parent').byClass(k,'uiTypeahead');return l?c('DataStore').get(l,'Typeahead'):null;};j.initNow=function(k,l,m){'use strict';if(m)m.init(k);k.init(l);};j.init=function(k,l,m,n){var o;'use strict';if(!c('DOM').isNodeOfType(k,['input','textarea']))k=c('DOM').scry(k,'input')[0]||c('DOM').scry(k,'textarea')[0];var p=false;try{p=document.activeElement===k;}catch(q){}if(p){j.initNow(l,m,n);}else (function(){var q=c('Event').listen(k,'focus',function(){j.initNow(l,m,n);q.remove();});})();};f.exports=j;}),null);
__d('TypeaheadCore',['Arbiter','ArbiterMixin','CSS','DOM','Event','Focus','Input','InputSelection','Keys','StickyPlaceholderInput','UserAgent','bind','emptyFunction','mixin'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('mixin')(c('ArbiterMixin')));i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this);this.events=['blur','focus','click','unselect','loading','change'];this.keepFocused=true;this.preventFocusChangeOnTab=false;this.queryTimeout=250;this.resetOnKeyup=true;this.resetOnSelect=false;this.setValueOnSelect=false;Object.assign(this,k);}j.prototype.init=function(k,l,m){'use strict';this.init=c('emptyFunction');this.data=k;this.view=l;this.root=m;this.initInput();this.inputWrap=c('DOM').find(m,'div.wrap');this.hiddenInput=c('DOM').find(m,'input.hiddenInput');this.value='';this.nextQuery=null;this.selectedText=null;if(this.setValueOnSelect&&c('CSS').hasClass(this.inputWrap,'selected'))this.selectedText=this.getValue();this.initView();this.initData();this.initEvents();this.initToggle();this._exclusions=[];};j.prototype.initInput=function(){'use strict';this.element=c('DOM').find(this.root,'.textInput');var k=c('DOM').scry(this.element,'input')[0];if(k)this.element=k;};j.prototype.initView=function(){'use strict';this.view.subscribe('highlight',c('Focus').set.bind(null,this.element));this.view.subscribe('select',function(k,l){this.select(l.selected);}.bind(this));this.view.subscribe('afterSelect',function(){this.afterSelect();}.bind(this));};j.prototype.initData=function(){'use strict';this.data.subscribe('notify',function(k,l){if(this.root.id==l.rootid&&!this.element.disabled&&l.value==this.getValue())this.view.render(l.value,l.results,l.isAsync);}.bind(this));this.data.subscribe('respond',function(k,l){if(l.forceDisplay||l.value==this.getValue()&&!this.element.disabled&&(this.element.getAttribute('singlestate')!=='true'||l.nullState))this.view.render(l.value,l.results,l.isAsync);}.bind(this));this.data.subscribe('activity',function(k,l){this.fetching=l.activity;if(!this.fetching)this.nextQuery&&this.performQuery();if(this.loading!=this.fetching){this.loading=this.fetching;this.inform('loading',{loading:this.loading});}}.bind(this));};j.prototype.initEvents=function(){'use strict';c('Event').listen(this.view.getElement(),{mouseup:this.viewMouseup.bind(this),mousedown:this.viewMousedown.bind(this)});var k={blur:c('bind')(this,'blur'),focus:c('bind')(this,'focus'),click:c('bind')(this,'click'),keyup:c('bind')(this,'keyup'),keydown:c('bind')(this,'keydown'),keypress:c('bind')(this,'keypress')};if(c('UserAgent').isBrowser('Firefox'))c('Event').listen(this.element,{input:k.keyup});c('Event').listen(this.element,k);};j.prototype.initToggle=function(){'use strict';this.subscribe('blur',this.view.hide.bind(this.view));this.subscribe('focus',this.view.show.bind(this.view));};j.prototype.viewMousedown=function(){'use strict';this.selecting=true;};j.prototype.viewMouseup=function(){'use strict';this.selecting=false;};j.prototype.blur=function(){'use strict';if(this.selecting){this.selecting=false;return;}this.inform('blur');};j.prototype.click=function(){'use strict';var k=c('InputSelection').get(this.element);if(k.start==k.end)this.element.select();this.inform('click');};j.prototype.focus=function(){'use strict';this.checkValue();this.inform('focus');};j.prototype.keyup=function(){'use strict';if(this.resetOnKeyup&&!this.getValue())this.view.reset();this.checkValue();if(this.getValue().length===0)this.inform('change',null);};j.prototype.keydown=function(event){'use strict';if(!this.view.isVisible()||this.view.isEmpty()){setTimeout(this.checkValue.bind(this),0);return;}switch(c('Event').getKeyCode(event)){case c('Keys').TAB:this.handleTab(event);return;case c('Keys').UP:this.view.prev();break;case c('Keys').DOWN:this.view.next();break;case c('Keys').ESC:this.view.reset();break;default:setTimeout(this.checkValue.bind(this),0);return;}event.kill();};j.prototype.keypress=function(event){'use strict';if(this.view.getSelection()&&c('Event').getKeyCode(event)==c('Keys').RETURN){this.view.select();event.kill();}};j.prototype.handleTab=function(event){'use strict';if(this.preventFocusChangeOnTab)if(this.view.getSelection()){event.kill();}else event.prevent();this.view.select();};j.prototype.select=function(k){'use strict';if(k&&this.setValueOnSelect){var l=k.orig_text||k.text;this.setValue(l);this.setHiddenValue(k.uid);this.selectedText=l;c('CSS').addClass(this.inputWrap,'selected');}};j.prototype.afterSelect=function(){'use strict';this.keepFocused?c('Focus').set(this.element):this.element.blur();this.resetOnSelect?this.reset():this.view.reset();};j.prototype.unselect=function(){'use strict';if(this.setValueOnSelect){this.selectedText=null;c('CSS').removeClass(this.inputWrap,'selected');}this.setHiddenValue();this.inform('unselect',this);};j.prototype.setEnabled=function(k){'use strict';var l=k===false;this.element.disabled=l;c('CSS').conditionClass(this.root,'uiTypeaheadDisabled',l);};j.prototype.reset=function(){'use strict';this.unselect();this.setValue();!this.keepFocused&&c('Input').reset(this.element);this.view.reset();this.inform('reset');};j.prototype.getElement=function(){'use strict';return this.element;};j.prototype.setExclusions=function(k){'use strict';this._exclusions=k.map(String);};j.prototype.getExclusions=function(){'use strict';return this._exclusions;};j.prototype.setValue=function(k){'use strict';this.value=this.nextQuery=k||'';c('Input').setValue(this.element,this.value);c('StickyPlaceholderInput').update(this.element);this.inform('change',k);};j.prototype.setHiddenValue=function(k){'use strict';if(typeof k==='number')k=String(k);this.hiddenInput.value=k||'';c('Arbiter').inform('Form/change',{node:this.hiddenInput});};j.prototype.getValue=function(){'use strict';return c('Input').getValue(this.element);};j.prototype.getHiddenValue=function(){'use strict';return this.hiddenInput.value||'';};j.prototype.checkValue=function(){'use strict';var k=this.getValue();if(k==this.value)return;if(this.selectedText&&this.selectedText!=k)this.unselect();var l=Date.now(),m=l-this.time;this.time=l;this.value=this.nextQuery=k;this.inform('change',this.value);this.performQuery(m);};j.prototype.performQuery=function(k){'use strict';if(this.selectedText)return;k=k||0;if(this.fetching&&k<this.queryTimeout){this.data.query(this.nextQuery,true,this._exclusions,k);}else{this.data.query(this.nextQuery,false,this._exclusions,k);this.nextQuery=null;}};j.prototype.updateHeight=function(){'use strict';};f.exports=j;}),null);
__d('MercuryTypeahead',['cx','Event','ArbiterMixin','DOM','DOMDimensions','Input','Keys','MercuryTypeaheadTemplates','Tokenizer','Typeahead','TypeaheadCore','WorkModeConfig'],(function a(b,c,d,e,f,g,h){var i=function j(k,l){this._domElement=null;this._typeahead=null;this._tokenizer=null;this._placeholder='';this._exclusions=[];this._viewNodeOrID=null;this._viewOptions={renderer:'compact',autoSelect:true};this._tokenizerBehaviors=[];this._heightPrev=null;this._dataSource=k;this._view=l;};Object.assign(i.prototype,c('ArbiterMixin'));Object.assign(i.prototype,{setPlaceholder:function j(k){this._placeholder=k;return this;},setExcludedParticipantsFromThreadMeta:function j(k){if(!k)return;this.setExcludedParticipants(k.participants);},setExcludedParticipants:function j(k){this._exclusions=[];k.forEach(function(l){var m=l.indexOf(':');if(l.substr(0,m)=='fbid')this._exclusions.push(l.substr(m+1));}.bind(this));return this;},setViewNodeID:function j(k){this._viewNodeOrID=k;},setViewNode:function j(k){this._viewNodeOrID=k;},setFullWidthView:function j(k){var l=c('DOM').create('div',{className:"_4ck uiTypeaheadView"});c('DOM').setContent(k,l);this.setViewNode(l);},setViewOption:function j(k,l){this._viewOptions[k]=l;},addTokenizerBehavior:function j(k){this._tokenizerBehaviors.push(k);},build:function j(k){if(this._domElement)return;var l=c('MercuryTypeaheadTemplates')[':fb:mercury:tokenizer'].build(),m=c('MercuryTypeaheadTemplates')[':fb:mercury:typeahead'].build();this._domElement=l.getRoot();c('DOM').appendContent(this._domElement,m.getRoot());var n=m.getNode('textfield');c('Input').setPlaceholder(n,this._placeholder);n.setAttribute('data-placeholder',this._placeholder);this._input=n;var o={node_id:this._viewNodeOrID,ctor:this._view,options:this._viewOptions},p={ctor:c('TypeaheadCore'),options:{setValueOnSelect:true}};this._typeahead=new (c('Typeahead'))(this._dataSource,o,p,m.getRoot());this._typeahead.init();var q={inline:true,behaviors:this._tokenizerBehaviors};this._tokenizer=new (c('Tokenizer'))(this._domElement,this._typeahead);this._tokenizer.init(l.getNode('tokenarea'),'participants',[],q);this._tokenizer.subscribe(['addToken','removeToken','removeAllTokens'],this._tokensChanged.bind(this));this._tokenizer.subscribe('resize',function(){this.inform('resize');}.bind(this));c('Event').listen(n,'focus',function(){this._resetDataSource();this._typeahead.init();}.bind(this));c('Event').listen(this._domElement,'click',this.focus.bind(this));c('Event').listen(n,'keydown',this.keydown.bind(this));this._heightPrev=c('DOMDimensions').getElementDimensions(this._domElement).height;},getElement:function j(){return this._domElement;},getSelectedParticipantIDs:function j(){var k=[];if(this._tokenizer)(this._tokenizer.getTokenValues()||[]).forEach(function(l){k.push('fbid:'+l);});return k;},getTokens:function j(){var k=[];if(this._tokenizer)k=this._tokenizer.getTokens();return k;},getTokenizer:function j(){return this._tokenizer;},keydown:function j(event){if(this._tokenizer.inline&&event.keyCode==c('Keys').ESC){if(c('Input').isEmpty(this._input)){var k=this._tokenizer.getLastToken();if(k&&k.isRemovable()){this._tokenizer.removeToken(k);event.stopPropagation();return;}}else{this._typeahead.getCore().reset();event.stopPropagation();return;}this.inform('esc-pressed');return;}if(c('Input').isEmpty(this._input)&&this._tokenizer.inline&&event.keyCode===c('Keys').RETURN){event.preventDefault();return this.inform('tokens-return');}},reset:function j(){this._tokenizer&&this._tokenizer.removeAllTokens();this._typeahead&&this._typeahead.getCore().reset();},focus:function j(){this._tokenizer&&this._tokenizer.focusInput();},getTypeahead:function j(){return this._typeahead;},_resetDataSource:function j(){this._dataSource.setExclusions(this._exclusions);},_tokensChanged:function j(){this.inform('tokens-changed');}});f.exports=i;}),null);
__d('ChatAddFriendsTabSheetRawRenderer',['fbt','ChatTabTypeaheadRenderer','ContextualTypeaheadView','DOM','Event','MercuryDataSourceWrapper','MercuryTypeahead','MessengerAdminGroupUtils','ChatTabTemplates','WorkModeConfig','Keys'],(function a(b,c,d,e,f,g,h){'use strict';var i={render:function j(k,l,m,n,o,p){var q,r=p?c('ChatTabTemplates')[':fb:mercury:chat:tab-sheet:add-friends-empty-tab'].build():c('ChatTabTemplates')[':fb:mercury:chat:tab-sheet:add-friends'].build(),s=p?c('MercuryDataSourceWrapper').chat_typeahead_source:c('MercuryDataSourceWrapper').chat_add_people_source;s.setShowThreads(p);var t=new (c('MercuryTypeahead'))(s,c('ContextualTypeaheadView'));t.setViewOption('renderer',c('ChatTabTypeaheadRenderer'));t.setExcludedParticipantsFromThreadMeta(n);if(!p){var u=void 0;if(c('WorkModeConfig').is_work_user){u=h._("Add colleagues to this chat");}else if(c('MessengerAdminGroupUtils').isJoinableThread(n)){u=h._("Invite friends to this chat");}else u=h._("Add friends to this chat");t.setPlaceholder(u);}t.build();c('DOM').replace(r.getNode('participantsTypeahead'),t.getElement());c('DOM').setContent(m,r.getRoot());t.getTokenizer().adjustWidth();var v=r.getNode('participantsTypeahead').getAttribute('data-labelid'),w=c('DOM').scry(t.getElement(),'input[type="text"]')[0];if(w)if(v){w.setAttribute('aria-labelledby',v);}else w.setAttribute('aria-label',h._("To"));t.focus();c('Event').listen(t.getElement(),'keyup',function(event){if(event&&event.keyCode===c('Keys').TAB){var x=r.getNode('doneButton');if(x){x.focus();event.preventDefault();}}});if(!p)(function(){var x=function y(){var z=t.getSelectedParticipantIDs();if(z.length)o(z);l.close(k);};c('Event').listen(r.getNode('doneButton'),'click',x);t.subscribe('tokens-return',function(){if(t.getTokens().length)x();});})();return t;}};f.exports=i;}),null);
__d('ChatAddFriendsTabSheet',['ArbiterMixin','ChatAddFriendsTabSheetRawRenderer','ChatOpenTabEventLogger','FantaTabActions','MercuryIDs','MercuryLogMessageType','MercurySourceType','MercuryThreadInfo','MercuryTriodeSourceUtil','MercuryTypeaheadConstants','MercuryMessageActions','MercuryMessageObject','MessengerAdminGroupUtils','MultiChatController','Style','MercuryThreadActions','MercuryThreads'],(function a(b,c,d,e,f,g){'use strict';var h=c('MercuryMessageActions').get(),i=c('MercuryMessageObject').get(),j=c('MercuryThreadActions').get(),k=c('MercuryThreads').get();function l(p,q,r,s){this._threadID=p;this._rootElement=q;this._sheetView=r;this._typeahead=null;this._chatTabView=s;}Object.assign(l.prototype,c('ArbiterMixin'),{render:function p(){k.getThreadMeta(this._threadID,function(q){var r=q.is_canonical_user?m:n,s=k.isNewEmptyLocalThread(this._threadID);this._typeahead=c('ChatAddFriendsTabSheetRawRenderer').render(this,this._sheetView,this._rootElement,q,r.bind(null,q),s);this._typeahead.subscribe('tokens-changed',function(){if(s)o(this,this._typeahead,this._threadID,this._chatTabView);}.bind(this));this._typeahead.subscribe('resize',function(){this._sheetView.resize();}.bind(this));this._typeahead.subscribe('esc-pressed',function(){this.inform('esc-pressed');}.bind(this));}.bind(this));},getParticipants:function p(){if(!this._typeahead)return null;return this._typeahead.getSelectedParticipantIDs();},isPermanent:function p(){return true;},isSheetWithInput:function p(){return true;},getType:function p(){return 'add_friends_type';},open:function p(){this._sheetView.open(this);},close:function p(){this._sheetView.close(this);},getHeight:function p(){return c('Style').get(this._rootElement,'height');}});function m(p,q){var r=p.participants;c('MultiChatController').createThreadForTokens(r.concat(q));}function n(p,q){var r=p.thread_id;if(c('MercuryThreadInfo').isEmptyLocalThread(p)){j.addParticipants(r,q);}else{var s=c('MessengerAdminGroupUtils').isJoinableThread(p);if(s){q.map(function(t){var u=c('MercuryIDs').getThreadIDFromParticipantID(t);h.send(i.constructUserGeneratedMessageObject(p.joinable_mode.link,c('MercuryTriodeSourceUtil').getMercuryTriodeSource(),u));});}else h.send(i.constructLogMessageObject(c('MercurySourceType').CHAT_WEB,r,c('MercuryLogMessageType').SUBSCRIBE,{added_participants:q}));}c('FantaTabActions').openTab(r);c('ChatOpenTabEventLogger').log('ChatAddFriendsTabSheet',r);}function o(p,q,r,s){var t=q.getTypeahead().getData(),u=q.getTokens(),v=q.getTypeahead().getCore();v.getElement().removeAttribute('disabled');t.setShowThreads(u.length===0);var w=u.length==1&&u[0].getInfo().render_type===c('MercuryTypeaheadConstants').THREAD_TYPE;if(w){var x=u[0].getInfo().mercury_thread;if(x){var y=s._sharePreview,z=y&&y.getShareData();if(z)var aa=function ba(ca){return ca.loadShareFromParams(z.share_type,z.share_params);};c('FantaTabActions').replaceTab(r,x.thread_fbid);}}else{if(u.length==1&&u[0].getInfo().render_type===c('MercuryTypeaheadConstants').PAGE_TYPE)v.getElement().setAttribute('disabled','disabled');p.inform('chat/tokens-changed',{token_count:u.length,tokens:u});}}f.exports=l;}),null);
__d("XMessagingSetThreadStateController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/messaging\/set_thread_state\/",{});}),null);
__d('MercurySheetView',['cx','Animation','ArbiterMixin','Bootloader','CSS','DOM','JSLogger','MercuryIDs','MercuryParticipants','MercurySheetPolicy','MercuryThreadActions','MercuryThreadIDMap','MercuryMessageActions','MercuryMessageObject','MessengerAdminGroupUtils','React','ReactDOM','Style','MercuryThreads','Vector','XMessagingSetThreadStateController','emptyFunction','setTimeoutAcrossTransitions'],(function a(b,c,d,e,f,g,h){var i=c('MercuryThreadActions').get(),j=c('MercuryThreadIDMap').get(),k=c('MercuryMessageActions').get(),l=c('MercuryMessageObject').get(),m=c('MercuryThreads').get(),n=5000,o='/ajax/chat/multichat/name_conversation/dismiss.php',p={},q=function r(s,t,u,v){this._threadID=s;this._rootElement=t;this._tabMainElement=u;this._view=v;this._openSheet=null;};Object.assign(q.prototype,c('ArbiterMixin'),{destroy:function r(){if(typeof this._openSheet==='string'){c('ReactDOM').unmountComponentAtNode(this._rootElement);}else c('DOM').empty(this._rootElement);},_renderSheet:function r(s){if(s.type&&typeof s.type==='function'){c('ReactDOM').render(s,this._rootElement);}else s.render();},_clearAndOpen:function r(s,t,u){if(!t)return false;if(s===this._openSheet){this._renderSheet(t);return true;}this.clear(function(){this._openSheet=s;c('CSS').show(this._rootElement);this._renderSheet(t);if(u){c('CSS').addClass(this._tabMainElement,'sheetSlide');c('CSS').addClass(this._tabMainElement,"_1sk4");var v=c('Vector').getElementDimensions(this._rootElement).y;c('Style').set(this._rootElement,'bottom',v+'px');this.resize();this._animation=new (c('Animation'))(this._rootElement).to('bottom',0).duration(150).ease(c('Animation').ease.both).ondone(function(){c('CSS').removeClass(this._tabMainElement,'sheetSlide');c('CSS').removeClass(this._tabMainElement,"_1sk4");this.resize();}.bind(this)).go();}else this.resize();if(!c('MercurySheetPolicy').isPermanent(s))this.resetTimeout(s);}.bind(this));return true;},_openNewSheet:function r(s,t,u){if(this._openSheet&&!c('MercurySheetPolicy').canReplaceOpenSheet(this._openSheet,s))return false;if(typeof s==='string'){this._openSheetByType(s,t,u);return false;}else{this._clearAndOpen(s,s,t);return true;}},_openSheetByType:function r(s,t,u){switch(s){case c('MercurySheetPolicy').sheets.ChatThreadIsMutedTabSheet:c('Bootloader').loadModules(["ChatThreadIsMutedTabSheet.react"],function(v){var w=c('React').createElement(v,{onUnmute:function(){i.unmute(this._threadID);this._view.focus();}.bind(this)});this._clearAndOpen(s,w,t);}.bind(this),'MercurySheetView');break;case c('MercurySheetPolicy').sheets.ChatUserFocusBypassSheet:c('Bootloader').loadModules(["ChatUserFocusBypassSheet.react"],function(v){var w=c('React').createElement(v,null);this._clearAndOpen(s,w,t);}.bind(this),'MercurySheetView');break;case c('MercurySheetPolicy').sheets.ChatUserFocusSheet:c('Bootloader').loadModules(["ChatUserFocusSheet.react"],function(v){var w=m.getThreadMetaNow(this._threadID),x=c('React').createElement(v,{thread:w});this._clearAndOpen(s,x,t);}.bind(this),'MercurySheetView');break;case c('MercurySheetPolicy').sheets.ChatMontageSheet:c('Bootloader').loadModules(["ChatMontageSheet.react"],function(v){var w=c('React').createElement(v,{threadID:this._threadID,onResize:function(){return this.resize();}.bind(this)});this._clearAndOpen(s,w,t);}.bind(this),'MercurySheetView');break;case c('MercurySheetPolicy').sheets.ChatUserTimezoneSheet:c('Bootloader').loadModules(["ChatUserTimezoneSheet.react"],function(v){var w=function(){this.close(s);}.bind(this),x=c('React').createElement(v,{data:u,threadID:this._threadID,resize:function(){return this.resize();}.bind(this),onDismiss:w});this._clearAndOpen(s,x,t);}.bind(this),'MercurySheetView');break;case c('MercurySheetPolicy').sheets.ChatUserBlockedTabSheet:c('Bootloader').loadModules(["ChatPrivacyActionController","ChatUserBlockedTabSheet.react"],function(v,w){var x=c('MercuryIDs').getUserIDFromThreadID(this._threadID);if(!x){var y=c('JSLogger').create('blackbird');y.error('user_blocked_sheet_open_with_non_friend');return;}var z=new v(x,c('emptyFunction')),aa=c('MercuryIDs').getParticipantIDFromUserID(x);c('MercuryParticipants').get(aa,function(ba){var ca=c('React').createElement(w,{shortName:ba.short_name,gender:ba.gender,privacyActionController:z});this._clearAndOpen(s,ca,t);}.bind(this));}.bind(this),'MercurySheetView');break;case c('MercurySheetPolicy').sheets.ChatUploadWarningTabSheet:c('Bootloader').loadModules(["ChatUploadWarningTabSheet.react"],function(v){var w=c('React').createElement(v,null);this._clearAndOpen(s,w,t);}.bind(this),'MercurySheetView');break;case c('MercurySheetPolicy').sheets.ChatThreadIsMessageBlockedSheet:c('Bootloader').loadModules(["ChatThreadIsMessageBlockedSheet.react"],function(v){var w=c('MercuryIDs').getUserIDFromThreadID(this._threadID),x=c('MercuryIDs').getParticipantIDFromUserID(w);if(x)c('MercuryParticipants').get(x,function(y){var z=c('React').createElement(v,{shortName:y.short_name,onUnblock:function(){i.unblockMessages(this._threadID);this._view.focus();}.bind(this)});this._clearAndOpen(s,z,t);}.bind(this));}.bind(this),'MercurySheetView');break;case c('MercurySheetPolicy').sheets.ChatReadOnlyTabSheet:case c('MercurySheetPolicy').sheets.ChatReadOnlyPermanentTabSheet:c('Bootloader').loadModules(["ChatReadOnlyTabSheet.react","MercuryReadOnlyReason"],function(v,w){var x=m.getThreadMetaNow(this._threadID),y=x?w.getReason(x.has_email_participant):null;if(y){var z=c('React').createElement(v,{reason:y});this._clearAndOpen(s,z,t);}}.bind(this),'MercurySheetView');break;case c('MercurySheetPolicy').sheets.ChatOfflineTabSheet:c('Bootloader').loadModules(["ChatOfflineTabSheet.react","ChatPrivacyActionController","ChatVisibility"],function(v,w,x){var y=c('JSLogger').create('blackbird'),z=c('MercuryIDs').getUserIDFromThreadID(this._threadID);if(!z){y.error('offline_sheet_open_with_non_friend');return;}var aa=new w(z,c('emptyFunction')),ba=c('MercuryIDs').getParticipantIDFromUserID(z);c('MercuryParticipants').get(ba,function(ca){var da=c('React').createElement(v,{shortName:ca.short_name,privacyActionController:aa,turnOnChat:function ea(event){event.preventDefault();if(x.isOnline())y.error('tab_sheet_already_online');aa.togglePrivacy();y.log('tab_sheet_go_online',{tab_id:z});}});this._clearAndOpen(s,da,t);}.bind(this));}.bind(this),'MercurySheetView');break;case c('MercurySheetPolicy').sheets.ChatNoRecipientsTabSheet:if(!c('MercuryIDs').getUserIDFromThreadID(this._threadID))c('Bootloader').loadModules(["ChatNoRecipientsTabSheet.react"],function(v){var w=c('React').createElement(v,null);this._clearAndOpen(s,w,t);}.bind(this),'MercurySheetView');break;case c('MercurySheetPolicy').sheets.ChatNewMessagesTabSheet:c('Bootloader').loadModules(["ChatNewMessagesTabSheet.react"],function(v){var w=c('React').createElement(v,{onClick:function(){this._view.newMessageClicked();}.bind(this)});this._clearAndOpen(s,w,t);}.bind(this),'MercurySheetView');break;case c('MercurySheetPolicy').sheets.ChatNameConversationTabSheet:c('Bootloader').loadModules(["AsyncRequest","ChatNameConversationTabSheet.react","MercuryAPIArgsSource","MercuryLogMessageType","MercurySourceType"],function(v,w,x,y,z){m.getThreadMeta(this._threadID,function(aa){var ba=void 0,ca=function fa(ga,ha){var ia=ga.name;if((ha||ia)&&ha!=ia)if(!c('MessengerAdminGroupUtils').isJoinableThread(ga)){k.send(l.constructLogMessageObject(z.CHAT_WEB,ga.thread_id,y.THREAD_NAME,{name:ha}),null,x.CHAT);}else{var ja=c('XMessagingSetThreadStateController').getURIBuilder().getURI();new v().setURI(ja).setData({thread_id:ga.thread_fbid,thread_name:ha}).send();}},da=function(fa){if(!p[this._threadID]){p[this._threadID]=true;j.getServerIDFromClientID(fa.thread_id,function(ga){new v(o).setData({thread_fbid:ga}).send();});}this.close(s);}.bind(this);ba=c('React').createElement(w,{defaultThreadName:aa.name,onDone:function fa(ga){ca(aa,ga);da(aa);}});var ea=u&&u.automatic;if(!ea||ea&&!p[this._threadID])this._clearAndOpen(s,ba,t);}.bind(this));}.bind(this),'MercurySheetView');break;case c('MercurySheetPolicy').sheets.ChatEmployeeAwaySheet:c('Bootloader').loadModules(["ChatEmployeeAwaySheet.react"],function(v){var w=c('React').createElement(v,null);this._clearAndOpen(s,w,t);}.bind(this),'MercurySheetView');break;case c('MercurySheetPolicy').sheets.ChatUserIsPersonalUserSheet:c('Bootloader').loadModules(["ChatUserIsPersonalUserSheet.react"],function(v){var w=function(){this.close(s);}.bind(this);u=u||{};var x=c('React').createElement(v,{myself:u.myself,participant:u.participant,threadID:this._threadID,onDismiss:w});this._clearAndOpen(s,x,t);}.bind(this),'MercurySheetView');break;case c('MercurySheetPolicy').sheets.ChatUserIsWorkUserSheet:c('Bootloader').loadModules(["ChatUserIsWorkUserSheet.react"],function(v){var w=function(){this.close(s);}.bind(this);u=u||{};var x=c('React').createElement(v,{myself:u.myself,participant:u.participant,threadID:this._threadID,onDismiss:w});this._clearAndOpen(s,x,t);}.bind(this),'MercurySheetView');break;case c('MercurySheetPolicy').sheets.ChatPageResponsivenessIndicator:c('Bootloader').loadModules(["ChatPageResponsivenessIndicator.react"],function(v){var w=c('React').createElement(v,u);this._clearAndOpen(s,w,t);}.bind(this),'MercurySheetView');break;case c('MercurySheetPolicy').sheets.ChatEventReminderTabSheet:c('Bootloader').loadModules(["ChatEventReminderContainer.react","EventReminderActions","EventReminderStateStore","EventsActionsLogger"],function(v,w,x,y){var z=void 0,aa=m.getThreadMetaNow(this._threadID),ba={threadID:'',flyoutNoSheet:false,isEditing:true,useContextualDialog:true};if(aa.lightweight_event){var ca=aa.thread_id;ba.threadID=ca;z=x.getEvent(ca);if(z&&!z.eventDate)w.updateEventReminder(ca,aa.lightweight_event);}if(!z)this.close(s);var da={action_history:[{surface:y.Surface.MESSENGER_CHAT_TAB,mechanism:y.Mechanism.REMINDER_BANNER}]},ea=c('React').createElement(v,babelHelpers['extends']({},ba,{actionContext:da}));this._clearAndOpen(s,ea,t);}.bind(this),'MercurySheetView');break;case c('MercurySheetPolicy').sheets.ChatAppointmentBanner:c('Bootloader').loadModules(["ChatAppointmentBannerRoot.react"],function(v){var w=c('React').createElement(v,u);this._clearAndOpen(s,w,t);}.bind(this),'MercurySheetView');break;case c('MercurySheetPolicy').sheets.ChatJoinCallSheet:c('Bootloader').loadModules(["ChatJoinCallSheet.react"],function(v){var w=c('React').createElement(v,u);this._clearAndOpen(s,w,t);}.bind(this),'MercurySheetView');break;case c('MercurySheetPolicy').sheets.ChatRoomAssociatedObjectSheet:c('Bootloader').loadModules(["ChatRoomAssociatedObjectSheet.react"],function(v){var w=c('React').createElement(v,babelHelpers['extends']({className:"_1vxb"},u));this._clearAndOpen(s,w,t);}.bind(this),'MercurySheetView');break;}},isNewMessagesSheetOpened:function r(){return this._openSheet===c('MercurySheetPolicy').sheets.ChatNewMessagesTabSheet;},isMontageSheetOpen:function r(){return this._openSheet===c('MercurySheetPolicy').sheets.ChatMontageSheet;},resetTimeout:function r(s){clearTimeout(this._sheetCloseHandler);this._sheetCloseHandler=c('setTimeoutAcrossTransitions')(function(){this.close(s);}.bind(this),n);},set:function r(s){return this._openNewSheet(s,false);},open:function r(s,t){return this._openNewSheet(s,true,t);},close:function r(s,t){if(this._openSheet!==s)return;if(!this._openSheet){t&&t();return;}if(this._animation)this._animation.stop();if(this._sheetCloseHandler){clearTimeout(this._sheetCloseHandler);this._sheetCloseHandler=null;}c('CSS').addClass(this._tabMainElement,'sheetSlide');c('CSS').addClass(this._tabMainElement,"_1sk4");var u=c('Vector').getElementDimensions(this._rootElement).y;this.resize();this._animation=new (c('Animation'))(this._rootElement).to('bottom',u+'px').duration(100).ease(c('Animation').ease.begin).ondone(function(){if(typeof this._openSheet==='string'){c('ReactDOM').unmountComponentAtNode(this._rootElement);}else c('DOM').empty(this._rootElement);c('CSS').hide(this._rootElement);c('CSS').removeClass(this._tabMainElement,'sheetSlide');c('CSS').removeClass(this._tabMainElement,"_1sk4");this._openSheet=null;this.resize();t&&t();}.bind(this)).go();},clear:function r(s){this.close(this._openSheet,s);},resize:function r(){this.inform('resize');}});f.exports=q;}),null);