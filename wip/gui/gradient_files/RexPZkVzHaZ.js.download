if (self.CavalryLogger) { CavalryLogger.start_js(["tUNS3"]); }

__d('ContextualDialogXUITheme',['cx'],(function a(b,c,d,e,f,g,h){var i={wrapperClassName:"_53ii",arrowDimensions:{offset:12,length:16}};f.exports=i;}),null);
__d('XUIContextualDialogBody.react',['React'],(function a(b,c,d,e,f,g){var h,i;h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.render=function(){'use strict';return c('React').createElement('div',{className:this.props.className},this.props.children);};function j(){'use strict';h.apply(this,arguments);}f.exports=j;}),null);
__d('XUIContextualDialogFooter.react',['cx','React','XUIOverlayFooter.react'],(function a(b,c,d,e,f,g,h){var i,j;i=babelHelpers.inherits(k,c('React').Component);j=i&&i.prototype;k.prototype.render=function(){'use strict';return c('React').createElement(c('XUIOverlayFooter.react'),{className:"_572u"},this.props.children);};function k(){'use strict';i.apply(this,arguments);}f.exports=k;}),null);
__d('XUIContextualDialogTitle.react',['cx','React','joinClasses'],(function a(b,c,d,e,f,g,h){var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){'use strict';var m=this.props.use,n=c('joinClasses')("_47lu"+(m==='primary'?' '+"_47lv":'')+(m==='secondary'?' '+"_47mc":''),this.props.className);return c('React').createElement('h3',{className:n,id:this.props.id},this.props.children);};function l(){'use strict';i.apply(this,arguments);}l.propTypes={use:k.oneOf(['primary','secondary'])};l.defaultProps={use:'primary'};f.exports=l;}),null);
__d('XUIContextualDialog.react',['cx','fbt','ContextualDialogXUITheme','React','ReactAbstractContextualDialog','ReactLayer','XUIContextualDialogBody.react','XUIContextualDialogFooter.react','XUIContextualDialogTitle.react','uniqueID'],(function a(b,c,d,e,f,g,h,i){var j,k,l=c('React').PropTypes,m=c('ReactLayer').createClass(c('ReactAbstractContextualDialog').createSpec({displayName:'ReactXUIContextualDialog',theme:c('ContextualDialogXUITheme')}));j=babelHelpers.inherits(n,c('React').Component);k=j&&j.prototype;function n(){'use strict';k.constructor.call(this);this.updatePosition=function(){var o=this.refs.dialog;if(o)o.layer.updatePosition();}.bind(this);this.$XUIContextualDialog1=this.$XUIContextualDialog1||c('uniqueID')();}n.prototype.$XUIContextualDialog2=function(){'use strict';return this.$XUIContextualDialog3(c('XUIContextualDialogBody.react'));};n.prototype.$XUIContextualDialog4=function(){'use strict';return this.$XUIContextualDialog3(c('XUIContextualDialogTitle.react'));};n.prototype.$XUIContextualDialog5=function(){'use strict';return this.$XUIContextualDialog3(c('XUIContextualDialogFooter.react'));};n.prototype.$XUIContextualDialog3=function(o){'use strict';var p=null;c('React').Children.forEach(this.props.children,function(q){if(!p&&q.type===o)p=q;});return p;};n.prototype.$XUIContextualDialog6=function(){'use strict';return i._("Dialogue content");};n.prototype.render=function(){'use strict';var o=this.props.children,p=this.$XUIContextualDialog2(),q=this.$XUIContextualDialog4(),r={};if(this.props.labelledBy){r.labelledBy=this.props.labelledBy;}else if(this.props.label){r.label=this.props.label;}else if(q){q=c('React').cloneElement(q,{id:this.$XUIContextualDialog1});r.labelledBy=[this.$XUIContextualDialog1];}else r.label=this.$XUIContextualDialog6();if(p)o=c('React').createElement('div',{className:"_53iv"},q,p);return c('React').createElement(m,babelHelpers['extends']({},this.props,r,{ref:'dialog'}),o,p?this.$XUIContextualDialog5():null);};n.propTypes={position:l.oneOf(['above','below','left','right']),alignment:l.oneOf(['left','center','right']),dialogRole:l.oneOf(['dialog','region','alert']),offsetX:l.number,offsetY:l.number,width:l.number,autoFocus:l.bool,arrowBehavior:l.func,behaviors:l.object,shown:l.bool,context:l.object,contextRef:l.func,hoverContext:l.object,hoverContextRef:l.func,hoverShowDelay:l.number,hoverHideDelay:l.number,hideOnBlur:l.bool,hideOnEscape:l.bool,onToggle:l.func,hasActionableContext:l.bool,label:l.string,labelledBy:l.arrayOf(l.string)};n.defaultProps={dialogRole:'dialog',hasActionableContext:false,hideOnEscape:true};n.WIDTH={NORMAL:312,WIDE:400};f.exports=n;}),null);
__d('ChatEmojiButton.react',['cx','fbt','BootloadOnRender.react','ChatFlyoutPlaceholder.react','JSResource','LazyComponent.react','Link.react','ReactComponentWithPureRenderMixin','React','XUIContextualDialog.react','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j=c('React').PropTypes,k=278,l=c('React').createClass({displayName:'ChatEmojiButton',_clickGuard:false,mixins:[c('ReactComponentWithPureRenderMixin')],propTypes:{ContextualDialogClass:j.func.isRequired,flyoutAlignment:j.oneOf(['left','right']),fromChatTab:j.bool,onMount:j.func,onSelect:j.func,sendCustomEmoji:j.func,threadID:j.string},getDefaultProps:function m(){return {ContextualDialogClass:c('XUIContextualDialog.react'),flyoutAlignment:'left'};},getInitialState:function m(){return {shown:false};},componentDidMount:function m(){this.props.onMount&&this.props.onMount(this);},hideFlyout:function m(){this.setState(this.getInitialState());this.props.getInput&&this.props.getInput().focus();},render:function m(){return c('React').createElement(c('Link.react'),{className:c('joinClasses')(this.props.className,this.state.shown?"open":''),href:'#',onMouseDown:this._handleMouseDown,onClick:this._handleClick,role:'button',title:i._("Choose an emoji"),ref:'link'},this.renderLayers());},renderLayers:function m(){if(!this.state.shown)return null;var n=this.props.ContextualDialogClass;return c('React').createElement(n,{alignment:this.props.flyoutAlignment,contextRef:function(){return this.refs.link;}.bind(this),offsetY:this.props.fromChatTab?-20:10,onBlur:this.hideFlyout,onToggle:this._handleContextualDialogToggle,shown:this.state.shown,width:k,key:'contextualDialog'},c('React').createElement(c('BootloadOnRender.react'),{component:c('React').createElement(c('LazyComponent.react'),{onCategorySelect:this._focusInput,onEscKeyDown:this.hideFlyout,onSelect:this._handleSelect,sendCustomEmoji:this.props.sendCustomEmoji,threadID:this.props.threadID,width:k}),loader:c('JSResource')('ChatEmojiFlyout.react').__setRef('ChatEmojiButton.react'),placeholder:c('React').createElement(c('ChatFlyoutPlaceholder.react'),null)}));},_focusInput:function m(){this.props.getInput&&this.props.getInput().focus();},_handleMouseDown:function m(){this._clickGuard=this.state.shown;},_handleClick:function m(n){n.stopPropagation();if(this._clickGuard){this._clickGuard=false;return;}this.setState({shown:!this.state.shown});this._focusInput();},_handleSelect:function m(n){this.props.onSelect&&this.props.onSelect(n);},_handleContextualDialogToggle:function m(n){this.setState({shown:n});}});f.exports=l;}),null);