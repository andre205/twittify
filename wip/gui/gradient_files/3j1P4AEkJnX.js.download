if (self.CavalryLogger) { CavalryLogger.start_js(["4KKj\/"]); }

__d('FacepileRounded.react',['cx','Image.react','React','Tooltip.react','joinClasses'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes;i=babelHelpers.inherits(l,c('React').Component);j=i&&i.prototype;l.prototype.render=function(){var m=this.props,n=m.className,o=m.profiles,p=m.message,q=m.numProfilesToDisplay,r=null;if(p)r=c('React').createElement('div',{className:"_4mnt"},p);var s=q?o.slice(0,q).map(function(t,u){return this.$FacepileRounded1(t,u);}.bind(this)):o.map(function(t,u){return this.$FacepileRounded1(t,u);}.bind(this));return c('React').createElement('div',{className:c('joinClasses')("_4mnv",n)},c('React').createElement('div',{className:"_4mnw"},s,this.$FacepileRounded2()),r);};l.prototype.$FacepileRounded2=function(){var m=this.props,n=m.direction,o=m.imageSize,p=m.profiles,q=m.remainingProfilesCount,r=m.numProfilesToDisplay;if(!r)return null;var s=q?q:p.length-r,t=p.slice(r).map(function(u){return u.name;}).filter(Boolean).join('\n');return s>0?c('React').createElement('span',{className:"_4mnq _34n6",style:{borderRadius:o,height:o,marginLeft:-(o*.3125)+'px',minWidth:o,position:n==='descending'?'relative':null,zIndex:n==='descending'?0:null}},c('React').createElement('span',{className:"_40vg",title:t},'+'+s)):null;};l.prototype.$FacepileRounded1=function(m,n){var o=this.props,p=o.direction,q=o.imageSize,r=o.profiles,s=o.showNames,t=m.glyph_size,u=m.image_src,v={},w=t||q;v.height=w+'px';v.width=w+'px';if(n>0)v.marginLeft=-(w*.3125)+'px';if(p==='descending'){v.position='relative';v.zIndex=r.length-n;}var x="_4mnq";if(m.className)x=c('joinClasses')(x,m.className);var y=c('React').createElement('div',{className:x,key:n,style:v},c('React').createElement(c('Image.react'),{className:"_1h_6",height:w,src:u,width:w}));if(s&&m.name)y=c('React').createElement(c('Tooltip.react'),{className:"_4mns",key:n+m.image_src,tooltip:m.name},y);return y;};function l(){i.apply(this,arguments);}l.defaultProps={direction:'ascending',imageSize:32,showNames:false};l.propTypes={className:k.string,direction:k.string,imageSize:k.number,message:k.string,numProfilesToDisplay:k.number,remainingProfilesCount:k.number,profiles:k.arrayOf(k.shape({image_src:k.any.isRequired,className:k.string,glyph_size:k.number,name:k.string})).isRequired,showNames:k.bool};f.exports=l;}),null);
__d('P2PAcceptMoneyDialog.react',['cx','BootloadedComponent.react','Bootloader','MessengerEnvironment','P2PDialog.react','P2PLoadingMask.react','JSResource','React','Run'],(function a(b,c,d,e,f,g,h){'use strict';var i,j,k=c('React').PropTypes,l=c('MessengerEnvironment').messengerui;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=j.constructor).call.apply(n,[this].concat(q)),this.$P2PAcceptMoneyDialog1=function(){return c('React').createElement(c('P2PDialog.react'),{className:"_309"+(l?' '+"_5ktw":''),layerHideOnBlur:false,repositionOnUpdate:true,shown:true,width:l?400:350},c('React').createElement('div',{className:"_3w2b"},c('React').createElement(c('P2PLoadingMask.react'),{visible:true})));},o;}m.preload=function(){c('Run').onAfterLoad(function(){c('Bootloader').loadModules(["P2PAcceptMoneyDialogImpl.react"],function(){},'P2PAcceptMoneyDialog.react');});};m.prototype.render=function(){return c('React').createElement(c('BootloadedComponent.react'),babelHelpers['extends']({bootloadLoader:c('JSResource')('P2PAcceptMoneyDialogImpl.react').__setRef('P2PAcceptMoneyDialog.react'),bootloadPlaceholder:this.$P2PAcceptMoneyDialog1()},this.props));};m.propTypes={creditCards:k.array.isRequired,useRedesignForm:k.bool,onClose:k.func,transfer:k.object};f.exports=m;}),null);
__d('P2PUser',['immutable'],(function a(b,c,d,e,f,g){'use strict';var h,i;h=babelHelpers.inherits(j,c('immutable').Record({id:'',name:'',full_name:'',profile_uri:''}));i=h&&h.prototype;function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('P2PPaymentRequest',['P2PPaymentRequestStatus','P2PUser','immutable'],(function a(b,c,d,e,f,g){'use strict';var h,i,j=Math.round(Date.now()/1000);h=babelHelpers.inherits(k,c('immutable').Record({amount:'',amountWithSymbol:'',creationTime:j,currency:'',currentStatus:c('P2PPaymentRequestStatus').INITED,groupThreadFBID:'',id:'',individualRequests:[],memoText:'',requestee:{},requester:{},statusDescription:'',transfer:{},transferID:'',updatedTime:j}));i=h&&h.prototype;function k(){h.apply(this,arguments);}f.exports=k;}),null);
__d('P2PGroupSendReceiptDialog.react',['cx','fbt','FacepileRounded.react','Image.react','Link.react','MessengerEnvironment','P2PAmountUtils','P2PBigAmount.react','P2PButton.react','P2PDialog.react','P2PDialogBody.react','P2PDialogFooter.react','P2PDialogTitle.react','P2PLinkConstants','P2PLogger','P2PPaymentLoggerEvent','P2PPaymentLoggerEventFlow','P2PPaymentRequest','P2PPaymentRequestStatus','P2PText.react','React'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;j=babelHelpers.inherits(l,c('React').Component);k=j&&j.prototype;function l(){var m,n;for(var o=arguments.length,p=Array(o),q=0;q<o;q++)p[q]=arguments[q];return n=(m=k.constructor).call.apply(m,[this].concat(p)),this.handleClose=function(){this.log(c('P2PPaymentLoggerEvent').UI_ACTN_3RD_PARTY_RECEIPT_DISMISSED);this.props.onClose();}.bind(this),n;}l.prototype.componentDidMount=function(){this.log(c('P2PPaymentLoggerEvent').UI_ACTN_3RD_PARTY_RECEIPT_SHOWN,{raw_amount:this.props.amount});};l.prototype.getReceiverStatusMap=function(){var m;return this.props.individualRequests.reduce(function(n,o){switch(o.currentStatus){case c('P2PPaymentRequestStatus').EXPIRED:case c('P2PPaymentRequestStatus').DECLINED:case c('P2PPaymentRequestStatus').TRANSFER_COMPLETED:n[o.currentStatus].push(o);break;default:n[c('P2PPaymentRequestStatus').INITED].push(o);break;}return n;},(m={},m[c('P2PPaymentRequestStatus').DECLINED]=[],m[c('P2PPaymentRequestStatus').EXPIRED]=[],m[c('P2PPaymentRequestStatus').INITED]=[],m[c('P2PPaymentRequestStatus').TRANSFER_COMPLETED]=[],m));};l.prototype.getRequestProfile=function(m){var n=m.requestee||{};return {image_src:n.picture,name:n.full_name};};l.prototype.log=function(m,n){c('P2PLogger').log(m,babelHelpers['extends']({www_event_flow:this.props.eventFlow},n));};l.prototype.renderBody=function(){return c('React').createElement(c('P2PDialogBody.react'),null,c('React').createElement('ul',null,this.renderParticipantRow(this.props.sender,true),this.renderParticipantRow(this.props.receiver,false)),this.renderReceiverStatusList(),c('React').createElement('div',{className:"_bpy"},c('React').createElement(c('P2PBigAmount.react'),{amount:c('P2PAmountUtils').sanitizeAmount(this.props.amount),isPending:this.props.isGrayAmount,size:'large'})),c('React').createElement(c('P2PText.react'),{className:"_bpt",size:'small',type:'secondary'},this.props.bodyText,' ',c('React').createElement(c('Link.react'),{className:"_1ed3",href:c('P2PLinkConstants').helpCenterURI,target:'_blank'},i._("Learn More"))));};l.prototype.renderParticipantRow=function(m,n){if(!n&&this.props.individualRequests.length>1)return null;return c('React').createElement('li',{className:"_2chg",key:m.id},c('React').createElement('div',{className:"_2chh"},c('React').createElement(c('Link.react'),{href:m.profile_uri,onClick:this.props.onClose},c('React').createElement(c('Image.react'),{height:50,src:m.picture,width:50}))),c('React').createElement('div',{className:"_2chi"},c('React').createElement(c('P2PText.react'),{type:'primary'},c('React').createElement(c('P2PText.react'),{type:'secondary'},this.renderParticipantText(n)),m.full_name)));};l.prototype.renderParticipantText=function(m){if(m)return i._("From");return i._("To");};l.prototype.renderReceiverStatusList=function(){if(this.props.individualRequests.length<2)return null;var m=this.getReceiverStatusMap();return c('React').createElement('ul',null,this.renderStatus(m,c('P2PPaymentRequestStatus').TRANSFER_COMPLETED),this.renderStatus(m,c('P2PPaymentRequestStatus').DECLINED),this.renderStatus(m,c('P2PPaymentRequestStatus').INITED),this.renderStatus(m,c('P2PPaymentRequestStatus').EXPIRED));};l.prototype.renderStatus=function(m,n){var o=m[n].map(this.getRequestProfile);if(o.length===0)return null;return c('React').createElement('li',{className:"_5-av",key:n},c('React').createElement(c('P2PText.react'),{className:"_2chi _2pir",type:'secondary'},this.renderStatusText(n)),c('React').createElement(c('FacepileRounded.react'),{className:"_3-8w",imageSize:40,numProfilesToDisplay:9,profiles:o,showNames:true}));};l.prototype.renderStatusText=function(m){switch(m){case c('P2PPaymentRequestStatus').DECLINED:return i._("Declined");case c('P2PPaymentRequestStatus').EXPIRED:return i._("Expired");case c('P2PPaymentRequestStatus').TRANSFER_COMPLETED:return i._("Paid");case c('P2PPaymentRequestStatus').INITED:default:return i._("Pending");}};l.prototype.render=function(){var m=c('MessengerEnvironment').messengerui,n=m?380:360,o=this.props.title;return c('React').createElement(c('P2PDialog.react'),{className:m?"_bpv":'',layerHideOnBlur:false,onToggle:this.props.onClose,width:n},c('React').createElement(c('P2PDialogTitle.react'),null,o),this.renderBody(),c('React').createElement(c('P2PDialogFooter.react'),null,c('React').createElement(c('P2PButton.react'),{label:i._("OK"),onClick:this.handleClose,type:'primary'})));};l.defaultProps={bodyText:i._("You can send money to friends in groups."),eventFlow:c('P2PPaymentLoggerEventFlow').UI_FLOW_P2P_GROUP_SEND,individualRequests:[],isGrayAmount:false,title:i._("Payment Details")};f.exports=l;}),null);
__d('P2PMercuryAttachmentBubble.react',['cx','fbt','BackgroundImage.react','MessengerEnvironment','Link.react','P2PBigAmount.react','P2PGKValues','React','URI','formatDate','joinClasses'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;m.prototype.renderBigAmount=function(){return c('React').createElement(c('P2PBigAmount.react'),{amount:this.props.amount,isPending:this.props.isPending});};m.prototype.renderStatusFooter=function(){var n=void 0;if(c('MessengerEnvironment').messengerui){n=i._("Status");}else n=i._("STATUS");return c('React').createElement('div',{className:"_5qco"},this.renderMemoFooter(),c('React').createElement('div',{className:"_5qcp"},c('React').createElement('div',{className:"_5qcq"},n),this.renderStatusWithDate()));};m.prototype.renderBannerFooter=function(){if(!this.props.bannerContent)return null;return c('React').createElement('div',{className:"_5qco"},this.props.bannerContent);};m.prototype.renderStatusWithDate=function(){var n=this.props.date,o=this.props.statusText,p=void 0;if(n){p=c('formatDate')(n,'M jS, g:ia');return c('React').createElement('div',null,c('React').createElement('div',{className:"_5qcr"},o),c('React').createElement('div',{className:"_5qcs"},'\u00b7'),c('React').createElement('div',{className:"_5qct"},p));}return c('React').createElement('div',null,o);};m.prototype.renderMemoFooter=function(){var n=this.props.memoText,o=void 0;if(!n)return null;if(c('MessengerEnvironment').messengerui){o=i._("For");}else o=i._("For");return c('React').createElement('div',{className:"_5qcp _3-94"},c('React').createElement('div',{className:"_5qcq"},o),c('React').createElement('div',{className:"_5qd0"},n));};m.prototype.renderMemoPhoto=function(){var n=this.props.memoPhotoURLs&&this.props.memoPhotoURLs[0];if(!c('P2PGKValues').P2PWWWMemoPhotoEligible||!n)return null;var o=192,p=100;if(this.props.isMessagesView){o=220;p=110;}else if(c('MessengerEnvironment').messengerui){o=350;p=120;}return c('React').createElement(c('BackgroundImage.react'),{className:"_rou",width:o,height:p,backgroundSize:'cover',src:n});};m.prototype.renderStandaloneMemoSection=function(){var n=this.renderMemoFooter();if(!n)return null;return c('React').createElement('div',{className:"_nvv"},n);};m.prototype.renderTopSection=function(){if(!this.props.topContent)return null;return c('React').createElement('div',{className:"_5qd1"},this.props.topContent);};m.prototype.renderReceiverText=function(){if(!this.props.isGroupThread)return null;if(this.props.isPaymentRequest)return c('React').createElement('div',{className:"_nvw"},i._("From {Name of the person receiving money}",[i.param('Name of the person receiving money',this.props.receiverName)]));return c('React').createElement('div',{className:"_nvw"},i._("Sent to {Name of the person receiving money}",[i.param('Name of the person receiving money',this.props.receiverName)]));};m.prototype.render=function(){var n=this.renderBannerFooter(),o=void 0;if(!n){o=this.renderStatusFooter();}else if(this.props.forceMemoTextShown)o=this.renderStandaloneMemoSection();return c('React').createElement('div',{className:c('joinClasses')(this.props.className,"_5qd2"+(this.props.isSender?' '+"_5qd3":'')+(this.props.isMessagesView?' '+"_5qd4":'')+(c('MessengerEnvironment').messengerui?' '+"_5qd5":'')+(this.props.viewerIsThirdParty?' '+"_5qd6":''))},c('React').createElement('div',{className:"_5qd7"},c('React').createElement(c('Link.react'),{className:"_5qd8",href:this.props.detailsURI,onClick:this.props.onClick,target:'_blank'},this.renderMemoPhoto(),this.renderTopSection(),c('React').createElement('div',{className:"_5qd9"},this.renderBigAmount(),this.renderReceiverText()),o),n));};function m(){j.apply(this,arguments);}m.propTypes={amount:l.string.isRequired,bannerContent:l.object,date:l.number,detailsURI:l.instanceOf(c('URI')),forceMemoTextShown:l.bool,isGroupThread:l.bool,isMessagesView:l.bool,isPending:l.bool,isPaymentRequest:l.bool,isSender:l.bool,memoText:l.string,memoPhotoURLs:l.arrayOf(l.string),onClick:l.func.isRequired,receiverName:l.string,statusText:l.node,topContent:l.object};f.exports=m;}),null);
__d("XP2PTransactionDetailController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("\/p2p\/transaction\/",{id:{type:"String",required:true}});}),null);
__d('P2PMercuryAttachment.react',['cx','fbt','CurrentUser','P2PAcceptMoneyDialog.react','P2PActions','P2PButton.react','P2PCreditCardStore','P2PEncryptedText.react','P2PGroupSendReceiptDialog.react','P2PLinkConstants','P2PMercuryAttachmentBubble.react','P2PNUXRendererUtils','P2PTransferParam','P2PTransferStatus','P2PVerificationFlowHelper','React','URI','XP2PTransactionDetailController'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k,l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var n,o;for(var p=arguments.length,q=Array(p),r=0;r<p;r++)q[r]=arguments[r];return o=(n=k.constructor).call.apply(n,[this].concat(q)),this.viewerIsSender=function(){return c('CurrentUser').getID()===this.props.transfer.sender.id;}.bind(this),this.viewerIsReceiver=function(){return c('CurrentUser').getID()===this.props.transfer.receiver.id;}.bind(this),this.viewerIsThirdParty=function(){return !this.viewerIsSender()&&!this.viewerIsReceiver();}.bind(this),this.getStatus=function(){var s=i._("Pending"),t=i._("Completed"),u=i._("Cancelled"),v=i._("Sent"),w=this.viewerIsSender(),x=this.viewerIsThirdParty();switch(this.props.transfer[c('P2PTransferParam').STATUS]){case c('P2PTransferStatus').PENDING_RECIPIENT_PROCESSING:case c('P2PTransferStatus').INTERMEDIATE_PROCESSING:case c('P2PTransferStatus').PENDING_RECIPIENT_NUX:case c('P2PTransferStatus').PENDING_RECIPIENT_VERIFICATION:case c('P2PTransferStatus').PENDING_RECIPIENT_MANUAL_REVIEW:case c('P2PTransferStatus').PENDING_RECIPIENT_VERIFICATION_PROCESSING:case c('P2PTransferStatus').PENDING_PUSH_FAIL:case c('P2PTransferStatus').PENDING_SENDER_INITED:return w||x?v:s;case c('P2PTransferStatus').PENDING_SENDER_MANUAL_REVIEW:case c('P2PTransferStatus').PENDING_SENDER_VERIFICATION:case c('P2PTransferStatus').PENDING_SENDER_VERIFICATION_PROCESSING:return s;case c('P2PTransferStatus').CANCELED_SENDER_RISK:case c('P2PTransferStatus').CANCELED_DECLINED:case c('P2PTransferStatus').CANCELED_RECIPIENT_RISK:case c('P2PTransferStatus').CANCELED_SYSTEM_FAIL:case c('P2PTransferStatus').CANCELED_EXPIRED:case c('P2PTransferStatus').CANCELED_SAME_CARD:return u;case c('P2PTransferStatus').COMPLETED:return t;default:return s;}}.bind(this),this.isGrayStatus=function(){switch(this.props.transfer[c('P2PTransferParam').STATUS]){case c('P2PTransferStatus').INTERMEDIATE_PROCESSING:case c('P2PTransferStatus').PENDING_RECIPIENT_VERIFICATION:case c('P2PTransferStatus').PENDING_RECIPIENT_VERIFICATION_PROCESSING:case c('P2PTransferStatus').PENDING_RECIPIENT_MANUAL_REVIEW:case c('P2PTransferStatus').PENDING_RECIPIENT_NUX:case c('P2PTransferStatus').PENDING_RECIPIENT_PROCESSING:case c('P2PTransferStatus').PENDING_PUSH_FAIL:return this.viewerIsReceiver();case c('P2PTransferStatus').PENDING_SENDER_MANUAL_REVIEW:case c('P2PTransferStatus').PENDING_SENDER_VERIFICATION:case c('P2PTransferStatus').PENDING_SENDER_VERIFICATION_PROCESSING:case c('P2PTransferStatus').CANCELED_SENDER_RISK:case c('P2PTransferStatus').CANCELED_DECLINED:case c('P2PTransferStatus').CANCELED_RECIPIENT_RISK:case c('P2PTransferStatus').CANCELED_SYSTEM_FAIL:case c('P2PTransferStatus').CANCELED_EXPIRED:case c('P2PTransferStatus').CANCELED_SAME_CARD:return true;case c('P2PTransferStatus').COMPLETED:case c('P2PTransferStatus').PENDING_SENDER_INITED:return false;default:return false;}}.bind(this),this.shouldRenderBannerFooter=function(){if(c('P2PNUXRendererUtils').doesNUXNeedCreditCards(this.props.transfer)&&!c('P2PCreditCardStore').isCreditCardsFetchComplete()||this.viewerIsThirdParty())return false;return c('P2PNUXRendererUtils').isRecipientActionableStatus(this.props.transfer);}.bind(this),this.handleConfirmInfoButtonClicked=function(){c('P2PVerificationFlowHelper').startVerificationFlow(this.props.transfer[c('P2PTransferParam').TRANSFER_ID],false);}.bind(this),this.handleAddCardButtonClicked=function(){c('P2PActions').showDialog(c('P2PAcceptMoneyDialog.react'),{creditCards:this.props.creditCards,onClose:this.handleAcceptMoneyDialogClose,transfer:this.props.transfer});}.bind(this),this.handleAcceptMoneyDialogClose=function(){c('P2PActions').hideDialog();},this.renderInlineBanner=function(){var s=this.props.transfer[c('P2PTransferParam').STATUS];if(s===c('P2PTransferStatus').PENDING_RECIPIENT_NUX){return this.renderPendingRecipientNUX();}else if(s===c('P2PTransferStatus').PENDING_RECIPIENT_VERIFICATION){return this.renderPendingRecipientVerification();}else if(s===c('P2PTransferStatus').PENDING_PUSH_FAIL)return this.renderPendingPushFail();}.bind(this),this.renderPendingRecipientNUX=function(){var s=this.props.transfer;return c('React').createElement('div',null,c('React').createElement('div',{className:"_3asc"},i._("{sender_name} sent you money!",[i.param('sender_name',s.sender.name)])),c('React').createElement('div',{className:"_3asd"},i._("It's free to accept it. Just add a debit card."),c('React').createElement('div',{className:"_2pic"},c('React').createElement(c('P2PEncryptedText.react'),{showPasswordProtected:true}))),c('React').createElement('div',{className:"_5abs"},c('React').createElement(c('P2PButton.react'),{use:'confirm',size:'medium',label:i._("Add Debit Card"),type:'primary',onClick:this.handleAddCardButtonClicked})));}.bind(this),this.renderPendingRecipientVerification=function(){return c('React').createElement('div',null,c('React').createElement('div',{className:"_3asc"},i._("Please Confirm your Info")),c('React').createElement('div',{className:"_3asd"},i._("To accept the money {sender_name} sent you, please confirm your information.",[i.param('sender_name',this.props.transfer.sender.name)])),c('React').createElement('div',{className:"_5abs"},c('React').createElement(c('P2PButton.react'),{use:'confirm',size:'medium',label:i._("Confirm Info"),type:'primary',onClick:this.handleConfirmInfoButtonClicked})));}.bind(this),this.renderPendingPushFail=function(){var s=this.props.transfer;return c('React').createElement('div',null,c('React').createElement('div',{className:"_3asc"},i._("Update Your Card")),c('React').createElement('div',{className:"_3asd"},i._("{currency}{amount} from {sender_name} couldn't be deposited using your debit card.",[i.param('currency',s.currency),i.param('amount',s.amount),i.param('sender_name',s.sender.name)])),c('React').createElement('div',{className:"_5abs"},c('React').createElement(c('P2PButton.react'),{use:'confirm',size:'medium',label:i._("Learn More"),type:'primary',href:new (c('URI'))(c('P2PLinkConstants').helpTransferPushFailURI),target:'_blank'})));}.bind(this),this.getTransferStatusDate=function(){var s=void 0,t=this.props.transfer[c('P2PTransferParam').STATUS];switch(t){case c('P2PTransferStatus').COMPLETED:s=this.props.transfer.completedTime;break;case c('P2PTransferStatus').CANCELED_SENDER_RISK:case c('P2PTransferStatus').CANCELED_DECLINED:case c('P2PTransferStatus').CANCELED_RECIPIENT_RISK:case c('P2PTransferStatus').CANCELED_SYSTEM_FAIL:case c('P2PTransferStatus').CANCELED_EXPIRED:case c('P2PTransferStatus').CANCELED_SAME_CARD:s=this.props.transfer.updatedTime;break;}if(!s)s=this.props.transfer.creationTime;return s;}.bind(this),this.getTransferDetailsURI=function(){if(!this.viewerIsThirdParty())return c('XP2PTransactionDetailController').getURIBuilder().setString('id',this.props.transfer[c('P2PTransferParam').TRANSFER_ID]).getURI();}.bind(this),this.handleBubbleClick=function(){if(this.viewerIsThirdParty())c('P2PActions').showDialog(c('P2PGroupSendReceiptDialog.react'),{amount:this.props.transfer.amount,onClose:this.handleGroupSendReceiptClosed,receiver:this.props.transfer.receiver,sender:this.props.transfer.sender});}.bind(this),this.handleGroupSendReceiptClosed=function(){c('P2PActions').hideDialog();},o;}m.prototype.render=function(){var n=void 0,o=this.props.transfer.memoText,p=this.props.transfer.memoPhotoURLs,q=false;if(this.shouldRenderBannerFooter())n=this.renderInlineBanner()||undefined;q=!!(o&&n);return c('React').createElement(c('P2PMercuryAttachmentBubble.react'),{amount:this.props.transfer.amount,date:this.getTransferStatusDate(),detailsURI:this.getTransferDetailsURI(),bannerContent:n,forceMemoTextShown:q,isGroupThread:!!this.props.transfer.groupThreadFBID,isMessagesView:this.props.theme==='messages',isPending:this.isGrayStatus(),isSender:this.viewerIsSender(),memoText:o,memoPhotoURLs:p,onClick:this.handleBubbleClick,receiverName:this.props.transfer.receiver.full_name,statusText:this.getStatus()});};m.propTypes={creditCards:l.array.isRequired,transfer:l.object.isRequired,theme:l.string};f.exports=m;}),null);
__d('P2PMercuryShareAttachmentContainer.react',['cx','MercuryShareAttachmentReactShape','MercuryShareAttachmentRenderLocations','P2PActions','P2PCreditCardStore','P2PMercuryAttachment.react','P2PNUXRendererUtils','P2PTransferStore','React','StoreAndPropBasedStateMixin'],(function a(b,c,d,e,f,g,h){'use strict';var i=c('React').PropTypes,j=c('React').createClass({displayName:'P2PMercuryShareAttachmentContainer',propTypes:{attachment:c('MercuryShareAttachmentReactShape'),location:i.oneOf(c('MercuryShareAttachmentRenderLocations').getValues())},mixins:[c('StoreAndPropBasedStateMixin')(c('P2PTransferStore'),c('P2PCreditCardStore'))],statics:{calculateState:function k(l){var m=[],n=l.attachment.target,o=n&&c('P2PTransferStore').getTransferByID(n.transfer_id);if(o&&c('P2PNUXRendererUtils').doesNUXNeedCreditCards(o))m=c('P2PCreditCardStore').getAll();return {creditCardAsyncRequestState:c('P2PCreditCardStore').getAsyncRequestState(),creditCards:m,transfer:o};}},componentWillMount:function k(){var l=this.props.attachment.target;if(l&&!c('P2PTransferStore').getTransferByID(l.transfer_id))c('P2PActions').transferAdded(l);},render:function k(){var l=this.state.transfer;if(!l)return c('React').createElement('span',null);var m={creditCards:this.state.creditCards,creditCardAsyncRequestState:this.state.creditCardAsyncRequestState,transfer:l};if(this.props.location===c('MercuryShareAttachmentRenderLocations').MESSENGER)m.theme='messenger';return c('React').createElement('div',{className:"_3fyk"},c('React').createElement(c('P2PMercuryAttachment.react'),m));}});f.exports=j;}),null);